!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,p=[],h=!1,l=-1;function u(){h&&c&&(h=!1,c.length?p=c.concat(p):l=-1,p.length&&d())}function d(){if(!h){var e=s(u);h=!0;for(var t=p.length;t;){for(c=p,p=[];++l<t;)c&&c[l].run();l=-1,t=p.length}c=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new f(e,t)),1!==p.length||h||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,a,s,c=1,p={},h=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},i=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,i=function(e){var t=l.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(f,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return p[c]=r,i(c),c++},u.clearImmediate=d}function d(e){delete p[e]}function f(e){if(h)setTimeout(f,0,e);else{var t=p[e];if(t){h=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{d(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(1))},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(2),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(t){!function(n){var i=1,r=(new Date).getTime().toString(16).slice(8);function o(){return"_"+r+i++}function a(){}function s(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];void 0!==i&&(e[n]=i)}return e}function c(e,t){var n=e.prototype,i=new Function;i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,s(e.prototype,n)}function p(e,t){if(e&&e.length>0)for(var n=0,i=e.length;n<i&&!1!==t(e[n],n);n++);}function h(e,t){var n=Function.prototype.bind,i=Array.prototype.slice;if(n&&e.bind===n)return n.apply(e,i.call(arguments,1));var r=i.call(arguments,2);return function(){return e.apply(t,r.concat(i.call(arguments)))}}function l(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent("on"+t,n)}function u(e){var t={};return p(e.split(","),function(e){t[e]=1}),t}var d=u("svg,g,defs,desc,metadata,symbol,use,image,path,rect,circle,line,ellipse,polyline,polygon,text,tspan,tref,textpath,marker,pattern,clippath,mask,filter,cursor,view,animate,font,font-face,glyph,missing-glyph");function f(e){return d[e]?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function v(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var m,g=[],y="function"==typeof Promise&&/native code/.test(Promise);function w(e,n){if(n&&(e=h(e,n)),g.push(e),!m)if(m=function(){var e=g.slice(0);g=[],m=null;for(var t=0,n=e.length;t<n;t++)e[t]()},"function"==typeof t)t(m);else if("function"==typeof MessageChannel){var i=new MessageChannel,r=i.port2;i.port1.onmessage=m,r.postMessage(1)}else y?Promise.resolve().then(m):setTimeout(m,0)}var x="undefined"!=typeof navigator&&navigator.userAgent.match(/msie\s*([0-9]+)/i),N=x?x[1]-0:0,E=N&&N<9;function T(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}9===N&&l(document,"selectionchange",function(){var e=document.activeElement;"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||T(e,"input")});var C=u("area,base,br,col,embed,hr,img,input,keygen,param,source,track,wbr"),R="<<anonymous>>";function b(e){return e&&1===e.nodeType?"element":Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function _(e){var t=function(){};t.isRequired=a;var n=function(t,n,i,r,o){var a=n[i],s=b(a);if(r=r||R,null!=a)e(n,i,r,o);else if(t)throw new Error("[SAN ERROR] The `"+i+"` is marked as required in `"+r+"`, but its value is "+s)};return(t=h(n,null,!1)).isRequired=h(n,null,!0),t}function S(e){return _(function(t,n,i,r){var o=b(t[n]);if(o!==e)throw new Error("[SAN ERROR] Invalid "+i+" data `"+r+"` of type("+o+" supplied to "+i+", expected "+e+")")})}var A=(_(a),_(a),_(a),_(a),_(a),_(a),_(a));function O(e){this.source=e,this.len=this.source.length,this.index=0}function k(e){return(e=e||{}).textExpr||(e.directives=e.directives||{},e.props=e.props||[],e.events=e.events||[],e.children=e.children||[]),e}function I(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}A={any:_(a),array:S("array"),object:S("object"),func:S("function"),string:S("string"),number:S("number"),bool:S("boolean"),symbol:S("symbol"),arrayOf:function(e){return _(function(t,n,i,r){if("function"!=typeof e)throw new Error("[SAN ERROR] Data `"+n+"` of `"+i+"` has invalid DataType notation inside `arrayOf`, expected `function`");var o=t[n],a=b(o);if("array"!==a)throw new Error("[SAN ERROR] Invalid "+i+" data `"+r+"` of type("+a+" supplied to "+i+", expected array)");for(var s=0,c=o.length;s<c;s++)e(o,s,i,r+"["+s+"]")})},instanceOf:function(e){return _(function(t,n,i,r){var o=t[n];if(!(o instanceof e)){var a=o.constructor&&o.constructor.name?o.constructor.name:R,s=e.name||R;throw new Error("[SAN ERROR] Invalid "+i+" data `"+r+"` of type("+a+" supplied to "+i+", expected instance of "+s+")")}})},shape:function(e){return _(function(t,n,i,r){if("object"!==b(e))throw new Error("[SAN ERROR] Data `"+r+"` of `"+i+"` has invalid DataType notation inside `shape`, expected `object`");var o=t[n],a=b(o);if("object"!==a)throw new Error("[SAN ERROR] Invalid "+i+" data `"+r+"` of type("+a+" supplied to "+i+", expected object)");for(var s in e)if(e.hasOwnProperty(s)){var c=e[s];"function"==typeof c&&c(o,s,i,r+"."+s)}})},oneOf:function(e){return _(function(t,n,i,r){if("array"!==b(e))throw new Error("[SAN ERROR] Data `"+r+"` of `"+i+"` has invalid DataType notation inside `oneOf`, array is expected.");for(var o=t[n],a=0,s=e.length;a<s;a++)if(o===e[a])return;throw new Error("[SAN ERROR] Invalid "+i+" data `"+r+"` of value(`"+o+"` supplied to "+i+", expected one of "+e.join(",")+")")})},oneOfType:function(e){return _(function(t,n,i,r){if("array"!==b(e))throw new Error("[SAN ERROR] Data `"+n+"` of `"+i+"` has invalid DataType notation inside `oneOf`, array is expected.");for(var o=t[n],a=0,s=e.length;a<s;a++){var c=e[a];if("function"==typeof c)try{return void c(t,n,i,r)}catch(e){}}throw new Error("[SAN ERROR] Invalid "+i+" data `"+n+"` of value(`"+o+"` supplied to "+i+")")})},objectOf:function(e){return _(function(t,n,i,r){if("function"!=typeof e)throw new Error("[SAN ERROR] Data `"+n+"` of `"+i+"` has invalid DataType notation inside `objectOf`, expected function");var o=t[n],a=b(o);if("object"!==a)throw new Error("[SAN ERROR] Invalid "+i+" data `"+n+"` of type("+a+" supplied to "+i+", expected object)");for(var s in o)o.hasOwnProperty(s)&&e(o,s,i,r+"."+s)})},exact:function(e){return _(function(t,n,i,r,o){if("object"!==b(e))throw new Error("[SAN ERROR] Data `"+n+"` of `"+i+"` has invalid DataType notation inside `exact`");var a=t[n],c=b(a);if("object"!==c)throw new Error("[SAN ERROR] Invalid data `"+r+"` of type `"+c+"`(supplied to "+i+", expected `object`)");var p={};for(var h in s(p,e),s(p,a),p)if(p.hasOwnProperty(h)){var l=e[h];if(!l)throw new Error("[SAN ERROR] Invalid data `"+r+"` key `"+h+"` supplied to `"+i+"`. (`"+h+"` is not defined in `DataTypes.exact`)");if(!(h in a))throw new Error("[SAN ERROR] Invalid data `"+r+"` key `"+h+"` supplied to `"+i+"`. (`"+h+"` is marked `required` in `DataTypes.exact`)");l(a,h,i,r+"."+h,o)}})}},O.prototype.currentCode=function(){return this.charCode(this.index)},O.prototype.cut=function(e,t){return this.source.slice(e,t)},O.prototype.go=function(e){this.index+=e},O.prototype.nextCode=function(){return this.go(1),this.currentCode()},O.prototype.charCode=function(e){return this.source.charCodeAt(e)},O.prototype.goUntil=function(e){for(var t;this.index<this.len&&(t=this.currentCode());)switch(t){case 32:case 9:this.index++;break;default:return t===e?(this.index++,1):void 0}},O.prototype.match=function(e){e.lastIndex=this.index;var t=e.exec(this.source);return t&&(this.index=e.lastIndex),t};var P={STRING:1,NUMBER:2,BOOL:3,ACCESSOR:4,INTERP:5,CALL:6,TEXT:7,BINARY:8,UNARY:9,TERTIARY:10};function L(e){return{type:P.ACCESSOR,paths:e}}function j(e){return e.match(/\s*([\$0-9a-z_]+)/gi)[1]}function M(e){var t=function e(t){var n=function e(t){var n=function(e){var t=$(e);e.goUntil();var n=e.currentCode();switch(n){case 61:case 33:if(61===e.nextCode())return n+=61,61===e.nextCode()&&(n+=61,e.go(1)),{type:P.BINARY,operator:n,segs:[t,$(e)]};e.go(-1)}return t}(t);if(t.goUntil(),38===t.currentCode()){if(38===t.nextCode())return t.go(1),{type:P.BINARY,operator:76,segs:[n,e(t)]};t.go(-1)}return n}(t);if(t.goUntil(),124===t.currentCode()){if(124===t.nextCode())return t.go(1),{type:P.BINARY,operator:248,segs:[n,e(t)]};t.go(-1)}return n}(e);if(e.goUntil(),63===e.currentCode()){e.go(1);var n=M(e);if(e.goUntil(),58===e.currentCode())return e.go(1),{type:P.TERTIARY,segs:[t,n,M(e)]}}return t}function D(e){var t=j(e);switch(t){case"true":case"false":return{type:P.BOOL,value:"true"===t}}var n=L([{type:P.STRING,value:t}]);e:for(;;)switch(e.currentCode()){case 46:e.go(1),n.paths.push({type:P.STRING,value:j(e)});break;case 91:e.go(1),n.paths.push(M(e)),e.goUntil(93);break;default:break e}return n}function B(e){switch(e.goUntil(),e.currentCode()){case 33:return e.go(1),{type:P.UNARY,expr:B(e)};case 34:case 39:return function(e){var t,n=e.currentCode(),i=e.index;e:for(;t=e.nextCode();)switch(t){case 92:e.go(1);break;case n:e.go(1);break e}var r=e.cut(i,e.index);return{type:P.STRING,value:new Function("return "+r)()}}(e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e){var t=e.match(/\s*(-?[0-9]+(\.[0-9]+)?)/g);return{type:P.NUMBER,value:t[1]-0}}(e);case 40:return function(e){e.go(1);var t=M(e);return e.goUntil(41),t}(e)}return D(e)}function U(e){for(var t=B(e);;){e.goUntil();var n=e.currentCode();switch(n){case 37:case 42:case 47:e.go(1),t={type:P.BINARY,operator:n,segs:[t,B(e)]};continue}break}return t}function F(e){for(var t=U(e);;){e.goUntil();var n=e.currentCode();switch(n){case 43:case 45:e.go(1),t={type:P.BINARY,operator:n,segs:[t,U(e)]};continue}break}return t}function $(e){var t=F(e);e.goUntil();var n=e.currentCode();switch(n){case 60:case 62:return 61===e.nextCode()&&(n+=61,e.go(1)),{type:P.BINARY,operator:n,segs:[t,F(e)]}}return t}function Y(e){if("object"==typeof e&&e.type)return e;var t=M(new O(e));return t.raw=e,t}function G(e,t){e.goUntil();var n=D(e),i=[];if(e.goUntil(40))for(;!e.goUntil(41);)i.push(M(e)),e.goUntil(44);else t&&(i=t);return{type:P.CALL,name:n,args:i}}function X(e,t){var n=G(new O(e),t);return n.raw=e,n}function z(e){for(var t=new O(e),n={type:P.INTERP,expr:M(t),filters:[],raw:e};t.goUntil(124);){var i=G(t);switch(i.name.paths[0].value){case"html":break;case"raw":n.original=1;break;default:n.filters.push(i)}}return n}var W={lt:"<",gt:">",nbsp:" ",quot:'"',emsp:" ",ensp:" ",thinsp:" ",copy:"©",reg:"®",zwnj:"‌",zwj:"‍",amp:"&"};function q(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+\\]/g,function(e){return"\\"+e})}function H(e,t){t=t||["{{","}}"];var n,i=new RegExp(q(t[0])+"\\s*([\\s\\S]+?)\\s*"+q(t[1]),"ig"),r=new O(e),o=0,a={type:P.TEXT,segs:[]};function s(e){var t;e&&a.segs.push({type:P.STRING,literal:e,value:(t=e,t.replace(/&#([0-9]+);/g,function(e,t){return String.fromCharCode(+t)}).replace(/&#x([0-9a-f]+);/gi,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/&([a-z]+);/gi,function(e,t){return W[t]||e}))})}for(;null!=(n=r.match(i));){s(r.cut(o,r.index-n[0].length));var c=z(n[1]);a.original=a.original||c.original,a.segs.push(c),o=r.index}return s(r.cut(o)),1===a.segs.length&&a.segs[0].type===P.STRING&&(a.value=a.segs[0].value),a}var V={for:function(e){var t=new O(e),n=t.match(/^\s*([\$0-9a-z_]+)(\s*,\s*([\$0-9a-z_]+))?\s+in\s+/gi);if(n)return{item:Y(n[1]),index:Y(n[3]||"$index"),value:D(t)};throw new Error("[SAN FATAL] for syntax error: "+e)},ref:function(e,t){return{value:H(e,t.delimiters)}},if:function(e){return{value:Y(e.replace(/(^\{\{|\}\}$)/g,""))}},elif:function(e){return{value:Y(e.replace(/(^\{\{|\}\}$)/g,""))}},else:function(e){return{value:{}}},html:function(e){return{value:Y(e.replace(/(^\{\{|\}\}$)/g,""))}},transition:function(e){return{value:X(e)}}};function J(e){var t=e.expr;if(t.type===P.TEXT)switch(t.segs.length){case 0:e.expr={type:P.BOOL,value:!0};break;case 1:(t=e.expr=t.segs[0]).type===P.INTERP&&0===t.filters.length&&(e.expr=t.expr)}}function K(e,t,n,i){var r,o,a=t.indexOf("-");switch(a>0&&(o=t.slice(0,a),r=t.slice(a+1)),o){case"on":var s,c={name:r,modifier:{}};for(e.events.push(c);(s=n.indexOf(":"))>0;){var p=n.slice(0,s);if(!/^[a-z]+$/i.test(p))break;c.modifier[p]=!0,n=n.slice(s+1)}c.expr=X(n,[L([{type:P.STRING,value:"$event"}])]);break;case"san":case"s":!function(e,t,n,i){"else-if"===t&&(t="elif");var r=V[t];r&&((e.directives[t]=r(n,i)).raw=n)}(e,r,n,i);break;case"prop":Q(e,r,n,i);break;case"var":e.vars||(e.vars=[]),r=I(r),e.vars.push({name:r,expr:Y(n.replace(/(^\{\{|\}\}$)/g,""))});break;default:Q(e,t,n,i)}}function Q(e,t,n,i){var r=n.match(/^\{=\s*(.*?)\s*=\}$/);if(r)e.props.push({name:t,expr:Y(r[1]),x:1,raw:n});else{var o={name:t,expr:H(n,i.delimiters),raw:n};switch(t){case"class":case"style":p(o.expr.segs,function(e){e.type===P.INTERP&&e.filters.push({type:P.CALL,name:L([{type:P.STRING,value:"_"+o.name}]),args:[]})});break;case"checked":"input"===e.tagName&&J(o)}e.props.push(o)}}function Z(e,t){for(var n=["ROOT"],i=1,r=e.length;i<r;i++)n.push(e[i].tagName);return t&&n.push(t),n.join(">")}function ee(e,t){(t=t||{}).trimWhitespace=t.trimWhitespace||"none";var n=k();if("string"!=typeof e)return n;for(var i,r=new O(e=e.replace(/<!--([\s\S]*?)-->/gm,"").replace(/(^\s+|\s+$)/g,"")),o=/<(\/)?([a-z0-9-]+)\s*/gi,a=/([-:0-9a-z\(\)\[\]]+)(\s*=\s*(['"])([^\3]*?)\3)?\s*/gi,s=n,c=[n],p=0,h=0;null!=(i=r.match(o));){var l=i[1],u=i[2].toLowerCase();if(N(e.slice(h,r.index-i[0].length)),l&&62===r.currentCode()){var d=p;if(C[u])throw new Error("[SAN ERROR] "+Z(c,u)+" is a `auto closed` tag, so it cannot be closed with </"+u+">");if(c[d].tagName!==u&&("table"!==u||"tbody"!==c[d].tagName))throw new Error("[SAN ERROR] "+Z(c)+" is closed with "+u);for(;d>0&&c[d].tagName!==u;)d--;d>0&&(s=c[p=d-1]),r.go(1)}else{if(l){if(60===r.currentCode())throw new Error("[SAN ERROR] "+Z(c)+"'s close tag not closed");throw new Error("[SAN ERROR] "+Z(c)+"'s close tag has attributes")}if(!l){for(var f=k({tagName:u}),v=C[u];;){var m=r.currentCode();if(62===m){r.go(1);break}if(47===m&&62===r.charCode(r.index+1)){r.go(2),v=1;break}if(60===m)throw new Error("[SAN ERROR] "+Z(c,u)+" is not closed");var g=r.match(a);if(g){if(61===r.charCode(g.index+g[1].length)&&!g[2])throw new Error("[SAN ERROR] "+Z(c,u)+" attribute `"+g[1]+'` is not wrapped with ""');K(f,g[1],g[2]?g[4]:"",t)}}if(f.directives.else||f.directives.elif)for(var y=s.children.length;y--;){var w=s.children[y];if(!w.textExpr){if(!w.directives.if)throw new Error("[SAN FATEL] else not match if.");w.elses=w.elses||[],w.elses.push(f);break}s.children.splice(y,1)}else{if("tr"===f.tagName&&"table"===s.tagName){var x=k({tagName:"tbody"});s.children.push(x),s=x,c[++p]=x}s.children.push(f)}v||(s=f,c[++p]=f)}}h=r.index}return N(r.cut(h)),n;function N(e){switch(t.trimWhitespace){case"blank":/^\s+$/.test(e)&&(e=null);break;case"all":e=e.replace(/(^\s+|\s+$)/g,"")}e&&s.children.push(k({textExpr:H(e,t.delimiters)}))}}var te={url:encodeURIComponent,_class:function(e){return e instanceof Array?e.join(" "):e},_style:function(e){if("object"==typeof e){var t="";for(var n in e)t+=n+":"+e[n]+";";return t}return e},_sep:function(e,t){return e?t+e:e}};function ne(e,t,n){if(null!=e.value)return e.value;var i=ae.get(t,e);if(null==i){switch(e.type){case P.UNARY:i=!ne(e.expr,t,n);break;case P.BINARY:var r=ne(e.segs[0],t,n),o=ne(e.segs[1],t,n);switch(e.operator){case 37:i=r%o;break;case 43:i=r+o;break;case 45:i=r-o;break;case 42:i=r*o;break;case 47:i=r/o;break;case 60:i=r<o;break;case 62:i=r>o;break;case 76:i=r&&o;break;case 94:i=r!=o;break;case 121:i=r<=o;break;case 122:i=r==o;break;case 123:i=r>=o;break;case 155:i=r!==o;break;case 183:i=r===o;break;case 248:i=r||o}break;case P.TERTIARY:i=ne(e.segs[ne(e.segs[0],t,n)?1:2],t,n);break;case P.ACCESSOR:i=t.get(e);break;case P.INTERP:if(i=ne(e.expr,t,n),n)for(var a=0,s=e.filters.length;a<s;a++){var c=e.filters[a],p=c.name.paths[0].value;n.filters[p]?i=n.filters[p].apply(n,[i].concat(ie(c.args,t,n))):te[p]&&(i=te[p](i,c.args[0]?c.args[0].value:""))}null==i&&(i="");break;case P.TEXT:var h="";for(a=0,s=e.segs.length;a<s;a++){var l=e.segs[a];h+=l.value||ne(l,t,n)}return h}ae.set(t,e,i)}return i}function ie(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(ne(e[r],t,n));return i}var re={},oe=1,ae={clear:function(){oe||(oe=1,re={})},set:function(e,t,n){t.raw&&(oe=0,(re[e.id]=re[e.id]||{})[t.raw]=n)},get:function(e,t){if(t.raw&&re[e.id])return re[e.id][t.raw]}};function se(e,t,n){for(var i=0,r=t.length;i<r;i++)if(ce(e,t[i],n))return 1;return 0}function ce(e,t,n){switch(t.type){case P.ACCESSOR:for(var i=t.paths,r=i.length,o=e.paths,a=o.length,s=1,c=0;c<r;c++){var h=i[c];if(h.type===P.ACCESSOR&&ce(e,h,n))return 1;s&&c<a&&(h.value||ne(h,n))!=(o[c].value||ne(o[c],n))&&(s=0)}return s&&(s=Math.max(1,a-r+2)),s;case P.UNARY:return ce(e,t.expr,n)?1:0;case P.TEXT:case P.BINARY:case P.TERTIARY:return se(e,t.segs,n);case P.INTERP:var l;return ce(e,t.expr,n)?1:(p(t.filters,function(t){return!(l=se(e,t.args,n))}),l?1:0)}return 0}function pe(e){return this[e]}var he={start:{},compiled:{is:pe,compiled:!0},inited:{is:pe,compiled:!0,inited:!0},painting:{is:pe,compiled:!0,inited:!0,painting:!0},created:{is:pe,compiled:!0,inited:!0,created:!0},attached:{is:pe,compiled:!0,inited:!0,created:!0,attached:!0},leaving:{is:pe,compiled:!0,inited:!0,created:!0,attached:!0,leaving:!0},detached:{is:pe,compiled:!0,inited:!0,created:!0,detached:!0},disposed:{is:pe,disposed:!0}},le={TEXT:1,IF:2,FOR:3,ELEM:4,CMPT:5,SLOT:6,TPL:7};function ue(e,t){var n=e.hotspot.props[t];if(null!=n)return e.props[n]}var de={readonly:"readOnly",cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder",for:"htmlFor"},fe={prop:function(e,t,n,i){var r=de[n]||n;r in e?e[r]=null==t?"":t:e.setAttribute(n,t)},output:function(e,t,n){n.set(t.expr,e.el[t.name],{target:{id:e.id,prop:t.name}})}},ve={prop:function(e,t,n){e.setAttribute(n,t)}},me={prop:function(e,t,n,i,r){e[de[n]||n]=!!(r&&""===r.raw||t&&"false"!==t&&"0"!==t)}},ge={style:{prop:function(e,t){e.style.cssText=t}},class:{prop:function(e,t){e.className=t}},slot:{prop:a},readonly:me,disabled:me,autofocus:me,required:me,draggable:me},ye={checkbox:function(e,t){var n=!1;return p(e,function(e){return!(n=e===t)}),n},radio:function(e,t){return e===t}},we={input:{multiple:me,checked:{prop:function(e,t,n,i){var r=function(e,t,n){var i=ue(e.aNode,"value"),r=ue(e.aNode,"type");if(i&&r){var o=ne(r.expr,e.scope,e.owner);if(ye[o]){var a=ue(e.aNode,"checked");return a.hintExpr||(a.hintExpr=i.expr),!!ye[o](t,ne(i.expr,e.scope,e.owner))}}}(i,t);me.prop(e,null!=r?r:t,"checked",i)},output:function(e,t,n){var i=e.el,r=ue(e.aNode,"value"),o=ue(e.aNode,"type")||{};if(r&&o)switch(o.raw){case"checkbox":return void n[i.checked?"push":"remove"](t.expr,i.value);case"radio":return void(i.checked&&n.set(t.expr,i.value,{target:{id:e.id,prop:t.name}}))}fe.output(e,t,n)}}},option:{value:{prop:function(e,t,n,i){fe.prop(e,t,n,i),function(e,t){for(var n=e.parent;n&&"select"!==n.tagName;)n=n.parent;if(n){var i,r,o=null;if((i=ue(n.aNode,"value"))&&(r=i.expr)&&(o=n.nodeType===le.CMPT?ne(r,n.data,n):ne(r,n.scope,n.owner)||""),o===t)return 1}}(i,t)&&(e.selected=!0)}}},select:{value:{prop:function(e,t){e.value=t||""},output:fe.output}}};function xe(e,t){if(d[e])return ve;var n=we[e];n||(n=we[e]={});var i=n[t];return i||(i=ge[t]||fe,n[t]=i),i}function Ne(e,t,n){var i=e.option.target;return i&&i.id===t.id&&(!n||i.prop===n)}function Ee(e,t,n){for(var i=e,r=0;null!=i&&r<t.paths.length;r++)i=i[ne(t.paths[r],n)];return i}function Te(e,t){this.id=o(),this.parent=t,this.raw=e||{},this.listeners=[]}function Ce(e,t,n,i){if(0===t.length)return n;var r,o=ne(t[0],i);if(e instanceof Array){var a=+o;return(r=e.slice(0))[isNaN(a)?o:a]=Ce(e[a],t.slice(1),n,i),r}if("object"==typeof e){for(var s in r={},e)s!==o&&(r[s]=e[s]);return r[o]=Ce(e[o]||{},t.slice(1),n,i),r}return e}function Re(e,t,n,i){var r=Ee(this,e.expr.name,n);if("function"==typeof r){var o=new Te({$event:t?i:i||window.event},n);r.apply(this,ie(e.expr.args,o,this))}}Te.prototype.checkDataTypes=function(){this.typeChecker&&this.typeChecker(this.raw)},Te.prototype.setTypeChecker=function(e){this.typeChecker=e},Te.prototype.listen=function(e){"function"==typeof e&&this.listeners.push(e)},Te.prototype.unlisten=function(e){for(var t=this.listeners.length;t--;)e&&this.listeners[t]!==e||this.listeners.splice(t,1)},Te.prototype.fire=function(e){if(!(e.option.silent||e.option.silence||e.option.quiet))for(var t=0;t<this.listeners.length;t++)this.listeners[t].call(this,e)},Te.prototype.get=function(e,t){var n=this.raw;if(!e)return n;var i=(e=Y(e)).paths;if(t=t||this,null==(n=n[i[0].value])&&this.parent)n=this.parent.get(e,t);else for(var r=1,o=i.length;null!=n&&r<o;r++)n=n[i[r].value||ne(i[r],t)];return n},Te.prototype.set=function(e,t,n){n=n||{};var i=e;if((e=Y(e)).type!==P.ACCESSOR)throw new Error("[SAN ERROR] Invalid Expression in Data set: "+i);(this.get(e)!==t||n.force)&&(ae.clear(),this.raw=Ce(this.raw,e.paths,t,this),this.fire({type:1,expr:e,value:t,option:n}),this.checkDataTypes())},Te.prototype.merge=function(e,t,n){n=n||{};var i=e;if((e=Y(e)).type!==P.ACCESSOR)throw new Error("[SAN ERROR] Invalid Expression in Data merge: "+i);if("object"!=typeof this.get(e))throw new Error("[SAN ERROR] Merge Expects a Target of Type 'object'; got "+typeof oldValue);if("object"!=typeof t)throw new Error("[SAN ERROR] Merge Expects a Source of Type 'object'; got "+typeof t);for(var r in t)this.set(L(e.paths.concat([{type:P.STRING,value:r}])),t[r],n)},Te.prototype.apply=function(e,t,n){var i=e;if((e=Y(e)).type!==P.ACCESSOR)throw new Error("[SAN ERROR] Invalid Expression in Data apply: "+i);var r=this.get(e);if("function"!=typeof t)throw new Error("[SAN ERROR] Invalid Argument's Type in Data apply: Expected Function but got "+typeof t);this.set(e,t(r),n)},Te.prototype.splice=function(e,t,n){n=n||{};var i=e;if((e=Y(e)).type!==P.ACCESSOR)throw new Error("[SAN ERROR] Invalid Expression in Data splice: "+i);var r=this.get(e),o=[];if(r instanceof Array){var a=t[0];if(a<0||a>r.length)return;var s=r.slice(0);o=s.splice.apply(s,t),ae.clear(),this.raw=Ce(this.raw,e.paths,s,this),this.fire({expr:e,type:2,index:a,deleteCount:o.length,value:o,insertions:t.slice(2),option:n})}return this.checkDataTypes(),o},Te.prototype.push=function(e,t,n){var i=this.get(e);if(i instanceof Array)return this.splice(e,[i.length,0,t],n),i.length+1},Te.prototype.pop=function(e,t){var n=this.get(e);if(n instanceof Array){var i=n.length;if(i)return this.splice(e,[i-1,1],t)[0]}},Te.prototype.shift=function(e,t){return this.splice(e,[0,1],t)[0]},Te.prototype.unshift=function(e,t,n){var i=this.get(e);if(i instanceof Array)return this.splice(e,[0,0,t],n),i.length+1},Te.prototype.removeAt=function(e,t,n){this.splice(e,[t,1],n)},Te.prototype.remove=function(e,t,n){var i=this.get(e);if(i instanceof Array)for(var r=i.length;r--;)if(i[r]===t){this.splice(e,[r,1],n);break}};var be=u("div,span,input,button,textarea,form,label,dl,dt,dd,ul,ol,li,a,b,u,h1,h2,h3,h4,h5,h6"),_e="undefined"!=typeof window;function Se(e,t,n){t&&(n?t.insertBefore(e,n):t.appendChild(e))}function Ae(e){if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&function(e){return/^(col|colgroup|frameset|style|table|tbody|tfoot|thead|tr|select)$/i.test(e.tagName)}(e)){var t='[SAN WARNING] set html for element "'+e.tagName+'" may cause an error in old IE';if("object"!=typeof console||!console.warn)throw new Error(t);console.warn(t)}}function Oe(e){for(var t=[],n=e;n;){switch(n.nodeType){case le.ELEM:t.unshift(n.tagName);break;case le.IF:t.unshift("if");break;case le.FOR:t.unshift("for["+n.anode.directives.for.raw+"]");break;case le.SLOT:t.unshift("slot["+(n.name||"default")+"]");break;case le.TPL:t.unshift("template");break;case le.CMPT:t.unshift("component["+(n.subTag||"root")+"]");break;case le.TEXT:t.unshift("text")}n=n.parent}return t}function ke(e,t,n,i,r){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=i,r){var o=r.current;if(o)switch(o.nodeType){case 8:if("s-text"===o.data)for(this.sel=o,o.data=this.id,r.goNext();;){if(!(o=r.current))throw new Error("[SAN REVERSE ERROR] Text end flag not found. \nPaths: "+Oe(this).join(" > "));if(s="text",8===(a=o).nodeType&&a.data==="/s-"+s){this.el=o,r.goNext(),o.data=this.id;break}r.goNext()}break;case 3:r.goNext(),this.aNode.textExpr.original||(this.el=o)}else this.el=document.createTextNode(""),Se(this.el,r.target,r.current)}var a,s}ke.prototype.nodeType=le.TEXT,ke.prototype.attach=function(e,t){if(this.content=ne(this.aNode.textExpr,this.scope,this.owner),this.aNode.textExpr.original){this.sel=document.createComment(this.id),Se(this.sel,e,t),this.el=document.createComment(this.id),Se(this.el,e,t);var n=document.createElement("script");e.insertBefore(n,this.el),n.insertAdjacentHTML("beforebegin",this.content),e.removeChild(n)}else this.el=document.createTextNode(this.content),Se(this.el,e,t)},ke.prototype.dispose=function(){this._prev=null,this.el=null,this.sel=null};var Ie=_e&&("string"==typeof document.createTextNode("").textContent?"textContent":"data");function Pe(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i.overview){var r=i.expr.paths;i.overview=r[0].value,r.length>1&&(i.extOverview=r[0].value+"."+r[1].value,i.wildOverview=r[0].value+".*")}if(t[i.overview]||i.wildOverview&&t[i.wildOverview]||i.extOverview&&t[i.extOverview])return!0}}function Le(e){this.raw=[],this.index=0,this.target=e;for(var t,n=e.firstChild;n;){switch(t=n.nextSibling,n.nodeType){case 3:/^\s*$/.test(n.data||n.textContent)?v(n):this.raw.push(n);break;case 1:case 8:this.raw.push(n)}n=t}this.current=this.raw[this.index],this.next=this.raw[this.index+1]}function je(e,t,n,i,r){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=i,this.lifeCycle=he.start,this.children=[],this._elFns=[],this.parentComponent=i.nodeType===le.CMPT?i:i.parentComponent,this.id=o(),yt(this),this._toPhase("inited"),r){var a=r.current;if(!a)throw new Error("[SAN REVERSE ERROR] Element not found. \nPaths: "+Oe(this).join(" > "));if(1!==a.nodeType)throw new Error("[SAN REVERSE ERROR] Element type not match, expect 1 but "+a.nodeType+".\nPaths: "+Oe(this).join(" > "));if(a.tagName.toLowerCase()!==this.tagName)throw new Error("[SAN REVERSE ERROR] Element tagName not match, expect "+this.tagName+" but meat "+a.tagName.toLowerCase()+".\nPaths: "+Oe(this).join(" > "));this.el=a,r.goNext(),Ze(this),this._attached()}}function Me(e){e.el=null,e.sel=null,e.owner=null,e.scope=null,e.aNode=null,e.parent=null,e.parentComponent=null,e.children=null,e._toPhase&&e._toPhase("disposed"),e._ondisposed&&e._ondisposed()}function De(e,t,n,i){var r=n.nodeType===le.CMPT,o=r?n:n.childOwner||n.owner;if(i=i||(r?n.data:n.childScope||n.scope),e.textExpr)return new ke(e,o,i,n,t);if(e.directives.if)return new Ke(e,o,i,n,t);if(e.directives.for)return new Ve(e,o,i,n,t);if(be[e.tagName])return new je(e,o,i,n,t);switch(e.tagName){case"slot":return new Ge(e,o,i,n,t);case"template":return new Qe(e,o,i,n,t);default:var a=o.getComponentType(e);if(a)return new a({aNode:e,owner:o,scope:i,parent:n,subTag:e.tagName,reverseWalker:t})}return new je(e,o,i,n,t)}function Be(e,t,n){for(var i=e.children,r=i&&i.length;r--;)i[r].dispose(t,n)}function Ue(e,t){for(var n=0,i=e.children.length;n<i;n++)e.children[n]._update(t)}function Fe(e){this.lifeCycle=he[e]||this.lifeCycle}function $e(e,t,n){var i=t.nodeType===le.CMPT,r=i?t:t.childOwner||t.owner;if(n=n||(i?t.data:t.childScope||t.scope),e.textExpr)return new ke(e,r,n,t);if(e.directives.if)return new Ke(e,r,n,t);if(e.directives.for)return new Ve(e,r,n,t);if(be[e.tagName])return new je(e,r,n,t);switch(e.tagName){case"slot":return new Ge(e,r,n,t);case"template":return new Qe(e,r,n,t);default:var o=r.getComponentType(e);if(o)return new o({aNode:e,owner:r,scope:n,parent:t,subTag:e.tagName})}return new je(e,r,n,t)}function Ye(e,t){this.sel=document.createComment(this.id),Se(this.sel,e,t),function(e,t,n){t=t||e.el;for(var i=e.aNode.children,r=0;r<i.length;r++){var o=$e(i[r],e);e.children.push(o),o.attach(t,n)}}(this,e,t),this.el=document.createComment(this.id),Se(this.el,e,t),this._toPhase("attached")}function Ge(e,t,n,i,r){var a=k();this.aNode=a,this.owner=t,this.scope=n,this.parent=i,this.parentComponent=i.nodeType===le.CMPT?i:i.parentComponent,this.id=o(),this.lifeCycle=he.start,this.children=[],this.nameBind=ue(e,"name"),this.nameBind&&(this.isNamed=!0,this.name=ne(this.nameBind.expr,this.scope,this.owner));var s,c=t.givenSlots;c&&(s=this.isNamed?c.named[this.name]:c.noname),s&&(this.isInserted=!0),a.children=s||e.children.slice(0);var h=this;a.vars=e.vars;var l={};p(a.vars,function(e){h.isScoped=!0,l[e.name]=ne(e.expr,n,t)}),this.isInserted&&(this.childOwner=t.owner,this.childScope=t.scope),this.isScoped&&(this.childScope=new Te(l,this.childScope||this.scope)),t.slotChildren.push(this),r&&(this.sel=document.createComment(this.id),Se(this.sel,r.target,r.current),p(this.aNode.children,function(e){h.children.push(De(e,r,h))}),this.el=document.createComment(this.id),Se(this.el,r.target,r.current),this._toPhase("attached"))}function Xe(e,t){var n={};for(var i in t=t||{},e)t[i]||(n[i]=e[i]);return n}function ze(e){Be(this,e,1),e||v(this.el),Me(this)}function We(){this.el=this.el||document.createComment(this.id)}function qe(e,t,n){this.id=o(),this.parent=e.scope,this.raw={},this.listeners=[],this.directive=e.aNode.directives.for,this.raw[this.directive.item.raw]=t,this.raw[this.directive.index.raw]=n}function He(e,t,n){var i=new qe(e,t,n);return $e(e.itemANode,e,i)}function Ve(e,t,n,i,r){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=i,this.parentComponent=i.nodeType===le.CMPT?i:i.parentComponent,this.id=o(),this.children=[],this.itemANode=k({children:e.children,props:e.props,events:e.events,tagName:e.tagName,vars:e.vars,hotspot:e.hotspot,directives:Xe(e.directives,{for:1})}),this.param=e.directives.for,r){var a=this;p(ne(this.param.value,this.scope,this.owner),function(e,t){var n=new qe(a,e,t),i=De(a.itemANode,r,a,n);a.children.push(i)}),this._create(),Se(this.el,r.target,r.current)}}function Je(e){return k({children:e.children,props:e.props,events:e.events,tagName:e.tagName,vars:e.vars,hotspot:e.hotspot,directives:Xe(e.directives,{if:1,else:1,elif:1})})}function Ke(e,t,n,i,r){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=i,this.parentComponent=i.nodeType===le.CMPT?i:i.parentComponent,this.id=o(),this.children=[],this.cond=this.aNode.directives.if.value,r){if(ne(this.cond,this.scope,this.owner))this.elseIndex=-1,this.children[0]=De(Je(e),r,this);else{var a=this;p(e.elses,function(e,t){var n=e.directives.elif;if(!n||n&&ne(n.value,a.scope,a.owner))return a.elseIndex=t,a.children[0]=De(Je(e),r,a),!1})}this._create(),Se(this.el,r.target,r.current)}}function Qe(e,t,n,i,r){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=i,this.parentComponent=i.nodeType===le.CMPT?i:i.parentComponent,this.id=o(),this.lifeCycle=he.start,this.children=[],r){this.sel=document.createComment(this.id),Se(this.sel,r.target,r.current);var a=this;p(this.aNode.children,function(e){a.children.push(De(e,r,a))}),this.el=document.createComment(this.id),Se(this.el,r.target,r.current),this._toPhase("attached")}}function Ze(e){if(!e.aNode.directives.html){var t=new Le(e.el);p(e.aNode.children,function(n){e.children.push(De(n,t,e))})}}function et(e,t,n){var i=n.name;xe(e.tagName,i).prop(e.el,t,i,e,n)}ke.prototype._update=function(e){if(!this.aNode.textExpr.value)for(var t=e?e.length:0;t--;)if(ce(e[t].expr,this.aNode.textExpr,this.scope)){var n=ne(this.aNode.textExpr,this.scope,this.owner);if(n!==this.content)if(this.content=n,this.aNode.textExpr.original){for(var i=this.sel.nextSibling,r=this.el.parentNode;i!==this.el;){var o=i;i=i.nextSibling,v(o)}Ae(r);var a=document.createElement("script");r.insertBefore(a,this.el),a.insertAdjacentHTML("beforebegin",n),r.removeChild(a)}else this.el[Ie]=n;return}},Le.prototype.goNext=function(){this.current=this.raw[++this.index],this.next=this.raw[this.index+1]},je.prototype.nodeType=le.ELEM,je.prototype.attach=ot,je.prototype.detach=ct,je.prototype.dispose=pt,je.prototype._create=it,je.prototype._toPhase=Fe,je.prototype._onEl=ht,je.prototype._doneLeave=function(){this.leaveDispose?this.lifeCycle.disposed||gt(this,this.disposeNoDetach,this.disposeNoTransition):this.lifeCycle.attached&&(v(this.el),this._toPhase("detached"))},je.prototype._update=function(e){if(Pe(e,this.aNode.hotspot.data)){for(var t=this,n=this.aNode.hotspot.dynamicProps,i=0,r=n.length;i<r;i++)for(var o=n[i],a=0,s=e.length;a<s;a++){var c=e[a];if(!Ne(c,this,o.name)&&(ce(c.expr,o.expr,this.scope)||o.hintExpr&&ce(c.expr,o.hintExpr,this.scope))){et(this,ne(o.expr,this.scope,this.owner),o);break}}var h=this.aNode.directives.html;h?p(e,function(e){if(ce(e.expr,h.value,t.scope))return Ae(t.el),t.el.innerHTML=ne(h.value,t.scope,t.owner),!1}):Ue(this,e)}},je.prototype._attached=mt,Ge.prototype.nodeType=le.SLOT,Ge.prototype.dispose=function(e,t){this.childOwner=null,this.childScope=null,Be(this,e,t),Me(this)},Ge.prototype.attach=Ye,Ge.prototype._toPhase=Fe,Ge.prototype._update=function(e,t){var n=this;if(this.nameBind&&ne(this.nameBind.expr,this.scope,this.owner)!==n.name)return this.owner._notifyNeedReload(),!1;if(t)this.isInserted&&Ue(this,e);else if(this.isScoped){p(this.aNode.vars,function(e){n.childScope.set(e.name,ne(e.expr,n.scope,n.owner))});var i=[];p(e,function(e){n.isInserted||i.push(e),p(n.aNode.vars,function(t){var r=t.name,o=ce(e.expr,t.expr,n.scope);o<1||(2!==e.type?i.push({type:1,expr:L([{type:P.STRING,value:r}]),value:n.childScope.get(r),option:e.option}):2===o&&i.push({expr:L([{type:P.STRING,value:r}]),type:2,index:e.index,deleteCount:e.deleteCount,value:e.value,insertions:e.insertions,option:e.option}))})}),Ue(this,i)}else this.isInserted||Ue(this,e)},qe.prototype.exprResolve=function(e){var t=this.directive,n=this;function i(e){return e.type===P.ACCESSOR&&e.paths[0].value===t.item.paths[0].value?L(t.value.paths.concat({type:P.NUMBER,value:n.get(t.index)},e.paths.slice(1))):e}var r=[];return p((e=i(e)).paths,function(e){r.push(e.type===P.ACCESSOR&&e.paths[0].value===t.index.paths[0].value?{type:P.NUMBER,value:n.get(t.index)}:i(e))}),L(r)},c(qe,Te),p(["set","remove","unshift","shift","push","pop","splice"],function(e){qe.prototype["_"+e]=Te.prototype[e],qe.prototype[e]=function(t){t=this.exprResolve(Y(t)),ae.clear(),this.parent[e].apply(this.parent,[t].concat(Array.prototype.slice.call(arguments,1)))}}),Ve.prototype.nodeType=le.FOR,Ve.prototype._create=We,Ve.prototype.dispose=ze,Ve.prototype.attach=function(e,t){this._create(),Se(this.el,e,t);for(var n=this.el||e.firstChild,i=ne(this.param.value,this.scope,this.owner),r=i&&i.length||0,o=0;o<r;o++){var a=He(this,i[o],o);this.children.push(a),a.attach(e,n)}},Ve.prototype.detach=function(){this.lifeCycle.attached&&(Be(this),this.children=[],v(this.el),this.lifeCycle=he.detached)},Ve.prototype._update=function(e){var t=this,n=this.aNode.directives.transition,i=this.children.length,r=new Array(i);function o(e){for(var t=0,n=r.length;t<n;t++)(r[t]=r[t]||[]).push(e)}for(var a,s=[],c=this.el.parentNode,p=c.firstChild,h=c.lastChild,l=i>0&&p===this.children[0].el&&(h===this.el||h===this.children[i-1].el)||0===i&&p===this.el&&h===this.el,u=ne(this.param.value,this.scope,this.owner),d=u&&u.length||0,f=0,v=e.length;f<v;f++){var m=e[f],g=ce(m.expr,this.param.value,this.scope);if(g){if(g>2){var y=m.expr.paths,w=this.param.value.paths.length,x=+ne(y[w],this.scope,this.owner);isNaN(x)?o(m):(m={type:m.type,expr:L(this.param.item.paths.concat(y.slice(w+1))),value:m.value,index:m.index,deleteCount:m.deleteCount,insertions:m.insertions,option:m.option},(r[x]=r[x]||[]).push(m),this.children[x]&&(2===m.type?this.children[x].scope._splice(m.expr,[].concat(m.index,m.deleteCount,m.insertions),{silent:1}):this.children[x].scope._set(m.expr,m.value,{silent:1})))}else if(2!==m.type){i>d&&(s=s.concat(this.children.slice(d)),r=r.slice(0,d),this.children=this.children.slice(0,d));for(var N=0;N<d;N++)(r[N]=r[N]||[]).push({type:1,option:m.option,expr:L(this.param.item.paths.slice(0)),value:u[N]}),g<2&&r[N].push(m),this.children[N]?this.children[N].scope._set(this.param.item,u[N],{silent:1}):this.children[N]=0;a=1}else if(2===g&&2===m.type&&!a){var E=m.index,T=m.deleteCount,C=m.insertions.length,R=C-T;if(R){var b={type:1,option:m.option,expr:this.param.index};for(N=E+T;N<this.children.length;N++)(r[N]=r[N]||[]).push(b),this.children[N]&&this.children[N].scope._set(b.expr,N-T+C,{silent:1})}for(var _=T;_--;)_<C&&((r[N=E+_]=r[N]||[]).push({type:1,option:m.option,expr:L(this.param.item.paths.slice(0)),value:m.insertions[_]}),this.children[N]&&this.children[N].scope._set(this.param.item,m.insertions[_],{silent:1}));if(R<0)s=s.concat(this.children.splice(E+C,-R)),r.splice(E+C,-R);else if(R>0){var S=[E+T,0].concat(new Array(R));this.children.splice.apply(this.children,S),r.splice.apply(r,S)}}}else o(m)}var A=this.children.length;if(A!==i){var O={type:1,option:{},expr:L(this.param.value.paths.concat({type:P.STRING,value:"length"}))};Pe([O],this.aNode.hotspot.data)&&o(O)}this._doCreateAndUpdate=B;var k=!n&&l&&0===A,I=0;for(N=0;N<s.length;N++){var j=s[N];j?(j._ondisposed=D,j.dispose(k,k)):D()}if(k){var M=c.cloneNode(!1);c.parentNode.replaceChild(M,c),this.el=document.createComment(this.id),M.appendChild(this.el)}function D(){++I===s.length&&B===t._doCreateAndUpdate&&B()}function B(){if(t._doCreateAndUpdate=null,!k){var e=t.el;if(0===i&&l)for(var n=0;n<A;n++)t.children[n]=He(t,u[n],n),t.children[n].attach(c,e);else{var o=-1;for(n=0;n<A;n++){var a=t.children[n];if(a)r[n]&&a._update(r[n]);else{if(o<n)for(o=n+1,e=null;o<A;){var s=t.children[o];if(s){e=s.sel||s.el;break}o++}t.children[n]=He(t,u[n],n),t.children[n].attach(c,e||t.el)}}}}}0===s.length&&B()},Ke.prototype.nodeType=le.IF,Ke.prototype._create=We,Ke.prototype.dispose=ze,Ke.prototype.attach=function(e,t){var n,i,r=this;ne(this.cond,this.scope,this.owner)?(i=$e(Je(r.aNode),r),n=-1):p(r.aNode.elses,function(e,t){var o=e.directives.elif;if(!o||o&&ne(o.value,r.scope,r.owner))return i=$e(Je(e),r),n=t,!1}),i&&(r.children[0]=i,i.attach(e,t),r.elseIndex=n),this._create(),Se(this.el,e,t)},Ke.prototype._update=function(e){var t,n=this,i=n.aNode;if(ne(this.cond,this.scope,this.owner)?t=-1:p(n.aNode.elses,function(e,r){var o=e.directives.elif;if(o&&ne(o.value,n.scope,n.owner)||!o)return t=r,i=e,!1}),t===n.elseIndex)Ue(n,e);else{var r=n.children[0];n.children=[],r?(r._ondisposed=o,r.dispose()):o(),n.elseIndex=t}function o(){if(void 0!==t){var e=$e(Je(i),n);e.attach(n.el.parentNode,n.el),n.children[0]=e}}},Qe.prototype.nodeType=le.TPL,Qe.prototype.attach=Ye,Qe.prototype.dispose=function(e,t){Be(this,e,t),Me(this)},Qe.prototype._toPhase=Fe,Qe.prototype._update=function(e){Ue(this,e)};var tt,nt={class:1,style:1,id:1};function it(){if(!this.lifeCycle.created){this.lifeCycle=he.painting;var e=this.nodeType===le.CMPT,t=this.aNode.hotspot.sourceNode,n=this.aNode.props;t?(this.el=t.cloneNode(),n=this.aNode.hotspot.dynamicProps):this.el=f(this.tagName);for(var i=0,r=n.length;i<r;i++){var o=n[i],a=e?ne(o.expr,this.data,this):ne(o.expr,this.scope,this.owner);!a&&nt[o.name]||et(this,a,o)}this._toPhase("created")}}function rt(e,t,n){if(e._create(),Se(e.el,t,n),!e._contentReady){var i=e.aNode.directives.html;if(i)e.el.innerHTML=ne(i.value,e.scope,e.owner);else for(var r=e.aNode.children,o=0;o<r.length;o++){var a=$e(r[o],e);e.children.push(a),a.attach(e.el)}e._contentReady=1}}function ot(e,t){this.lifeCycle.attached||(rt(this,e,t),this._attached())}function at(e){var t,n=e.nodeType===le.CMPT?e.givenANode:e.aNode,i=n&&n.directives.transition,r=e.owner;return i&&r&&"function"==typeof(t=Ee(r,i.value.name))&&(t=t.apply(r,ie(i.value.args,e.scope,r))),t||e.transition}function st(e){if(!e.lifeCycle.leaving)if(e.disposeNoTransition)e._doneLeave();else{var t=at(e);t&&t.leave?(e._toPhase("leaving"),t.leave(e.el,function(){e._doneLeave()})):e._doneLeave()}}function ct(){st(this)}function pt(e,t){this.leaveDispose=1,this.disposeNoDetach=e,this.disposeNoTransition=t,st(this)}function ht(e,t,n){"function"==typeof t&&(n=!!n,this._elFns.push([e,t,n]),l(this.el,e,t,n))}function lt(e,t){var n=!0,i=t;if(p(e.expr.name.paths,function(e){return!!e.value&&(i=i[e.value],n=!!i)}),!n){var r=[];p(e.expr.name.paths,function(e){r.push(e.value)});var o="[SAN WARNING] "+e.name+' listen fail,"'+r.join(".")+'" not exist';if("object"!=typeof console||!console.warn)throw new Error(o);console.warn(o)}}function ut(){this.composing&&(this.composing=0,T(this,"input"))}function dt(){this.composing=1}function ft(e,t){xe(this.tagName,e.name).output(this,e,t)}function vt(e,t,n){var i=h(ft,e,t,n);return function(e){this.composing||i(e)}}function mt(){this._toPhase("created");for(var e=this.nodeType===le.CMPT,t=e?this.data:this.scope,n=this.aNode.hotspot.xProps,i=0,r=n.length;i<r;i++){var o=n[i];switch(o.name){case"value":switch(this.tagName){case"input":case"textarea":_e&&window.CompositionEvent&&(this._onEl("change",ut),this._onEl("compositionstart",dt),this._onEl("compositionend",ut)),this._onEl("oninput"in this.el?"input":"propertychange",vt(this,o,t));break;case"select":this._onEl("change",h(ft,this,o,t))}break;case"checked":switch(this.tagName){case"input":switch(this.el.type){case"checkbox":case"radio":this._onEl("click",h(ft,this,o,t))}}}}var s=e?this.aNode.events.concat(this.nativeEvents):this.aNode.events;for(i=0,r=s.length;i<r;i++){var c=s[i],p=e?this:this.owner;c.modifier.native&&(p=p.owner,t=this.scope||p.data),lt(c,p),this._onEl(c.name,h(Re,p,c,0,t),c.modifier.capture)}if(this._toPhase("attached"),this._isInitFromEl)this._isInitFromEl=!1;else{var l=at(this);l&&l.enter&&l.enter(this.el,a)}}function gt(e){Be(e,1,1);for(var t,n,i,r,o=e._elFns.length;o--;){var a=e._elFns[o];t=e.el,n=a[0],i=a[1],r=a[2],t.addEventListener?t.removeEventListener(n,i,r):t.detachEvent("on"+n,i)}e._elFns=null,e.disposeNoDetach&&e.parent||v(e.el),e._toPhase&&e._toPhase("detached"),Me(e)}function yt(e){e.tagName=e.tagName||e.aNode.tagName||"div",E&&e.tagName.indexOf("-")>0&&(e.tagName="div")}function wt(e,t){_e&&tt&&tt.debug&&window.__san_devtool__&&window.__san_devtool__.emit(e,t)}function xt(e){e=e||{},this.lifeCycle=he.start,this.children=[],this._elFns=[],this.listeners={},this.slotChildren=[];var t=this.constructor;this.filters=this.filters||t.filters||{},this.computed=this.computed||t.computed||{},this.messages=this.messages||t.messages||{},this.subTag=e.subTag,Et(t),function(e){var t=[];function n(e,n){var i=t.length;p(t,function(t,r){n&&r===i-1||p(e,function(e){t.hotspot.data[e]=1})})}!function e(i){if(!i.hotspot){if(t.push(i),i.textExpr)i.hotspot={data:{}},n(Tt(i.textExpr));else{var r;for(var o in _e&&i.tagName&&!/^(template|slot|select|input|option)$/i.test(i.tagName)&&(r=f(i.tagName)),i.hotspot={data:{},dynamicProps:[],xProps:[],props:{},sourceNode:r},p(i.vars,function(e){n(Tt(e.expr))}),p(i.props,function(e){n(Tt(e.expr))}),i.directives){n(Tt(i.directives[o].value),"html"!==o)}if(p(i.elses,function(t){e(t)}),p(i.children,function(t){e(t)}),p(i.props,function(e,t){i.hotspot.props[e.name]=t,"id"===e.name?(e.id=!0,i.hotspot.idProp=e,i.hotspot.dynamicProps.push(e)):null!=e.expr.value?r&&xe(i.tagName,e.name).prop(r,e.expr.value,e.name,i):(e.x&&i.hotspot.xProps.push(e),i.hotspot.dynamicProps.push(e))}),"option"===i.tagName&&!ue(i,"value")&&i.children[0]){var a={name:"value",expr:i.children[0].textExpr};i.props.push(a),i.hotspot.dynamicProps.push(a),i.hotspot.props.value=i.props.length-1}}t.pop()}}(e.prototype.aNode)}(t);var n=this,i=t.prototype.aNode;n.givenANode=e.aNode,n.givenNamedSlotBinds=[],n.givenSlots={named:{}},this.owner=e.owner,this.scope=e.scope,this.el=e.el;var r,a,c=e.parent;if(c&&(this.parent=c,this.parentComponent=c.nodeType===le.CMPT?c:c&&c.parentComponent),this.id=o(),this.el){var l=this.el.firstChild;if(3===l.nodeType&&(l=l.nextSibling),l&&8===l.nodeType){var u=l.data.match(/^\s*s-data:([\s\S]+)?$/);if(u){var d=u[1];e.data=new Function("return "+d.replace(/^[\s\n]*/,""))(),l.previousSibling&&v(l.previousSibling),v(l)}}}this.nativeEvents=[],this.givenANode&&(this._createGivenSlots(),p(this.givenANode.events,function(t){t.modifier.native?n.nativeEvents.push(t):(lt(t,e.owner),n.on(t.name,h(Re,e.owner,t,1,e.scope),t))}),this.tagName=i.tagName||n.givenANode.tagName,this.binds=(r=this.givenANode.props,a=[],p(r,function(e){a.push({name:I(e.name),expr:e.expr,x:e.x,raw:e.raw})}),a)),this._toPhase("compiled"),this.data=new Te(s("function"==typeof this.initData&&this.initData()||{},e.data)),yt(this),p(this.binds,function(e){if(J(e),n.scope){var t=ne(e.expr,n.scope,n.owner);void 0!==t&&n.data.set(e.name,t)}});var m=this.dataTypes||t.dataTypes;if(m){var g=function(e,t){return function(n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if("function"!=typeof r)throw new Error("[SAN ERROR] "+t+":"+i+" is invalid; it must be a function, usually from san.DataTypes");r(n,i,t,i)}}}(m,this.subTag||this.name||t.name);this.data.setTypeChecker(g),this.data.checkDataTypes()}for(var y in this.computedDeps={},this.computed)this.computedDeps[y]||this._calcComputed(y);this.dataChanger||(this.dataChanger=h(this._dataChanger,this),this.data.listen(this.dataChanger)),this._toPhase("inited"),this.el&&(Ze(this),this._attached());var w=e.reverseWalker;if(w){var x=w.current;x&&1===x.nodeType&&(this.el=x,w.goNext()),Ze(this),this._attached()}}function Nt(e){if("function"==typeof e)return e;if("object"!=typeof e)throw new Error("[SAN FATAL] param must be a plain object.");function t(e){xt.call(this,e)}return t.prototype=e,c(t,xt),t}function Et(e){var t=e.prototype;if(!t.hasOwnProperty("_cmptReady")){t.components=e.components||t.components||{};var n=t.components;for(var i in n){var r=n[i];"object"==typeof r?n[i]=Nt(r):"self"===r&&(n[i]=e)}t._cmptReady=1}if(!t.hasOwnProperty("aNode")){t.aNode=k();var o=e.template||t.template;if(o){var a=ee(o,{trimWhitespace:t.trimWhitespace||e.trimWhitespace,delimiters:t.delimiters||e.delimiters}),s=a.children[0];if(1!==a.children.length||s.textExpr)throw new Error("[SAN FATAL] template must have a root element.");t.aNode=s,"template"===s.tagName&&(s.tagName=null);for(var c={class:{name:"class",expr:H('{{class | _class | _sep(" ")}}')},style:{name:"style",expr:H('{{style | _style | _sep(";")}}')},id:{name:"id",expr:H("{{id}}")}},p=s.props.length;p--;){var h=s.props[p],l=c[h.name];l&&(s.props.splice(p,1),c[h.name]=h,"id"!==h.name&&(h.expr.segs.push(l.expr.segs[0]),h.expr.value=null))}s.props.push(c.class,c.style,c.id)}}}function Tt(e){var t=[];function n(e){p(e,function(e){t=t.concat(Tt(e))})}switch(e.type){case P.ACCESSOR:var i=e.paths;t.push(i[0].value),i.length>1&&t.push(i[0].value+"."+(i[1].value||"*")),n(i.slice(1));break;case P.UNARY:return Tt(e.expr);case P.TEXT:case P.BINARY:case P.TERTIARY:n(e.segs);break;case P.INTERP:t=Tt(e.expr),p(e.filters,function(e){n(e.name.paths),n(e.args)})}return t}wt.start=function(e){tt=e,wt("san",e)},xt.prototype.getComponentType=function(e){return this.components[e.tagName]},xt.prototype._createGivenSlots=function(){var e=this;e.givenSlots.named={},e.givenANode&&e.scope&&p(e.givenANode.children,function(t){var n,i=!t.textExpr&&ue(t,"slot");if(i){!e.givenSlotInited&&e.givenNamedSlotBinds.push(i);var r=ne(i.expr,e.scope,e.owner);(n=e.givenSlots.named[r])||(n=e.givenSlots.named[r]=[])}else e.givenSlotInited||(n=e.givenSlots.noname)||(n=e.givenSlots.noname=[]);n&&n.push(t)}),e.givenSlotInited=!0},xt.prototype.nodeType=le.CMPT,xt.prototype.nextTick=w,xt.prototype._callHook=xt.prototype._toPhase=function(e){this.lifeCycle[e]||(this.lifeCycle=he[e]||this.lifeCycle,"function"==typeof this[e]&&this[e](),wt("comp-"+e,this))},xt.prototype.on=function(e,t,n){"function"==typeof t&&(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({fn:t,declaration:n}))},xt.prototype.un=function(e,t){for(var n=this.listeners[e],i=n&&n.length;i--;)t&&t!==n[i].fn||n.splice(i,1)},xt.prototype.fire=function(e,t){var n=this;p(this.listeners[e],function(e){e.fn.call(n,t)})},xt.prototype._calcComputed=function(e){var t=this.computedDeps[e];t||(t=this.computedDeps[e]={}),this.data.set(e,this.computed[e].call({data:{get:h(function(n){if(!n)throw new Error("[SAN ERROR] call get method in computed need argument");return t[n]||(t[n]=1,this.computed[n]&&this._calcComputed(n),this.watch(n,function(){this._calcComputed(e)})),this.data.get(n)},this)}}))},xt.prototype.dispatch=function(e,t){for(var n=this.parentComponent;n;){var i=n.messages[e]||n.messages["*"];if("function"==typeof i){i.call(n,{target:this,value:t,name:e});break}n=n.parentComponent}},xt.prototype.slot=function(e){var t=[],n=this;return function i(r){p(r,function(r){r.nodeType===le.SLOT&&r.owner===n?(r.isNamed&&r.name===e||!r.isNamed&&!e)&&t.push(r):i(r.children)})}(this.children),t},xt.prototype.ref=function(e){var t,n=this;return function i(r){p(r,function(r){return function(r){if(r.nodeType!==le.TEXT){if(r.owner===n){var o;switch(r.nodeType){case le.ELEM:(o=r.aNode.directives.ref)&&ne(o.value,r.scope,n)===e&&(t=r.el);break;case le.CMPT:(o=r.givenANode.directives.ref)&&ne(o.value,r.scope,n)===e&&(t=r)}!t&&i(r.slotChildren)}!t&&i(r.children)}}(r),!t})}(this.children),t},xt.prototype._update=function(e){if(!this.lifeCycle.disposed){var t=this,n=!1;if(this._notifyNeedReload=function(){n=!0},e)if(p(e,function(e){var i=e.expr;p(t.binds,function(n){var r,o=n.name,a=n.expr;!Ne(e,t,o)&&(r=ce(i,a,t.scope))&&(r>2&&(o=L([{type:P.STRING,value:o}].concat(i.paths.slice(a.paths.length))),a=i),t.data.set(o,ne(a,t.scope,t.owner),{target:{id:t.owner.id}}))}),p(t.givenNamedSlotBinds,function(e){return!(n=n||ce(i,e.expr,t.scope))})}),n)this._createGivenSlots(),this._repaintChildren();else for(var i=this.slotChildren.length;i--;){var r=this.slotChildren[i];r.lifeCycle.disposed?this.slotChildren.splice(i,1):r.isInserted&&r._update(e,1)}var o=this.dataChanges;o&&(this.dataChanges=null,p(this.aNode.hotspot.dynamicProps,function(e){p(o,function(n){if(ce(n.expr,e.expr,t.data)||e.hintExpr&&ce(n.expr,e.hintExpr,t.data))return et(t,ne(e.expr,t.data,t),e),!1})}),Ue(this,o),n&&(this._createGivenSlots(),this._repaintChildren()),this._toPhase("updated"),this.owner&&(this._updateBindxOwner(o),this.owner._update())),this._notifyNeedReload=null}},xt.prototype._updateBindxOwner=function(e){var t=this;this.owner&&p(e,function(e){p(t.binds,function(n){var i=e.expr;if(n.x&&!Ne(e,t.owner)&&ce(i,Y(n.name),t.data)){var r=n.expr;i.paths.length>1&&(r=L(n.expr.paths.concat(i.paths.slice(1)))),t.scope.set(r,ne(i,t.data,t),{target:{id:t.id,prop:n.name}})}})})},xt.prototype._repaintChildren=function(){Be(this,0,1),this.children=[],this._contentReady=0,this.slotChildren=[],rt(this)},xt.prototype._dataChanger=function(e){this.lifeCycle.painting||this.lifeCycle.created?(this.dataChanges||(w(this._update,this),this.dataChanges=[]),this.dataChanges.push(e)):this.lifeCycle.inited&&this.owner&&this._updateBindxOwner([e])},xt.prototype.watch=function(e,t){var n=Y(e);this.data.listen(h(function(e){ce(e.expr,n,this.data)&&t.call(this,ne(n,this.data,this),e)},this))},xt.prototype.dispose=pt,xt.prototype._doneLeave=function(){this.leaveDispose?this.lifeCycle.disposed||(this.slotChildren=null,this.data.unlisten(),this.dataChanger=null,this.dataChanges=null,gt(this,this.disposeNoDetach,this.disposeNoTransition),this.listeners=null,this.givenANode=null,this.givenSlots=null,this.givenNamedSlotBinds=null):this.lifeCycle.attached&&(v(this.el),this._toPhase("detached"))},xt.prototype._attached=mt,xt.prototype.attach=ot,xt.prototype.detach=ct,xt.prototype._create=it,xt.prototype._onEl=ht;var Ct={version:"3.5.7",debug:!0,Component:xt,defineComponent:Nt,compileComponent:Et,parseTemplate:ee,parseExpr:Y,ExprType:P,LifeCycle:he,NodeType:le,nextTick:w,Data:Te,evalExpr:ne,inherits:c,DataTypes:A};e.exports=Ct,wt.start(Ct)}()}).call(this,n(3).setImmediate)},function(e,t,n){"use strict";var i,r=((i=n(4))&&i.__esModule?i:{default:i}).default.defineComponent({template:'\n        <main>\n            <button on-click="add">添加信息</button>\n            <table border="1">\n                <tr>\n                    <th>姓名</th><th>审核状态</th><th>操作</th>\n                </tr>\n                <tr s-for="i,index in person">\n                    <td>{{ i.name }}</td>\n                    <td>{{ i.status | judgeStatus }}</td>\n                    <td>\n                        <button s-if="i.status == 0" on-click="audit(index)">审核</button>\n                        <button s-else on-click="delete(index)">删除</button>\n                    </td>\n                </tr>\n            </table>\n        </main>\n    ',initData:function(){return{person:[]}},add:function(e){this.data.push("person",{name:prompt("请输入添加者姓名"),status:0})},delete:function(e){this.data.removeAt("person",e)},audit:function(e){this.data.set("person["+e+"].status",confirm("是否合格")?1:-1)},filters:{judgeStatus:function(e){return 0==e?"待审核":1==e?"合格":"不合格"}}});window.app=new r,app.attach(document.body)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvX3Byb2Nlc3NAMC4xMS4xMEBwcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL19zZXRpbW1lZGlhdGVAMS4wLjVAc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvX3RpbWVycy1icm93c2VyaWZ5QDIuMC4xMEB0aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9fc2FuQDMuNS43QHNhbi9kaXN0L3Nhbi5kZXYuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZSIsInQiLCJnIiwidGhpcyIsIkZ1bmN0aW9uIiwiZXZhbCIsIndpbmRvdyIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJwcm9jZXNzIiwiZGVmYXVsdFNldFRpbW91dCIsIkVycm9yIiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJsZW5ndGgiLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsImxlbiIsInJ1biIsIm1hcmtlciIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImdsb2JhbCIsInVuZGVmaW5lZCIsInNldEltbWVkaWF0ZSIsInJlZ2lzdGVySW1tZWRpYXRlIiwiaHRtbCIsImNoYW5uZWwiLCJtZXNzYWdlUHJlZml4Iiwib25HbG9iYWxNZXNzYWdlIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJjdXJyZW50bHlSdW5uaW5nQVRhc2siLCJkb2MiLCJkb2N1bWVudCIsImF0dGFjaFRvIiwiZ2V0UHJvdG90eXBlT2YiLCJ0b1N0cmluZyIsImhhbmRsZSIsInJ1bklmUHJlc2VudCIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsInBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMiLCJvbGRPbk1lc3NhZ2UiLCJvbm1lc3NhZ2UiLCJNYXRoIiwicmFuZG9tIiwiZXZlbnQiLCJzb3VyY2UiLCJkYXRhIiwiaW5kZXhPZiIsInNsaWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsInBvcnQyIiwiY3JlYXRlRWxlbWVudCIsImRvY3VtZW50RWxlbWVudCIsInNjcmlwdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJjYWxsYmFjayIsInRhc2siLCJjbGVhckltbWVkaWF0ZSIsInNlbGYiLCJzY29wZSIsIlRpbWVvdXQiLCJpZCIsImNsZWFyRm4iLCJfaWQiLCJfY2xlYXJGbiIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJpdGVtIiwibXNlY3MiLCJfaWRsZVRpbWVvdXRJZCIsIl9pZGxlVGltZW91dCIsInVuZW5yb2xsIiwiX3VucmVmQWN0aXZlIiwiYWN0aXZlIiwiX29uVGltZW91dCIsInJvb3QiLCJndWlkSW5kZXgiLCJndWlkUHJlZml4IiwiRGF0ZSIsImdldFRpbWUiLCJndWlkIiwiZW1wdHkiLCJleHRlbmQiLCJ0YXJnZXQiLCJrZXkiLCJpbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInN1YkNsYXNzUHJvdG8iLCJGIiwiY29uc3RydWN0b3IiLCJlYWNoIiwiaXRlcmF0b3IiLCJiaW5kIiwiZnVuYyIsInRoaXNBcmciLCJuYXRpdmVCaW5kIiwiZWwiLCJldmVudE5hbWUiLCJsaXN0ZW5lciIsImNhcHR1cmUiLCJzcGxpdFN0cjJPYmoiLCJyZXN1bHQiLCJzcGxpdCIsInN2Z1RhZ3MiLCJjcmVhdGVFbCIsInRhZ05hbWUiLCJjcmVhdGVFbGVtZW50TlMiLCJyZW1vdmVFbCIsInBhcmVudE5vZGUiLCJuZXh0SGFuZGxlciIsIm5leHRUYXNrcyIsImlzTmF0aXZlUHJvbWlzZSIsIlByb21pc2UiLCJ0ZXN0IiwiZm4iLCJ0YXNrcyIsInBvcnQiLCJyZXNvbHZlIiwidGhlbiIsImllVmVyc2lvbk1hdGNoIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJpZSIsImllT2xkVGhhbjkiLCJ0cmlnZ2VyIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiYWN0aXZlRWxlbWVudCIsImF1dG9DbG9zZVRhZ3MiLCJBTk9OWU1PVVNfQ0xBU1NfTkFNRSIsImdldERhdGFUeXBlIiwib2JqIiwibm9kZVR5cGUiLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZUNoYWluYWJsZUNoZWNrZXIiLCJ2YWxpZGF0ZSIsImNoYWluZWRDaGVja2VyIiwiaXNSZXF1aXJlZCIsImNoZWNrVHlwZSIsImRhdGFOYW1lIiwiY29tcG9uZW50TmFtZSIsImZ1bGxEYXRhTmFtZSIsImRhdGFWYWx1ZSIsImRhdGFUeXBlIiwiY3JlYXRlUHJpbWFyeVR5cGVDaGVja2VyIiwidHlwZSIsIkRhdGFUeXBlcyIsIldhbGtlciIsImluZGV4IiwiY3JlYXRlQU5vZGUiLCJvcHRpb25zIiwidGV4dEV4cHIiLCJkaXJlY3RpdmVzIiwicHJvcHMiLCJldmVudHMiLCJjaGlsZHJlbiIsImtlYmFiMmNhbWVsIiwicmVwbGFjZSIsImFscGhhIiwidG9VcHBlckNhc2UiLCJhbnkiLCJzdHJpbmciLCJudW1iZXIiLCJib29sIiwic3ltYm9sIiwiYXJyYXlPZiIsImFycmF5SXRlbUNoZWNrZXIiLCJpbnN0YW5jZU9mIiwiZXhwZWN0ZWRDbGFzcyIsImRhdGFWYWx1ZUNsYXNzTmFtZSIsImV4cGVjdGVkQ2xhc3NOYW1lIiwic2hhcGUiLCJzaGFwZVR5cGVzIiwic2hhcGVLZXlOYW1lIiwiY2hlY2tlciIsIm9uZU9mIiwiZXhwZWN0ZWRFbnVtVmFsdWVzIiwiam9pbiIsIm9uZU9mVHlwZSIsImV4cGVjdGVkRW51bU9mVHlwZVZhbHVlcyIsIm9iamVjdE9mIiwidHlwZUNoZWNrZXIiLCJkYXRhS2V5TmFtZSIsImV4YWN0Iiwic2VjcmV0IiwiZGF0YVZhbHVlVHlwZSIsImFsbEtleXMiLCJjdXJyZW50Q29kZSIsImNoYXJDb2RlIiwiY3V0Iiwic3RhcnQiLCJlbmQiLCJnbyIsImRpc3RhbmNlIiwibmV4dENvZGUiLCJjaGFyQ29kZUF0IiwiZ29VbnRpbCIsImNvZGUiLCJyZWciLCJsYXN0SW5kZXgiLCJleGVjIiwiRXhwclR5cGUiLCJTVFJJTkciLCJOVU1CRVIiLCJCT09MIiwiQUNDRVNTT1IiLCJJTlRFUlAiLCJDQUxMIiwiVEVYVCIsIkJJTkFSWSIsIlVOQVJZIiwiVEVSVElBUlkiLCJjcmVhdGVBY2Nlc3NvciIsInBhdGhzIiwicmVhZElkZW50Iiwid2Fsa2VyIiwicmVhZFRlcnRpYXJ5RXhwciIsImNvbmRpdGlvbmFsIiwicmVhZExvZ2ljYWxPUkV4cHIiLCJleHByIiwicmVhZExvZ2ljYWxBTkRFeHByIiwicmVhZFJlbGF0aW9uYWxFeHByIiwib3BlcmF0b3IiLCJzZWdzIiwieWVzRXhwciIsInJlYWRBY2Nlc3NvciIsImZpcnN0U2VnIiwiYWNjZXNzb3JMb29wIiwicmVhZFVuYXJ5RXhwciIsInN0YXJ0Q29kZSIsInN0YXJ0SW5kZXgiLCJ3YWxrTG9vcCIsImxpdGVyYWwiLCJyZWFkTXVsdGlwbGljYXRpdmVFeHByIiwicmVhZEFkZGl0aXZlRXhwciIsInBhcnNlRXhwciIsInJhdyIsInJlYWRDYWxsIiwiZGVmYXVsdEFyZ3MiLCJpZGVudCIsInBhcnNlQ2FsbCIsInBhcnNlSW50ZXJwIiwiaW50ZXJwIiwiZmlsdGVycyIsImNhbGxFeHByIiwib3JpZ2luYWwiLCJFTlRJVFlfREVDT0RFX01BUCIsImx0IiwiZ3QiLCJuYnNwIiwicXVvdCIsImVtc3AiLCJlbnNwIiwidGhpbnNwIiwiY29weSIsInp3bmoiLCJ6d2oiLCJhbXAiLCJyZWdleHBMaXRlcmFsIiwicGFyc2VUZXh0IiwiZGVsaW1pdGVycyIsImV4cHJNYXRjaCIsImV4cHJTdGFydFJlZyIsIlJlZ0V4cCIsImJlZm9yZUluZGV4IiwicHVzaFN0cmluZ1RvU2VnIiwidGV4dCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50IiwiZGlyZWN0aXZlUGFyc2VycyIsImZvciIsImlmIiwiZWxpZiIsImVsc2UiLCJ0cmFuc2l0aW9uIiwicG9zdFByb3AiLCJwcm9wIiwiaW50ZWdyYXRlQXR0ciIsImFOb2RlIiwicmVhbE5hbWUiLCJwcmVmaXgiLCJwcmVmaXhJbmRleCIsImNvbG9uSW5kZXgiLCJtb2RpZmllciIsInBhcnNlciIsImludGVncmF0ZVByb3AiLCJ2YXJzIiwieE1hdGNoIiwieCIsInNlZyIsImdldFhQYXRoIiwic3RhY2siLCJjdXJyZW50VGFnTmFtZSIsInBhdGgiLCJwYXJzZVRlbXBsYXRlIiwidHJpbVdoaXRlc3BhY2UiLCJyb290Tm9kZSIsInRhZ01hdGNoIiwidGFnUmVnIiwiYXR0clJlZyIsImN1cnJlbnROb2RlIiwic3RhY2tJbmRleCIsImJlZm9yZUxhc3RJbmRleCIsInRhZ0VuZCIsInB1c2hUZXh0Tm9kZSIsImNsb3NlSW5kZXgiLCJhRWxlbWVudCIsInRhZ0Nsb3NlIiwibmV4dENoYXJDb2RlIiwiYXR0ck1hdGNoIiwicGFyZW50Q2hpbGRyZW5MZW4iLCJwYXJlbnRDaGlsZCIsImVsc2VzIiwic3BsaWNlIiwidGJvZHlOb2RlIiwiREVGQVVMVF9GSUxURVJTIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiX2NsYXNzIiwiX3N0eWxlIiwiX3NlcCIsInNlcCIsImV2YWxFeHByIiwib3duZXIiLCJkYXRhQ2FjaGUiLCJsZWZ0VmFsdWUiLCJyaWdodFZhbHVlIiwiZmlsdGVyIiwiZmlsdGVyTmFtZSIsImV2YWxBcmdzIiwiYnVmIiwic2V0IiwiZGF0YUNhY2hlU291cmNlIiwiZGF0YUNhY2hlQ2xlYXJseSIsImNsZWFyIiwiY2hhbmdlRXhwckNvbXBhcmVFeHBycyIsImNoYW5nZUV4cHIiLCJleHBycyIsImNoYW5nZUV4cHJDb21wYXJlIiwiY2hhbmdlUGF0aHMiLCJjaGFuZ2VMZW4iLCJwYXRoRXhwciIsIm1heCIsImZpbHRlclJlc3VsdCIsImxpZmVDeWNsZU93bklzIiwiTGlmZUN5Y2xlIiwiY29tcGlsZWQiLCJpcyIsImluaXRlZCIsInBhaW50aW5nIiwiY3JlYXRlZCIsImF0dGFjaGVkIiwibGVhdmluZyIsImRldGFjaGVkIiwiZGlzcG9zZWQiLCJOb2RlVHlwZSIsIklGIiwiRk9SIiwiRUxFTSIsIkNNUFQiLCJTTE9UIiwiVFBMIiwiZ2V0QU5vZGVQcm9wIiwiaG90c3BvdCIsIkhUTUxfQVRUUl9QUk9QX01BUCIsInJlYWRvbmx5IiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImNvbHNwYW4iLCJyb3dzcGFuIiwidmFsaWduIiwidXNlbWFwIiwiZnJhbWVib3JkZXIiLCJkZWZhdWx0RWxlbWVudFByb3BIYW5kbGVyIiwiZWxlbWVudCIsInByb3BOYW1lIiwic2V0QXR0cmlidXRlIiwib3V0cHV0IiwiYmluZEluZm8iLCJzdmdQcm9wSGFuZGxlciIsImJvb2xQcm9wSGFuZGxlciIsImRlZmF1bHRFbGVtZW50UHJvcEhhbmRsZXJzIiwic3R5bGUiLCJjc3NUZXh0IiwiY2xhc3MiLCJjbGFzc05hbWUiLCJzbG90IiwiZGlzYWJsZWQiLCJhdXRvZm9jdXMiLCJyZXF1aXJlZCIsImRyYWdnYWJsZSIsImFuYWxJbnB1dENoZWNrZXIiLCJjaGVja2JveCIsInJhZGlvIiwiYSIsImIiLCJlbGVtZW50UHJvcEhhbmRsZXJzIiwiaW5wdXQiLCJtdWx0aXBsZSIsImNoZWNrZWQiLCJzdGF0ZSIsIm9wZXIiLCJiaW5kVmFsdWUiLCJiaW5kVHlwZSIsImJpbmRDaGVja2VkIiwiaGludEV4cHIiLCJvcHRpb24iLCJwYXJlbnRTZWxlY3QiLCJwYXJlbnQiLCJzZWxlY3RWYWx1ZSIsInNlbGVjdGVkIiwic2VsZWN0IiwiZ2V0UHJvcEhhbmRsZXIiLCJhdHRyTmFtZSIsInRhZ1Byb3BIYW5kbGVycyIsInByb3BIYW5kbGVyIiwiaXNEYXRhQ2hhbmdlQnlFbGVtZW50IiwiY2hhbmdlIiwiY2hhbmdlVGFyZ2V0IiwiZmluZE1ldGhvZCIsIm5hbWVFeHByIiwibWV0aG9kIiwiRGF0YSIsImltbXV0YWJsZVNldCIsImV4cHJQYXRocyIsImlzTmFOIiwiZXZlbnREZWNsYXJhdGlvbkxpc3RlbmVyIiwiZXZlbnRCaW5kIiwiaXNDb21wb25lbnRFdmVudCIsIiRldmVudCIsImNoZWNrRGF0YVR5cGVzIiwic2V0VHlwZUNoZWNrZXIiLCJsaXN0ZW4iLCJ1bmxpc3RlbiIsImZpcmUiLCJzaWxlbnQiLCJzaWxlbmNlIiwicXVpZXQiLCJjYWxsZWUiLCJleHByUmF3IiwiZm9yY2UiLCJtZXJnZSIsIm9sZFZhbHVlIiwicmV0dXJuVmFsdWUiLCJuZXdBcnJheSIsImRlbGV0ZUNvdW50IiwiaW5zZXJ0aW9ucyIsInBvcCIsInNoaWZ0IiwidW5zaGlmdCIsInJlbW92ZUF0IiwicmVtb3ZlIiwiaG90VGFncyIsImlzQnJvd3NlciIsImluc2VydEJlZm9yZSIsInRhcmdldEVsIiwicGFyZW50RWwiLCJiZWZvcmVFbCIsIndhcm5TZXRIVE1MIiwibWVzc2FnZSIsImNvbnNvbGUiLCJ3YXJuIiwiZ2V0Tm9kZVBhdGgiLCJub2RlIiwibm9kZVBhdGhzIiwibm9kZVBhcmVudCIsImFub2RlIiwic3ViVGFnIiwiVGV4dE5vZGUiLCJyZXZlcnNlV2Fsa2VyIiwiY3VycmVudCIsInNlbCIsImdvTmV4dCIsImNyZWF0ZVRleHROb2RlIiwiYXR0YWNoIiwiY29udGVudCIsImNyZWF0ZUNvbW1lbnQiLCJ0ZW1wRmxhZyIsImluc2VydEFkamFjZW50SFRNTCIsImRpc3Bvc2UiLCJfcHJldiIsInRleHRVcGRhdGVQcm9wIiwidGV4dENvbnRlbnQiLCJjaGFuZ2VzSXNJbkRhdGFSZWYiLCJjaGFuZ2VzIiwiZGF0YVJlZiIsIm92ZXJ2aWV3IiwiZXh0T3ZlcnZpZXciLCJ3aWxkT3ZlcnZpZXciLCJET01DaGlsZHJlbldhbGtlciIsIm5leHQiLCJjaGlsZCIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsIkVsZW1lbnQiLCJsaWZlQ3ljbGUiLCJfZWxGbnMiLCJwYXJlbnRDb21wb25lbnQiLCJlbGVtZW50SW5pdFRhZ05hbWUiLCJfdG9QaGFzZSIsInJldmVyc2VFbGVtZW50Q2hpbGRyZW4iLCJfYXR0YWNoZWQiLCJub2RlRGlzcG9zZSIsIl9vbmRpc3Bvc2VkIiwiY3JlYXRlUmV2ZXJzZU5vZGUiLCJwYXJlbnRJc0NvbXBvbmVudCIsImNoaWxkT3duZXIiLCJjaGlsZFNjb3BlIiwiSWZOb2RlIiwiRm9yTm9kZSIsIlNsb3ROb2RlIiwiVGVtcGxhdGVOb2RlIiwiQ29tcG9uZW50VHlwZSIsImdldENvbXBvbmVudFR5cGUiLCJlbGVtZW50RGlzcG9zZUNoaWxkcmVuIiwibm9EZXRhY2giLCJub1RyYW5zaXRpb24iLCJlbGVtZW50VXBkYXRlQ2hpbGRyZW4iLCJfdXBkYXRlIiwiZWxlbWVudE93blRvUGhhc2UiLCJjcmVhdGVOb2RlIiwibm9kZU93bk9ubHlDaGlsZHJlbkF0dGFjaCIsImFOb2RlQ2hpbGRyZW4iLCJyZWFsQU5vZGUiLCJuYW1lQmluZCIsImlzTmFtZWQiLCJnaXZlbkNoaWxkcmVuIiwiZ2l2ZW5TbG90cyIsIm5hbWVkIiwibm9uYW1lIiwiaXNJbnNlcnRlZCIsIm1lIiwiaW5pdERhdGEiLCJ2YXJJdGVtIiwiaXNTY29wZWQiLCJzbG90Q2hpbGRyZW4iLCJhTm9kZUNoaWxkIiwiY2xvbmVEaXJlY3RpdmVzIiwiZXhjbHVkZXMiLCJub2RlT3duU2ltcGxlRGlzcG9zZSIsIm5vZGVPd25DcmVhdGVTdHVtcCIsIkZvckl0ZW1EYXRhIiwiZm9yRWxlbWVudCIsImRpcmVjdGl2ZSIsImNyZWF0ZUZvckRpcmVjdGl2ZUNoaWxkIiwiaXRlbVNjb3BlIiwiaXRlbUFOb2RlIiwicGFyYW0iLCJfY3JlYXRlIiwicmluc2VDb25kQU5vZGUiLCJjb25kIiwiZWxzZUluZGV4IiwiZWxzZUFOb2RlIiwiaGFuZGxlUHJvcCIsInN0YXJ0UmVtb3ZlRWwiLCJyZW1vdmVUYXJnZXQiLCJlbGVtZW50T3duQXR0YWNoIiwiZGV0YWNoIiwiZWxlbWVudE93bkRldGFjaCIsImVsZW1lbnRPd25EaXNwb3NlIiwiZWxlbWVudE93bkNyZWF0ZSIsIl9vbkVsIiwiZWxlbWVudE93bk9uRWwiLCJfZG9uZUxlYXZlIiwibGVhdmVEaXNwb3NlIiwiZWxlbWVudERpc3Bvc2UiLCJkaXNwb3NlTm9EZXRhY2giLCJkaXNwb3NlTm9UcmFuc2l0aW9uIiwiZHluYW1pY1Byb3BzIiwiaiIsImh0bWxEaXJlY3RpdmUiLCJpbm5lckhUTUwiLCJlbGVtZW50T3duQXR0YWNoZWQiLCJpc0Zyb21PdXRlciIsIl9ub3RpZnlOZWVkUmVsb2FkIiwic2NvcGVkQ2hhbmdlcyIsInJlbGF0aW9uIiwiZXhwclJlc29sdmUiLCJyZXNvbHZlSXRlbSIsInJlc29sdmVkUGF0aHMiLCJvcmlnaW5hbFVwZGF0ZSIsIm9sZENoaWxkcmVuTGVuIiwiY2hpbGRyZW5DaGFuZ2VzIiwicHVzaFRvQ2hpbGRyZW5DaGFuZ2VzIiwiaXNDaGlsZHJlblJlYnVpbGQiLCJkaXNwb3NlQ2hpbGRyZW4iLCJwYXJlbnRGaXJzdENoaWxkIiwicGFyZW50TGFzdENoaWxkIiwibGFzdENoaWxkIiwiaXNPbmx5UGFyZW50Q2hpbGQiLCJuZXdMaXN0IiwibmV3TGVuIiwiY0luZGV4IiwiY0xlbiIsImZvckxlbiIsImNoYW5nZUluZGV4IiwiX3NwbGljZSIsIl9zZXQiLCJjaGFuZ2VTdGFydCIsImluc2VydGlvbnNMZW4iLCJuZXdDb3VudCIsImluZGV4Q2hhbmdlIiwiZGVsZXRlTGVuIiwic3BsaWNlQXJncyIsIm5ld0NoaWxkcmVuTGVuIiwibGVuZ3RoQ2hhbmdlIiwiX2RvQ3JlYXRlQW5kVXBkYXRlIiwiZG9DcmVhdGVBbmRVcGRhdGUiLCJ2aW9sZW50Q2xlYXIiLCJkaXNwb3NlZENoaWxkQ291bnQiLCJkaXNwb3NlQ2hpbGQiLCJjaGlsZERpc3Bvc2VkIiwicmVwbGFjZU5vZGUiLCJjbG9uZU5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJuZXh0Q2hpbGQiLCJjaGlsZEFOb2RlIiwibmV3Q2hpbGQiLCJzYW40ZGV2dG9vbCIsImVtcHR5UHJvcFdoZW5DcmVhdGUiLCJpc0NvbXBvbmVudCIsInNvdXJjZU5vZGUiLCJlbGVtZW50QXR0YWNoIiwiX2NvbnRlbnRSZWFkeSIsImVsZW1lbnRHZXRUcmFuc2l0aW9uIiwiZ2l2ZW5BTm9kZSIsImVsZW1lbnRMZWF2ZSIsImxlYXZlIiwid2FybkV2ZW50TGlzdGVuTWV0aG9kIiwidmFsaWQiLCJpbnB1dE9uQ29tcG9zaXRpb25FbmQiLCJjb21wb3NpbmciLCJpbnB1dE9uQ29tcG9zaXRpb25TdGFydCIsInhQcm9wT3V0cHV0ZXIiLCJ4UHJvcCIsImlucHV0WFByb3BPdXRwdXRlciIsIm91dHB1dGVyIiwieFByb3BzIiwiQ29tcG9zaXRpb25FdmVudCIsIm5hdGl2ZUV2ZW50cyIsIm5hdGl2ZSIsIl9pc0luaXRGcm9tRWwiLCJlbnRlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsImVtaXREZXZ0b29sIiwiYXJnIiwiZGVidWciLCJfX3Nhbl9kZXZ0b29sX18iLCJDb21wb25lbnQiLCJjbGF6eiIsImNvbXB1dGVkIiwibWVzc2FnZXMiLCJjb21waWxlQ29tcG9uZW50IiwiQ29tcG9uZW50Q2xhc3MiLCJyZWNvcmRIb3RzcG90RGF0YSIsInJlZnMiLCJub3RDb250ZW50RGF0YSIsImFuYWx5c2VBTm9kZUhvdHNwb3QiLCJhbmFseXNlRXhwckRhdGFIb3RzcG90IiwiaWRQcm9wIiwidmFsdWVQcm9wIiwicHJvdG9BTm9kZSIsImdpdmVuTmFtZWRTbG90QmluZHMiLCJiaW5kcyIsImZpcnN0Q29tbWVudE5vZGUiLCJzdHVtcE1hdGNoIiwic3R1bXBUZXh0IiwicHJldmlvdXNTaWJsaW5nIiwiX2NyZWF0ZUdpdmVuU2xvdHMiLCJkYXRhVHlwZXMiLCJkYXRhVHlwZUNoZWNrZXIiLCJkYXRhVHlwZU5hbWUiLCJjb21wdXRlZERlcHMiLCJfY2FsY0NvbXB1dGVkIiwiZGF0YUNoYW5nZXIiLCJfZGF0YUNoYW5nZXIiLCJkZWZpbmVDb21wb25lbnQiLCJwcm90byIsImNvbXBvbmVudHMiLCJjb21wb25lbnRDbGFzcyIsIl9jbXB0UmVhZHkiLCJ0cGwiLCJ0ZW1wbGF0ZSIsImNvbXBvbmVudFByb3BFeHRyYSIsImV4dHJhIiwiYW5hbHlzZUV4cHJzIiwibWFpbiIsInNsb3RCaW5kIiwiZ2l2ZW5TbG90SW5pdGVkIiwic2xvdE5hbWUiLCJfY2FsbEhvb2siLCJkZWNsYXJhdGlvbiIsInVuIiwibmFtZUxpc3RlbmVycyIsImNvbXB1dGVkRXhwciIsIndhdGNoIiwiZGlzcGF0Y2giLCJyZWNlaXZlciIsImNoaWxkcmVuVHJhdmVyc2FsIiwicmVmVGFyZ2V0IiwibmVlZFJlbG9hZEZvclNsb3QiLCJiaW5kSXRlbSIsInNldEV4cHIiLCJ1cGRhdGVFeHByIiwiX3JlcGFpbnRDaGlsZHJlbiIsInNsb3RDaGlsZHJlbkxlbiIsInNsb3RDaGlsZCIsImRhdGFDaGFuZ2VzIiwiX3VwZGF0ZUJpbmR4T3duZXIiLCJ1cGRhdGVTY29wZUV4cHIiLCJkYXRhRXhwciIsInNhbiIsIkFwcCIsInBlcnNvbiIsImFkZCIsInByb21wdCIsInN0YXR1cyIsImRlbGV0ZSIsImF1ZGl0IiwiY29uZmlybSIsImp1ZGdlU3RhdHVzIiwidmFsIiwiYXBwIiwiYm9keSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxLQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEtBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssZ0JBQ0FDLGNBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsWUFJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBbUIsV0FDQSxXQUEyQixPQUFBbkIsRUFBQW9CLFNBQzNCLFdBQWlDLE9BQUFwQixHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQVcsRUFBQUMs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LGlCQUNaTSwwb0JBa0JBdkosU0FBVSxrQkFDTnNMLFlBR0pDLElBQUssU0FBVTFxQixHQUNYbkYsS0FBS21GLEtBQUtsRCxLQUFLLFVBQ1h2RCxLQUFNb3hCLE9BQU8sWUFDYkMsT0FBUSxLQUdoQkMsT0FBTyxTQUFTM2pCLEdBQ1pyTSxLQUFLbUYsS0FBS2lhLFNBQVMsU0FBUy9TLElBRWhDNGpCLE1BQU0sU0FBUzVqQixHQUNYck0sS0FBS21GLEtBQUswUyxJQUFWLFVBQXdCeEwsRUFBeEIsV0FBd0M2akIsUUFBUSxRQUFRLEdBQUcsSUFFL0Q5ZCxTQUNJK2QsWUFBWSxTQUFTQyxHQUNqQixPQUFVLEdBQVBBLEVBQ1EsTUFFSSxHQUFQQSxFQUNHLEtBR0EsVUFPdkJqd0IsT0FBT2t3QixJQUFNLElBQUlWLEVBQ2pCVSxJQUFJelAsT0FBT3hjLFNBQVNrc0IiLCJmaWxlIjoiYXBwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcbiIsInZhciBzY29wZSA9ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbCkgfHxcbiAgICAgICAgICAgICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmKSB8fFxuICAgICAgICAgICAgd2luZG93O1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB0aW1lb3V0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuLy8gT24gc29tZSBleG90aWMgZW52aXJvbm1lbnRzLCBpdCdzIG5vdCBjbGVhciB3aGljaCBvYmplY3QgYHNldGltbWVkaWF0ZWAgd2FzXG4vLyBhYmxlIHRvIGluc3RhbGwgb250by4gIFNlYXJjaCBlYWNoIHBvc3NpYmlsaXR5IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxuLy8gYHNldGltbWVkaWF0ZWAgbGlicmFyeS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSk7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGUpO1xuIiwiLyoqXG4gKiBTYW5cbiAqIENvcHlyaWdodCAyMDE2IEJhaWR1IEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBAZmlsZSDkuLvmlofku7ZcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICogICAgICAgICBvdGFrdXN0YXkob3Rha3VzdGF5QGdtYWlsLmNvbSlcbiAqICAgICAgICAganVubWVyKGp1bm1lckBmb3htYWlsLmNvbSlcbiAqL1xuXG4oZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAvLyDkurrlt6XosIPmlbTmiZPljIXku6PnoIHpobrluo/vvIzpgJrov4fms6jph4rmiYvlt6XlhpnkuIDkupvkvp3otZZcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvZ3VpZCcpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vdXRpbC9lbXB0eScpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vdXRpbC9leHRlbmQnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvaW5oZXJpdHMnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvZWFjaCcpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vdXRpbC9jb250YWlucycpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vdXRpbC9iaW5kJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9icm93c2VyL29uJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9icm93c2VyL3VuJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9icm93c2VyL3N2Zy10YWdzJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9icm93c2VyL2NyZWF0ZS1lbCcpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vYnJvd3Nlci9yZW1vdmUtZWwnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvbmV4dC10aWNrJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9icm93c2VyL2llJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9icm93c2VyL2llLW9sZC10aGFuLTknKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL2Jyb3dzZXIvaW5wdXQtZXZlbnQtY29tcGF0aWJsZScpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vYnJvd3Nlci9hdXRvLWNsb3NlLXRhZ3MnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvZGF0YS10eXBlcy5qcycpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vdXRpbC9jcmVhdGUtZGF0YS10eXBlcy1jaGVja2VyLmpzJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9wYXJzZXIvd2Fsa2VyJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9wYXJzZXIvY3JlYXRlLWEtbm9kZScpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vcGFyc2VyL3BhcnNlLXRlbXBsYXRlJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9ydW50aW1lL2NoYW5nZS1leHByLWNvbXBhcmUnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3J1bnRpbWUvZGF0YS1jaGFuZ2UtdHlwZScpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vcnVudGltZS9kZWZhdWx0LWZpbHRlcnMnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3ZpZXcvbGlmZS1jeWNsZScpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vdmlldy9ub2RlLXR5cGUnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3ZpZXcvZ2V0LXByb3AtaGFuZGxlcicpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vdmlldy9pcy1kYXRhLWNoYW5nZS1ieS1lbGVtZW50Jyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi92aWV3L2V2ZW50LWRlY2xhcmF0aW9uLWxpc3RlbmVyJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi92aWV3L2NyZWF0ZS1ub2RlJyk7XG5cblxuICAgIC8qKlxuICogQGZpbGUg55Sf5oiQ5ZSv5LiAaWRcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLyoqXG4gKiDllK/kuIBpZOeahOi1t+Wni+WAvFxuICpcbiAqIEBpbm5lclxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIGd1aWRJbmRleCA9IDE7XG5cbi8qKlxuICog5ZSv5LiAaWTnmoTliY3nvIBcbiAqXG4gKiBAaW5uZXJcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBndWlkUHJlZml4ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKS50b1N0cmluZygxNikuc2xpY2UoOCk7XG5cbi8qKlxuICog6I635Y+W5ZSv5LiAaWRcbiAqXG4gKiBAaW5uZXJcbiAqIEByZXR1cm4ge3N0cmluZ30g5ZSv5LiAaWRcbiAqL1xuZnVuY3Rpb24gZ3VpZCgpIHtcbiAgICByZXR1cm4gJ18nICsgZ3VpZFByZWZpeCArIChndWlkSW5kZXgrKyk7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGd1aWQ7XG5cblxuLyoqXG4gKiBAZmlsZSDnqbrlh73mlbBcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLyoqXG4gKiDllaXpg73kuI3lubJcbiAqL1xuZnVuY3Rpb24gZW1wdHkoKSB7fVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbXB0eTtcblxuXG4vKipcbiAqIEBmaWxlIOWxnuaAp+aLt+i0nVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDlr7nosaHlsZ7mgKfmi7fotJ1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IOebruagh+WvueixoVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSDmupDlr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH0g6L+U5Zue55uu5qCH5a+56LGhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGV4dGVuZDtcblxuXG4vKipcbiAqIEBmaWxlIOaehOW7uuexu+S5i+mXtOeahOe7p+aJv+WFs+ezu1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vZXh0ZW5kJyk7XG5cbi8qKlxuICog5p6E5bu657G75LmL6Ze055qE57un5om/5YWz57O7XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3ViQ2xhc3Mg5a2Q57G75Ye95pWwXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdXBlckNsYXNzIOeItuexu+WHveaVsFxuICovXG5mdW5jdGlvbiBpbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIC8qIGpzaGludCAtVzA1NCAqL1xuICAgIHZhciBzdWJDbGFzc1Byb3RvID0gc3ViQ2xhc3MucHJvdG90eXBlO1xuICAgIHZhciBGID0gbmV3IEZ1bmN0aW9uKCk7XG4gICAgRi5wcm90b3R5cGUgPSBzdXBlckNsYXNzLnByb3RvdHlwZTtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBuZXcgRigpO1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICAgIGV4dGVuZChzdWJDbGFzcy5wcm90b3R5cGUsIHN1YkNsYXNzUHJvdG8pO1xuICAgIC8qIGpzaGludCArVzA1NCAqL1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBpbmhlcml0cztcblxuXG4vKipcbiAqIEBmaWxlIOmBjeWOhuaVsOe7hFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vKipcbiAqIOmBjeWOhuaVsOe7hOmbhuWQiFxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IOaVsOe7hOa6kFxuICogQHBhcmFtIHtmdW5jdGlvbihBbnksbnVtYmVyKTpib29sZWFufSBpdGVyYXRvciDpgY3ljoblh73mlbBcbiAqL1xuZnVuY3Rpb24gZWFjaChhcnJheSwgaXRlcmF0b3IpIHtcbiAgICBpZiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yKGFycmF5W2ldLCBpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWFjaDtcblxuXG4vKipcbiAqIEBmaWxlIOWIpOaWreaVsOe7hOS4reaYr+WQpuWMheWQq+afkOmhuVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuL2VhY2gnKTtcblxuLyoqXG4gKiDliKTmlq3mlbDnu4TkuK3mmK/lkKbljIXlkKvmn5DpoblcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSDmlbDnu4RcbiAqIEBwYXJhbSB7Kn0gdmFsdWUg5YyF5ZCr55qE6aG5XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjb250YWlucyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgZWFjaChhcnJheSwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmVzdWx0ID0gaXRlbSA9PT0gdmFsdWU7XG4gICAgICAgIHJldHVybiAhcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY29udGFpbnM7XG5cblxuLyoqXG4gKiBAZmlsZSBiaW5k5Ye95pWwXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vKipcbiAqIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIOaWueazleeahOWFvOWuueaAp+WwgeijhVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMg6KaBYmluZOeahOWHveaVsFxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgdGhpc+aMh+WQkeWvueixoVxuICogQHBhcmFtIHsuLi4qfSBhcmdzIOmihOiuvueahOWIneWni+WPguaVsFxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGJpbmQoZnVuYywgdGhpc0FyZykge1xuICAgIHZhciBuYXRpdmVCaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG4gICAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuICAgIC8vICNbYmVnaW5dIGFsbHVhXG4gICAgaWYgKG5hdGl2ZUJpbmQgJiYgZnVuYy5iaW5kID09PSBuYXRpdmVCaW5kKSB7XG4gICAgLy8gI1tlbmRdXG4gICAgICAgIHJldHVybiBuYXRpdmVCaW5kLmFwcGx5KGZ1bmMsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgLy8gI1tiZWdpbl0gYWxsdWFcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICAgIC8vICNbZW5kXVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBiaW5kO1xuXG5cbi8qKlxuICogQGZpbGUgRE9NIOS6i+S7tuaMgui9vVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiBET00g5LqL5Lu25oyC6L29XG4gKlxuICogQGlubmVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBET03lhYPntKBcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUg5LqL5Lu25ZCNXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciDnm5HlkKzlh73mlbBcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FwdHVyZSDmmK/lkKbmmK/mjZXojrfpmLbmrrVcbiAqL1xuZnVuY3Rpb24gb24oZWwsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgICAvLyAjW2JlZ2luXSBhbGx1YVxuICAgIGlmIChlbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgLy8gI1tlbmRdXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgLy8gI1tiZWdpbl0gYWxsdWFcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IG9uO1xuXG5cbi8qKlxuICogQGZpbGUgRE9NIOS6i+S7tuWNuOi9vVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiBET00g5LqL5Lu25Y246L29XG4gKlxuICogQGlubmVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBET03lhYPntKBcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUg5LqL5Lu25ZCNXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciDnm5HlkKzlh73mlbBcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FwdHVyZSDmmK/lkKbmmK/mjZXojrfpmLbmrrVcbiAqL1xuZnVuY3Rpb24gdW4oZWwsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgICAvLyAjW2JlZ2luXSBhbGx1YVxuICAgIGlmIChlbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgLy8gI1tlbmRdXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgLy8gI1tiZWdpbl0gYWxsdWFcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsLmRldGFjaEV2ZW50KCdvbicgKyBldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHVuO1xuXG5cbi8qKlxuICogQGZpbGUg5bCG5a2X56ym5Liy6YCX5Y+35YiH5YiG6L+U5Zue5a+56LGhXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuXG4vKipcbiAqIOWwhuWtl+espuS4sumAl+WPt+WIh+WIhui/lOWbnuWvueixoVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug5rqQ5a2X56ym5LiyXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHNwbGl0U3RyMk9iaihzb3VyY2UpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZWFjaChcbiAgICAgICAgc291cmNlLnNwbGl0KCcsJyksXG4gICAgICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gMTtcbiAgICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gc3BsaXRTdHIyT2JqO1xuXG5cbi8qKlxuICogQGZpbGUgU1ZH5qCH562+6KGoXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgc3BsaXRTdHIyT2JqID0gcmVxdWlyZSgnLi4vdXRpbC9zcGxpdC1zdHItMi1vYmonKTtcblxuLyoqXG4gKiBzdmdUYWdzXG4gKlxuICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvU1ZHL3N2Z2R0ZC5odG1sIOWPquWPluW4uOeUqFxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIHN2Z1RhZ3MgPSBzcGxpdFN0cjJPYmooJydcbiAgICAvLyBzdHJ1Y3R1cmVcbiAgICArICdzdmcsZyxkZWZzLGRlc2MsbWV0YWRhdGEsc3ltYm9sLHVzZSwnXG4gICAgLy8gaW1hZ2UgJiBzaGFwZVxuICAgICsgJ2ltYWdlLHBhdGgscmVjdCxjaXJjbGUsbGluZSxlbGxpcHNlLHBvbHlsaW5lLHBvbHlnb24sJ1xuICAgIC8vIHRleHRcbiAgICArICd0ZXh0LHRzcGFuLHRyZWYsdGV4dHBhdGgsJ1xuICAgIC8vIG90aGVyXG4gICAgKyAnbWFya2VyLHBhdHRlcm4sY2xpcHBhdGgsbWFzayxmaWx0ZXIsY3Vyc29yLHZpZXcsYW5pbWF0ZSwnXG4gICAgLy8gZm9udFxuICAgICsgJ2ZvbnQsZm9udC1mYWNlLGdseXBoLG1pc3NpbmctZ2x5cGgnKTtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gc3ZnVGFncztcblxuXG4vKipcbiAqIEBmaWxlIERPTeWIm+W7ulxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIHN2Z1RhZ3MgPSByZXF1aXJlKCcuL3N2Zy10YWdzJyk7XG5cbi8qKlxuICog5Yib5bu6IERPTSDlhYPntKBcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHRhZ05hbWUgdGFnTmFtZVxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsKHRhZ05hbWUpIHtcbiAgICBpZiAoc3ZnVGFnc1t0YWdOYW1lXSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIHRhZ05hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVFbDtcblxuXG4vKipcbiAqIEBmaWxlIOenu+mZpERPTVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDlsIYgRE9NIOS7jumhtemdouS4reenu+mZpFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIERPTeWFg+e0oFxuICovXG5mdW5jdGlvbiByZW1vdmVFbChlbCkge1xuICAgIGlmIChlbCAmJiBlbC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVtb3ZlRWw7XG5cblxuLyoqXG4gKiBAZmlsZSDlnKjkuIvkuIDkuKrml7bpl7TlkajmnJ/ov5DooYzku7vliqFcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIOivpeaWueazleWPgueFp+S6hnZ1ZTIuNS4w55qE5a6e546w77yM5oSf6LCidnVl5Zui6ZifXG4vLyBTRUU6IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvYmxvYi8wOTQ4ZDk5OWYyZmRkZjlmOTA5OTE5NTY0OTNmOTc2MjczYzVkYTFmL3NyYy9jb3JlL3V0aWwvZW52LmpzI0w2OFxuXG5cbi8vIHZhciBiaW5kID0gcmVxdWlyZSgnLi9iaW5kJyk7XG5cbi8qKlxuICog5LiL5LiA5Liq5ZGo5pyf6KaB5omn6KGM55qE5Lu75Yqh5YiX6KGoXG4gKlxuICogQGlubmVyXG4gKiBAdHlwZSB7QXJyYXl9XG4gKi9cbnZhciBuZXh0VGFza3MgPSBbXTtcblxuLyoqXG4gKiDmiafooYzkuIvkuIDkuKrlkajmnJ/ku7vliqHnmoTlh73mlbBcbiAqXG4gKiBAaW5uZXJcbiAqIEB0eXBlIHtGdW5jdGlvbn1cbiAqL1xudmFyIG5leHRIYW5kbGVyO1xuXG4vKipcbiAqIOa1j+iniOWZqOaYr+WQpuaUr+aMgeWOn+eUn1Byb21pc2VcbiAqIOWvuVByb21pc2XlgZrliKTmlq3vvIzmmK/kuLrkuobnpoHnlKjkuIDkupvkuI3kuKXosKjnmoRQcm9taXNl55qEcG9seWZpbGxcbiAqXG4gKiBAaW5uZXJcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG52YXIgaXNOYXRpdmVQcm9taXNlID0gdHlwZW9mIFByb21pc2UgPT09ICdmdW5jdGlvbicgJiYgL25hdGl2ZSBjb2RlLy50ZXN0KFByb21pc2UpO1xuXG4vKipcbiAqIOWcqOS4i+S4gOS4quaXtumXtOWRqOacn+i/kOihjOS7u+WKoVxuICpcbiAqIEBpbm5lclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4g6KaB6L+Q6KGM55qE5Lu75Yqh5Ye95pWwXG4gKiBAcGFyYW0ge09iamVjdD19IHRoaXNBcmcgdGhpc+aMh+WQkeWvueixoVxuICovXG5mdW5jdGlvbiBuZXh0VGljayhmbiwgdGhpc0FyZykge1xuICAgIGlmICh0aGlzQXJnKSB7XG4gICAgICAgIGZuID0gYmluZChmbiwgdGhpc0FyZyk7XG4gICAgfVxuICAgIG5leHRUYXNrcy5wdXNoKGZuKTtcblxuICAgIGlmIChuZXh0SGFuZGxlcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbmV4dEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0YXNrcyA9IG5leHRUYXNrcy5zbGljZSgwKTtcbiAgICAgICAgbmV4dFRhc2tzID0gW107XG4gICAgICAgIG5leHRIYW5kbGVyID0gbnVsbDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRhc2tzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdGFza3NbaV0oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyDpnZ7moIflh4bmlrnms5XvvIzkvYbmmK/mraTmlrnms5XpnZ7luLjlkLvlkIjopoHmsYLjgIJcbiAgICBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzZXRJbW1lZGlhdGUobmV4dEhhbmRsZXIpO1xuICAgIH1cbiAgICAvLyDnlKhNZXNzYWdlQ2hhbm5lbOWOu+WBmnNldEltbWVkaWF0ZeeahHBvbHlmaWxsXG4gICAgLy8g5Y6f55CG5piv5bCG5paw55qEbWVzc2FnZeS6i+S7tuWKoOWFpeWIsOWOn+acieeahGRvbSBldmVudHPkuYvlkI5cbiAgICBlbHNlIGlmICh0eXBlb2YgTWVzc2FnZUNoYW5uZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgdmFyIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IG5leHRIYW5kbGVyO1xuICAgICAgICBwb3J0LnBvc3RNZXNzYWdlKDEpO1xuICAgIH1cbiAgICAvLyBmb3IgbmF0aXZlIGFwcFxuICAgIGVsc2UgaWYgKGlzTmF0aXZlUHJvbWlzZSkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKG5leHRIYW5kbGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQobmV4dEhhbmRsZXIsIDApO1xuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gbmV4dFRpY2s7XG5cblxuLyoqXG4gKiBAZmlsZSBpZeeJiOacrOWPt1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDku451c2VyQWdlbnTkuK1pZeeJiOacrOWPt+eahOWMuemFjeS/oeaBr1xuICpcbiAqIEB0eXBlIHtBcnJheX1cbiAqL1xudmFyIGllVmVyc2lvbk1hdGNoID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCdcbiAgICAmJiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9tc2llXFxzKihbMC05XSspL2kpO1xuXG4vKipcbiAqIGll54mI5pys5Y+377yM6Z2eaWXml7bkuLowXG4gKlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIGllID0gaWVWZXJzaW9uTWF0Y2ggPyBpZVZlcnNpb25NYXRjaFsxXSAtIDAgOiAwO1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBpZTtcblxuXG4vKipcbiAqIEBmaWxlIOaYr+WQpiBJRSDlubbkuJTlsI/kuo4gOVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGllID0gcmVxdWlyZSgnLi9pZScpO1xuXG4vLyBIQUNLOlxuLy8gMS4gSUU45LiL77yM6K6+572uaW5uZXJIVE1M5pe25aaC5p6c5LulaHRtbCBjb21tZW505byA5aS077yMY29tbWVudOS8muiiq+iHquWKqOa7pOaOiVxuLy8gICAg5Li65LqG5L+d6K+Bc3R1bXDlrZjlnKjvvIzpnIDopoHorr7nva7lroxodG1s5ZCO77yMY3JlYXRlQ29tbWVudOW5tmFwcGVuZENoaWxkL2luc2VydEJlZm9yZVxuLy8gMi4gSUU45LiL77yMaW5uZXJIVE1M6L+Y5LiN5pSv5oyBY3VzdG9tIGVsZW1lbnTvvIzmiYDku6XpnIDopoHnlKhkaXbmm7/ku6PvvIzkuI3nlKhjcmVhdGVFbGVtZW50XG4vLyAzLiDomb3nhLZJRTjlt7Lnu4/kvJjljJbkuoblrZfnrKbkuLIr6L+e5o6l77yM56KO54mH5YyW6L+e5o6l5oCn6IO95LiN5YaN6YCA5YyWXG4vLyAgICDkvYbmmK/nlLHkuo7kuIrpnaLlpJrkuKrlhbzlrrnlnLrmma/pg73nlKggPCA5IOWIpOaWre+8jOaJgOS7peWtl+espuS4sui/nuaOpeS5n+ayv+eUqFxuLy8gICAg5omA5Lul57uT5p6c5pivSUU45LiL5a2X56ym5Liy6L+e5o6l55So55qE5piv5pWw57uEam9pbueahOaWueW8j1xuXG4vLyAjW2JlZ2luXSBhbGx1YVxuLyoqXG4gKiDmmK/lkKYgSUUg5bm25LiU5bCP5LqOIDlcbiAqL1xudmFyIGllT2xkVGhhbjkgPSBpZSAmJiBpZSA8IDk7XG4vLyAjW2VuZF1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaWVPbGRUaGFuOTtcblxuXG4vKipcbiAqIEBmaWxlIERPTSDkuovku7bmjILovb1cbiAqIEBhdXRob3IgZGFmcm9rKG8ub0BtdWcuZG9nKVxuICovXG5cbi8qKlxuICogRE9NIOS6i+S7tuaMgui9vVxuICpcbiAqIEBpbm5lclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgRE9N5YWD57SgXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIOS6i+S7tuWQjVxuICovXG5mdW5jdGlvbiB0cmlnZ2VyKGVsLCBldmVudE5hbWUpIHtcbiAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuICAgIGV2ZW50LmluaXRFdmVudChldmVudE5hbWUsIHRydWUsIHRydWUpO1xuICAgIGVsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB0cmlnZ2VyO1xuXG5cbi8qKlxuICogQGZpbGUg6Kej5YazIElFOSDlnKjooajljZXlhYPntKDkuK3liKDpmaTlrZfnrKbml7bkuI3op6blj5Hkuovku7bnmoTpl67pophcbiAqIEBhdXRob3IgZGFmcm9rKG8ub0BtdWcuZG9nKVxuICovXG5cbi8vIHZhciBpZSA9IHJlcXVpcmUoJy4vaWUnKTtcbi8vIHZhciBvbiA9IHJlcXVpcmUoJy4vb24nKTtcbi8vIHZhciB0cmlnZ2VyID0gcmVxdWlyZSgnLi90cmlnZ2VyJyk7XG5cbi8vICNbYmVnaW5dIGFsbHVhXG5pZiAoaWUgPT09IDkpIHtcbiAgICBvbihkb2N1bWVudCwgJ3NlbGVjdGlvbmNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT09ICdURVhUQVJFQScgfHwgZWwudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgICAgICAgdHJpZ2dlcihlbCwgJ2lucHV0Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vICNbZW5kXVxuXG5cbi8qKlxuICogQGZpbGUg6Ieq6Zet5ZCI5qCH562+6KGoXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgc3BsaXRTdHIyT2JqID0gcmVxdWlyZSgnLi4vdXRpbC9zcGxpdC1zdHItMi1vYmonKTtcblxuLyoqXG4gKiDoh6rpl63lkIjmoIfnrb7liJfooahcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgYXV0b0Nsb3NlVGFncyA9IHNwbGl0U3RyMk9iaignYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxocixpbWcsaW5wdXQsa2V5Z2VuLHBhcmFtLHNvdXJjZSx0cmFjayx3YnInKTtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gYXV0b0Nsb3NlVGFncztcblxuXG4vKipcbiAqIEBmaWxlIGRhdGEgdHlwZXNcbiAqIEBhdXRob3IgbGVvbiA8bHVkYWZhQG91dGxvb2suY29tPlxuICovXG5cbi8vIHZhciBiaW5kID0gcmVxdWlyZSgnLi9iaW5kJyk7XG4vLyB2YXIgZW1wdHkgPSByZXF1aXJlKCcuL2VtcHR5Jyk7XG4vLyB2YXIgZXh0ZW5kID0gcmVxdWlyZSgnLi9leHRlbmQnKTtcblxuLy8gI1tiZWdpbl0gZXJyb3JcbnZhciBBTk9OWU1PVVNfQ0xBU1NfTkFNRSA9ICc8PGFub255bW91cz4+JztcblxuLyoqXG4gKiDojrflj5bnsr7noa7nmoTnsbvlnotcbiAqXG4gKiBATk9URSDlpoLmnpwgb2JqIOaYr+S4gOS4qiBET01FbGVtZW5077yM5oiR5Lus5Lya6L+U5ZueIGBlbGVtZW50YO+8m1xuICpcbiAqIEBwYXJhbSAgeyp9IG9iaiDnm67moIdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0RGF0YVR5cGUob2JqKSB7XG5cbiAgICBpZiAob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICByZXR1cm4gJ2VsZW1lbnQnO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG4gICAgICAgIC5jYWxsKG9iailcbiAgICAgICAgLnNsaWNlKDgsIC0xKVxuICAgICAgICAudG9Mb3dlckNhc2UoKTtcbn1cbi8vICNbZW5kXVxuXG4vKipcbiAqIOWIm+W7uumTvuW8j+eahOaVsOaNruexu+Wei+agoemqjOWZqFxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSB2YWxpZGF0ZSDnnJ/mraPnmoTmoKHpqozlmahcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gICAgdmFyIGNoYWluZWRDaGVja2VyID0gZnVuY3Rpb24gKCkge307XG4gICAgY2hhaW5lZENoZWNrZXIuaXNSZXF1aXJlZCA9IGVtcHR5O1xuXG4gICAgLy8g5Y+q5ZyoIGVycm9yIOWKn+iDveWQr+eUqOaXtuaJjeacieWunumZheS4iueahCBkYXRhVHlwZXMg5qOA5rWLXG4gICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICB2YXIgY2hlY2tUeXBlID0gZnVuY3Rpb24gKGlzUmVxdWlyZWQsIGRhdGEsIGRhdGFOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUpIHtcblxuICAgICAgICB2YXIgZGF0YVZhbHVlID0gZGF0YVtkYXRhTmFtZV07XG4gICAgICAgIHZhciBkYXRhVHlwZSA9IGdldERhdGFUeXBlKGRhdGFWYWx1ZSk7XG5cbiAgICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTX0NMQVNTX05BTUU7XG5cbiAgICAgICAgLy8g5aaC5p6c5pivIG51bGwg5oiWIHVuZGVmaW5lZO+8jOmCo+S5iOimgeaPkOWJjei/lOWbnuWVplxuICAgICAgICBpZiAoZGF0YVZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIOaYryByZXF1aXJlZCDlsLHmiqXplJlcbiAgICAgICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICAgICAgICAgICsgJ1RoZSBgJyArIGRhdGFOYW1lICsgJ2AgJ1xuICAgICAgICAgICAgICAgICAgICArICdpcyBtYXJrZWQgYXMgcmVxdWlyZWQgaW4gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsICdcbiAgICAgICAgICAgICAgICAgICAgKyAnYnV0IGl0cyB2YWx1ZSBpcyAnICsgZGF0YVR5cGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g5LiN5pivIHJlcXVpcmVk77yM6YKj5bCx5pivIG9rIOeahFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsaWRhdGUoZGF0YSwgZGF0YU5hbWUsIGNvbXBvbmVudE5hbWUsIGZ1bGxEYXRhTmFtZSk7XG5cbiAgICB9O1xuXG4gICAgY2hhaW5lZENoZWNrZXIgPSBiaW5kKGNoZWNrVHlwZSwgbnVsbCwgZmFsc2UpO1xuICAgIGNoYWluZWRDaGVja2VyLmlzUmVxdWlyZWQgPSBiaW5kKGNoZWNrVHlwZSwgbnVsbCwgdHJ1ZSk7XG4gICAgLy8gI1tlbmRdXG5cblxuXG4gICAgcmV0dXJuIGNoYWluZWRDaGVja2VyO1xuXG59XG5cbi8vICNbYmVnaW5dIGVycm9yXG4vKipcbiAqIOeUn+aIkOS4u+imgeexu+Wei+aVsOaNruagoemqjOWZqFxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZSDkuLvnsbvlnotcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjcmVhdGVQcmltYXJ5VHlwZUNoZWNrZXIodHlwZSkge1xuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZnVuY3Rpb24gKGRhdGEsIGRhdGFOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUpIHtcblxuICAgICAgICB2YXIgZGF0YVZhbHVlID0gZGF0YVtkYXRhTmFtZV07XG4gICAgICAgIHZhciBkYXRhVHlwZSA9IGdldERhdGFUeXBlKGRhdGFWYWx1ZSk7XG5cbiAgICAgICAgaWYgKGRhdGFUeXBlICE9PSB0eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICArICdJbnZhbGlkICcgKyBjb21wb25lbnROYW1lICsgJyBkYXRhIGAnICsgZnVsbERhdGFOYW1lICsgJ2Agb2YgdHlwZSdcbiAgICAgICAgICAgICAgICArICcoJyArIGRhdGFUeXBlICsgJyBzdXBwbGllZCB0byAnICsgY29tcG9uZW50TmFtZSArICcsICdcbiAgICAgICAgICAgICAgICArICdleHBlY3RlZCAnICsgdHlwZSArICcpJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbn1cblxuXG5cbi8qKlxuICog55Sf5oiQIGFycmF5T2Yg5qCh6aqM5ZmoXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGFycmF5SXRlbUNoZWNrZXIg5pWw57uE5Lit5q+P6aG55pWw5o2u55qE5qCh6aqM5ZmoXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXJyYXlPZkNoZWNrZXIoYXJyYXlJdGVtQ2hlY2tlcikge1xuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZnVuY3Rpb24gKGRhdGEsIGRhdGFOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUpIHtcblxuICAgICAgICBpZiAodHlwZW9mIGFycmF5SXRlbUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICsgJ0RhdGEgYCcgKyBkYXRhTmFtZSArICdgIG9mIGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkICdcbiAgICAgICAgICAgICAgICArICdEYXRhVHlwZSBub3RhdGlvbiBpbnNpZGUgYGFycmF5T2ZgLCBleHBlY3RlZCBgZnVuY3Rpb25gJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVmFsdWUgPSBkYXRhW2RhdGFOYW1lXTtcbiAgICAgICAgdmFyIGRhdGFUeXBlID0gZ2V0RGF0YVR5cGUoZGF0YVZhbHVlKTtcblxuICAgICAgICBpZiAoZGF0YVR5cGUgIT09ICdhcnJheScpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICsgJ0ludmFsaWQgJyArIGNvbXBvbmVudE5hbWUgKyAnIGRhdGEgYCcgKyBmdWxsRGF0YU5hbWUgKyAnYCBvZiB0eXBlJ1xuICAgICAgICAgICAgICAgICsgJygnICsgZGF0YVR5cGUgKyAnIHN1cHBsaWVkIHRvICcgKyBjb21wb25lbnROYW1lICsgJywgJ1xuICAgICAgICAgICAgICAgICsgJ2V4cGVjdGVkIGFycmF5KSdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YVZhbHVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBhcnJheUl0ZW1DaGVja2VyKGRhdGFWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgZnVsbERhdGFOYW1lICsgJ1snICsgaSArICddJyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG59XG5cbi8qKlxuICog55Sf5oiQIGluc3RhbmNlT2Yg5qOA5rWL5ZmoXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb258Q2xhc3N9IGV4cGVjdGVkQ2xhc3Mg5pyf5b6F55qE57G7XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VPZkNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZnVuY3Rpb24gKGRhdGEsIGRhdGFOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUpIHtcblxuICAgICAgICB2YXIgZGF0YVZhbHVlID0gZGF0YVtkYXRhTmFtZV07XG5cbiAgICAgICAgaWYgKGRhdGFWYWx1ZSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVmFsdWVDbGFzc05hbWUgPSBkYXRhVmFsdWUuY29uc3RydWN0b3IgJiYgZGF0YVZhbHVlLmNvbnN0cnVjdG9yLm5hbWVcbiAgICAgICAgICAgID8gZGF0YVZhbHVlLmNvbnN0cnVjdG9yLm5hbWVcbiAgICAgICAgICAgIDogQU5PTllNT1VTX0NMQVNTX05BTUU7XG5cbiAgICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VU19DTEFTU19OQU1FO1xuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgKyAnSW52YWxpZCAnICsgY29tcG9uZW50TmFtZSArICcgZGF0YSBgJyArIGZ1bGxEYXRhTmFtZSArICdgIG9mIHR5cGUnXG4gICAgICAgICAgICArICcoJyArIGRhdGFWYWx1ZUNsYXNzTmFtZSArICcgc3VwcGxpZWQgdG8gJyArIGNvbXBvbmVudE5hbWUgKyAnLCAnXG4gICAgICAgICAgICArICdleHBlY3RlZCBpbnN0YW5jZSBvZiAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnKSdcbiAgICAgICAgKTtcblxuXG4gICAgfSk7XG5cbn1cblxuLyoqXG4gKiDnlJ/miJAgc2hhcGUg5qCh6aqM5ZmoXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBzaGFwZVR5cGVzIHNoYXBlIOagoemqjOinhOWImVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNoYXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihmdW5jdGlvbiAoZGF0YSwgZGF0YU5hbWUsIGNvbXBvbmVudE5hbWUsIGZ1bGxEYXRhTmFtZSkge1xuXG4gICAgICAgIGlmIChnZXREYXRhVHlwZShzaGFwZVR5cGVzKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICsgJ0RhdGEgYCcgKyBmdWxsRGF0YU5hbWUgKyAnYCBvZiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCAnXG4gICAgICAgICAgICAgICAgKyAnRGF0YVR5cGUgbm90YXRpb24gaW5zaWRlIGBzaGFwZWAsIGV4cGVjdGVkIGBvYmplY3RgJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVmFsdWUgPSBkYXRhW2RhdGFOYW1lXTtcbiAgICAgICAgdmFyIGRhdGFUeXBlID0gZ2V0RGF0YVR5cGUoZGF0YVZhbHVlKTtcblxuICAgICAgICBpZiAoZGF0YVR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICArICdJbnZhbGlkICcgKyBjb21wb25lbnROYW1lICsgJyBkYXRhIGAnICsgZnVsbERhdGFOYW1lICsgJ2Agb2YgdHlwZSdcbiAgICAgICAgICAgICAgICArICcoJyArIGRhdGFUeXBlICsgJyBzdXBwbGllZCB0byAnICsgY29tcG9uZW50TmFtZSArICcsICdcbiAgICAgICAgICAgICAgICArICdleHBlY3RlZCBvYmplY3QpJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIHNoYXBlS2V5TmFtZSBpbiBzaGFwZVR5cGVzKSB7XG4gICAgICAgICAgICBpZiAoc2hhcGVUeXBlcy5oYXNPd25Qcm9wZXJ0eShzaGFwZUtleU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW3NoYXBlS2V5TmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGVja2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZXIoZGF0YVZhbHVlLCBzaGFwZUtleU5hbWUsIGNvbXBvbmVudE5hbWUsIGZ1bGxEYXRhTmFtZSArICcuJyArIHNoYXBlS2V5TmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9KTtcblxufVxuXG4vKipcbiAqIOeUn+aIkCBvbmVPZiDmoKHpqozlmahcbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gZXhwZWN0ZWRFbnVtVmFsdWVzIOacn+W+heeahOaemuS4vuWAvFxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9uZU9mQ2hlY2tlcihleHBlY3RlZEVudW1WYWx1ZXMpIHtcblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVDaGVja2VyKGZ1bmN0aW9uIChkYXRhLCBkYXRhTmFtZSwgY29tcG9uZW50TmFtZSwgZnVsbERhdGFOYW1lKSB7XG5cbiAgICAgICAgaWYgKGdldERhdGFUeXBlKGV4cGVjdGVkRW51bVZhbHVlcykgIT09ICdhcnJheScpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICsgJ0RhdGEgYCcgKyBmdWxsRGF0YU5hbWUgKyAnYCBvZiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCAnXG4gICAgICAgICAgICAgICAgKyAnRGF0YVR5cGUgbm90YXRpb24gaW5zaWRlIGBvbmVPZmAsIGFycmF5IGlzIGV4cGVjdGVkLidcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVZhbHVlID0gZGF0YVtkYXRhTmFtZV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4cGVjdGVkRW51bVZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGRhdGFWYWx1ZSA9PT0gZXhwZWN0ZWRFbnVtVmFsdWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICArICdJbnZhbGlkICcgKyBjb21wb25lbnROYW1lICsgJyBkYXRhIGAnICsgZnVsbERhdGFOYW1lICsgJ2Agb2YgdmFsdWUnXG4gICAgICAgICAgICArICcoYCcgKyBkYXRhVmFsdWUgKyAnYCBzdXBwbGllZCB0byAnICsgY29tcG9uZW50TmFtZSArICcsICdcbiAgICAgICAgICAgICsgJ2V4cGVjdGVkIG9uZSBvZiAnICsgZXhwZWN0ZWRFbnVtVmFsdWVzLmpvaW4oJywnKSArICcpJ1xuICAgICAgICApO1xuXG4gICAgfSk7XG5cbn1cblxuLyoqXG4gKiDnlJ/miJAgb25lT2ZUeXBlIOagoemqjOWZqFxuICpcbiAqIEBwYXJhbSAge0FycmF5PEZ1bmN0aW9uPn0gZXhwZWN0ZWRFbnVtT2ZUeXBlVmFsdWVzIOacn+W+heeahOaemuS4vuexu+Wei1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9uZU9mVHlwZUNoZWNrZXIoZXhwZWN0ZWRFbnVtT2ZUeXBlVmFsdWVzKSB7XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihmdW5jdGlvbiAoZGF0YSwgZGF0YU5hbWUsIGNvbXBvbmVudE5hbWUsIGZ1bGxEYXRhTmFtZSkge1xuXG4gICAgICAgIGlmIChnZXREYXRhVHlwZShleHBlY3RlZEVudW1PZlR5cGVWYWx1ZXMpICE9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICArICdEYXRhIGAnICsgZGF0YU5hbWUgKyAnYCBvZiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCAnXG4gICAgICAgICAgICAgICAgKyAnRGF0YVR5cGUgbm90YXRpb24gaW5zaWRlIGBvbmVPZmAsIGFycmF5IGlzIGV4cGVjdGVkLidcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVZhbHVlID0gZGF0YVtkYXRhTmFtZV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4cGVjdGVkRW51bU9mVHlwZVZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXG4gICAgICAgICAgICB2YXIgY2hlY2tlciA9IGV4cGVjdGVkRW51bU9mVHlwZVZhbHVlc1tpXTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2hlY2tlcihkYXRhLCBkYXRhTmFtZSwgY29tcG9uZW50TmFtZSwgZnVsbERhdGFOYW1lKTtcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpwgY2hlY2tlciDlrozmiJDmoKHpqozmsqHmiqXplJnvvIzpgqPlsLHov5Tlm57kuoZcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIOWmguaenOaciemUmeivr++8jOmCo+S5iOW6lOivpeaKiumUmeivr+WQnuaOiVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyDmiYDmnInnmoTlj6/mjqXlj5cgdHlwZSDpg73lpLHotKXkuobvvIzmiY3kuKLkuIDkuKrlvILluLhcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICArICdJbnZhbGlkICcgKyBjb21wb25lbnROYW1lICsgJyBkYXRhIGAnICsgZGF0YU5hbWUgKyAnYCBvZiB2YWx1ZSdcbiAgICAgICAgICAgICsgJyhgJyArIGRhdGFWYWx1ZSArICdgIHN1cHBsaWVkIHRvICcgKyBjb21wb25lbnROYW1lICsgJyknXG4gICAgICAgICk7XG5cbiAgICB9KTtcblxufVxuXG4vKipcbiAqIOeUn+aIkCBvYmplY3RPZiDmoKHpqozlmahcbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gdHlwZUNoZWNrZXIg5a+56LGh5bGe5oCn5YC85qCh6aqM5ZmoXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlT2JqZWN0T2ZDaGVja2VyKHR5cGVDaGVja2VyKSB7XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihmdW5jdGlvbiAoZGF0YSwgZGF0YU5hbWUsIGNvbXBvbmVudE5hbWUsIGZ1bGxEYXRhTmFtZSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICsgJ0RhdGEgYCcgKyBkYXRhTmFtZSArICdgIG9mIGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkICdcbiAgICAgICAgICAgICAgICArICdEYXRhVHlwZSBub3RhdGlvbiBpbnNpZGUgYG9iamVjdE9mYCwgZXhwZWN0ZWQgZnVuY3Rpb24nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFWYWx1ZSA9IGRhdGFbZGF0YU5hbWVdO1xuICAgICAgICB2YXIgZGF0YVR5cGUgPSBnZXREYXRhVHlwZShkYXRhVmFsdWUpO1xuXG4gICAgICAgIGlmIChkYXRhVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICsgJ0ludmFsaWQgJyArIGNvbXBvbmVudE5hbWUgKyAnIGRhdGEgYCcgKyBkYXRhTmFtZSArICdgIG9mIHR5cGUnXG4gICAgICAgICAgICAgICAgKyAnKCcgKyBkYXRhVHlwZSArICcgc3VwcGxpZWQgdG8gJyArIGNvbXBvbmVudE5hbWUgKyAnLCAnXG4gICAgICAgICAgICAgICAgKyAnZXhwZWN0ZWQgb2JqZWN0KSdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBkYXRhS2V5TmFtZSBpbiBkYXRhVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChkYXRhVmFsdWUuaGFzT3duUHJvcGVydHkoZGF0YUtleU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdHlwZUNoZWNrZXIoXG4gICAgICAgICAgICAgICAgICAgIGRhdGFWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUtleU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxEYXRhTmFtZSArICcuJyArIGRhdGFLZXlOYW1lXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICB9KTtcblxufVxuXG4vKipcbiAqIOeUn+aIkCBleGFjdCDmoKHpqozlmahcbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IHNoYXBlVHlwZXMgb2JqZWN0IOW9ouaAgeWumuS5iVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUV4YWN0Q2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihmdW5jdGlvbiAoZGF0YSwgZGF0YU5hbWUsIGNvbXBvbmVudE5hbWUsIGZ1bGxEYXRhTmFtZSwgc2VjcmV0KSB7XG5cbiAgICAgICAgaWYgKGdldERhdGFUeXBlKHNoYXBlVHlwZXMpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICAgICAgKyAnRGF0YSBgJyArIGRhdGFOYW1lICsgJ2Agb2YgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgJ1xuICAgICAgICAgICAgICAgICsgJ0RhdGFUeXBlIG5vdGF0aW9uIGluc2lkZSBgZXhhY3RgJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVmFsdWUgPSBkYXRhW2RhdGFOYW1lXTtcbiAgICAgICAgdmFyIGRhdGFWYWx1ZVR5cGUgPSBnZXREYXRhVHlwZShkYXRhVmFsdWUpO1xuXG4gICAgICAgIGlmIChkYXRhVmFsdWVUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICAgICAgKyAnSW52YWxpZCBkYXRhIGAnICsgZnVsbERhdGFOYW1lICsgJ2Agb2YgdHlwZSBgJyArIGRhdGFWYWx1ZVR5cGUgKyAnYCdcbiAgICAgICAgICAgICAgICArICcoc3VwcGxpZWQgdG8gJyArIGNvbXBvbmVudE5hbWUgKyAnLCBleHBlY3RlZCBgb2JqZWN0YCknXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFsbEtleXMgPSB7fTtcblxuICAgICAgICAvLyDlhYjlkIjlhaUgc2hhcGVUeXBlc1xuICAgICAgICBleHRlbmQoYWxsS2V5cywgc2hhcGVUeXBlcyk7XG4gICAgICAgIC8vIOWGjeWQiOWFpSBkYXRhVmFsdWVcbiAgICAgICAgZXh0ZW5kKGFsbEtleXMsIGRhdGFWYWx1ZSk7XG4gICAgICAgIC8vIOS/neivgSBhbGxLZXlzIOeahOexu+Wei+ato+ehrlxuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XG4gICAgICAgICAgICBpZiAoYWxsS2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cbiAgICAgICAgICAgICAgICAvLyBkYXRhVmFsdWUg5Lit5pyJ5LiA5Liq5aSa5L2Z55qE5pWw5o2u6aG5XG4gICAgICAgICAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAnSW52YWxpZCBkYXRhIGAnICsgZnVsbERhdGFOYW1lICsgJ2Aga2V5IGAnICsga2V5ICsgJ2AgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AuICdcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJyhgJyArIGtleSArICdgIGlzIG5vdCBkZWZpbmVkIGluIGBEYXRhVHlwZXMuZXhhY3RgKSdcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gZGF0YVZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJ0ludmFsaWQgZGF0YSBgJyArIGZ1bGxEYXRhTmFtZSArICdgIGtleSBgJyArIGtleSArICdgICdcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLiAnXG4gICAgICAgICAgICAgICAgICAgICAgICArICcoYCcgKyBrZXkgKyAnYCBpcyBtYXJrZWQgYHJlcXVpcmVkYCBpbiBgRGF0YVR5cGVzLmV4YWN0YCknXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2hlY2tlcihcbiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxEYXRhTmFtZSArICcuJyArIGtleSxcbiAgICAgICAgICAgICAgICAgICAgc2VjcmV0XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9KTtcblxufVxuLy8gI1tlbmRdXG5cblxuXG4vKiBlc2xpbnQtZGlzYWJsZSBmZWNzLXZhbGlkLXZhci1qc2RvYyAqL1xudmFyIERhdGFUeXBlcyA9IHtcbiAgICBhcnJheTogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihlbXB0eSksXG4gICAgb2JqZWN0OiBjcmVhdGVDaGFpbmFibGVDaGVja2VyKGVtcHR5KSxcbiAgICBmdW5jOiBjcmVhdGVDaGFpbmFibGVDaGVja2VyKGVtcHR5KSxcbiAgICBzdHJpbmc6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZW1wdHkpLFxuICAgIG51bWJlcjogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihlbXB0eSksXG4gICAgYm9vbDogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihlbXB0eSksXG4gICAgc3ltYm9sOiBjcmVhdGVDaGFpbmFibGVDaGVja2VyKGVtcHR5KSxcbiAgICBhbnk6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIsXG4gICAgYXJyYXlPZjogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcixcbiAgICBpbnN0YW5jZU9mOiBjcmVhdGVDaGFpbmFibGVDaGVja2VyLFxuICAgIHNoYXBlOiBjcmVhdGVDaGFpbmFibGVDaGVja2VyLFxuICAgIG9uZU9mOiBjcmVhdGVDaGFpbmFibGVDaGVja2VyLFxuICAgIG9uZU9mVHlwZTogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcixcbiAgICBvYmplY3RPZjogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcixcbiAgICBleGFjdDogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlclxufTtcblxuLy8gI1tiZWdpbl0gZXJyb3JcbkRhdGFUeXBlcyA9IHtcblxuICAgIGFueTogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihlbXB0eSksXG5cbiAgICAvLyDnsbvlnovmo4DmtYtcbiAgICBhcnJheTogY3JlYXRlUHJpbWFyeVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIG9iamVjdDogY3JlYXRlUHJpbWFyeVR5cGVDaGVja2VyKCdvYmplY3QnKSxcbiAgICBmdW5jOiBjcmVhdGVQcmltYXJ5VHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltYXJ5VHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuICAgIG51bWJlcjogY3JlYXRlUHJpbWFyeVR5cGVDaGVja2VyKCdudW1iZXInKSxcbiAgICBib29sOiBjcmVhdGVQcmltYXJ5VHlwZUNoZWNrZXIoJ2Jvb2xlYW4nKSxcbiAgICBzeW1ib2w6IGNyZWF0ZVByaW1hcnlUeXBlQ2hlY2tlcignc3ltYm9sJyksXG5cbiAgICAvLyDlpI3lkIjnsbvlnovmo4DmtYtcbiAgICBhcnJheU9mOiBjcmVhdGVBcnJheU9mQ2hlY2tlcixcbiAgICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZU9mQ2hlY2tlcixcbiAgICBzaGFwZTogY3JlYXRlU2hhcGVDaGVja2VyLFxuICAgIG9uZU9mOiBjcmVhdGVPbmVPZkNoZWNrZXIsXG4gICAgb25lT2ZUeXBlOiBjcmVhdGVPbmVPZlR5cGVDaGVja2VyLFxuICAgIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZkNoZWNrZXIsXG4gICAgZXhhY3Q6IGNyZWF0ZUV4YWN0Q2hlY2tlclxuXG59O1xuLyogZXNsaW50LWVuYWJsZSBmZWNzLXZhbGlkLXZhci1qc2RvYyAqL1xuLy8gI1tlbmRdXG5cblxuLy8gbW9kdWxlLmV4cG9ydHMgPSBEYXRhVHlwZXM7XG5cblxuLyoqXG4gKiBAZmlsZSDliJvlu7rmlbDmja7mo4DmtYvlh73mlbBcbiAqIEBhdXRob3IgbGVvbjxsdWRhZmFAb3V0bG9vay5jb20+XG4gKi9cblxuXG4vLyAjW2JlZ2luXSBlcnJvclxuXG4vKipcbiAqIOWIm+W7uuaVsOaNruajgOa1i+WHveaVsFxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gZGF0YVR5cGVzICAgICDmlbDmja7moLzlvI9cbiAqIEBwYXJhbSAge3N0cmluZ30gY29tcG9uZW50TmFtZSDnu4Tku7blkI1cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjcmVhdGVEYXRhVHlwZXNDaGVja2VyKGRhdGFUeXBlcywgY29tcG9uZW50TmFtZSkge1xuXG4gICAgLyoqXG4gICAgICog5qCh6aqMIGRhdGEg5piv5ZCm5ruh6LazIGRhdGEgdHlwZXMg55qE5qC85byPXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHsqfSBkYXRhIOaVsOaNrlxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgICAgIGZvciAodmFyIGRhdGFUeXBlTmFtZSBpbiBkYXRhVHlwZXMpIHtcblxuICAgICAgICAgICAgaWYgKGRhdGFUeXBlcy5oYXNPd25Qcm9wZXJ0eShkYXRhVHlwZU5hbWUpKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF0YVR5cGVDaGVja2VyID0gZGF0YVR5cGVzW2RhdGFUeXBlTmFtZV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFUeXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICAgICAgICAgICsgY29tcG9uZW50TmFtZSArICc6JyArIGRhdGFUeXBlTmFtZSArICcgaXMgaW52YWxpZDsgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gc2FuLkRhdGFUeXBlcydcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhVHlwZUNoZWNrZXIoXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGVOYW1lXG4gICAgICAgICAgICAgICAgKTtcblxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbn1cblxuLy8gI1tlbmRdXG5cbi8vIG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGF0YVR5cGVzQ2hlY2tlcjtcblxuXG4vKipcbiAqIEBmaWxlIOWtl+espuS4sua6kOeggeivu+WPluexu1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vKipcbiAqIOWtl+espuS4sua6kOeggeivu+WPluexu++8jOeUqOS6juaooeadv+Wtl+espuS4suino+aekOi/h+eoi1xuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSDopoHor7vlj5bnmoTlrZfnrKbkuLJcbiAqL1xuZnVuY3Rpb24gV2Fsa2VyKHNvdXJjZSkge1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIHRoaXMubGVuID0gdGhpcy5zb3VyY2UubGVuZ3RoO1xuICAgIHRoaXMuaW5kZXggPSAwO1xufVxuXG4vKipcbiAqIOiOt+WPluW9k+WJjeWtl+espueggVxuICpcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuV2Fsa2VyLnByb3RvdHlwZS5jdXJyZW50Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jaGFyQ29kZSh0aGlzLmluZGV4KTtcbn07XG5cbi8qKlxuICog5oiq5Y+W5a2X56ym5Liy54mH5q61XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IOi1t+Wni+S9jee9rlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCDnu5PmnZ/kvY3nva5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuV2Fsa2VyLnByb3RvdHlwZS5jdXQgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKTtcbn07XG5cbi8qKlxuICog5ZCR5YmN6K+75Y+W5a2X56ymXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIOivu+WPluWtl+espuaVsFxuICovXG5XYWxrZXIucHJvdG90eXBlLmdvID0gZnVuY3Rpb24gKGRpc3RhbmNlKSB7XG4gICAgdGhpcy5pbmRleCArPSBkaXN0YW5jZTtcbn07XG5cbi8qKlxuICog6K+75Y+W5LiL5LiA5Liq5a2X56ym77yM6L+U5Zue5LiL5LiA5Liq5a2X56ym55qEIGNvZGVcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbldhbGtlci5wcm90b3R5cGUubmV4dENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5nbygxKTtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50Q29kZSgpO1xufTtcblxuLyoqXG4gKiDojrflj5bnm7jlupTkvY3nva7lrZfnrKbnmoQgY29kZVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCDlrZfnrKbkvY3nva5cbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuV2Fsa2VyLnByb3RvdHlwZS5jaGFyQ29kZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLnNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcbn07XG5cbi8qKlxuICog5ZCR5YmN6K+75Y+W5a2X56ym77yM55u05Yiw6YGH5Yiw5oyH5a6a5a2X56ym5YaN5YGc5q2iXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBjaGFyQ29kZSDmjIflrprlrZfnrKbnmoRjb2RlXG4gKiBAcmV0dXJuIHtib29sZWFufSDlvZPmjIflrprlrZfnrKbml7bvvIzov5Tlm57mmK/lkKbnorDliLDmjIflrprnmoTlrZfnrKZcbiAqL1xuV2Fsa2VyLnByb3RvdHlwZS5nb1VudGlsID0gZnVuY3Rpb24gKGNoYXJDb2RlKSB7XG4gICAgdmFyIGNvZGU7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmxlbiAmJiAoY29kZSA9IHRoaXMuY3VycmVudENvZGUoKSkpIHtcbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IGNoYXJDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICog5ZCR5YmN6K+75Y+W56ym5ZCI6KeE5YiZ55qE5a2X56ym54mH5q6177yM5bm26L+U5Zue6KeE5YiZ5Yy56YWN57uT5p6cXG4gKlxuICogQHBhcmFtIHtSZWdFeHB9IHJlZyDlrZfnrKbniYfmrrXnmoTmraPliJnooajovr7lvI9cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5XYWxrZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKHJlZykge1xuICAgIHJlZy5sYXN0SW5kZXggPSB0aGlzLmluZGV4O1xuXG4gICAgdmFyIG1hdGNoID0gcmVnLmV4ZWModGhpcy5zb3VyY2UpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICB0aGlzLmluZGV4ID0gcmVnLmxhc3RJbmRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2g7XG59O1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBXYWxrZXI7XG5cblxuXG4vKipcbiAqIEBmaWxlIOaooeadv+ino+aekOeUn+aIkOeahOaKveixoeiKgueCuVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDliJvlu7rmqKHmnb/op6PmnpDnlJ/miJDnmoTmir3osaHoioLngrlcbiAqXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMg6IqC54K55Y+C5pWwXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdGlvbnMudGFnTmFtZSDmoIfnrb7lkI1cbiAqIEBwYXJhbSB7QU5vZGU9fSBvcHRpb25zLnBhcmVudCDniLboioLngrlcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdGlvbnMudGV4dEV4cHIg5paH5pys6IqC54K56KGo6L6+5byP5a+56LGhXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFOb2RlKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmICghb3B0aW9ucy50ZXh0RXhwcikge1xuICAgICAgICBvcHRpb25zLmRpcmVjdGl2ZXMgPSBvcHRpb25zLmRpcmVjdGl2ZXMgfHwge307XG4gICAgICAgIG9wdGlvbnMucHJvcHMgPSBvcHRpb25zLnByb3BzIHx8IFtdO1xuICAgICAgICBvcHRpb25zLmV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzIHx8IFtdO1xuICAgICAgICBvcHRpb25zLmNoaWxkcmVuID0gb3B0aW9ucy5jaGlsZHJlbiB8fCBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlQU5vZGU7XG5cblxuLyoqXG4gKiBAZmlsZSDmiooga2ViYWIgY2FzZSDlrZfnrKbkuLLovazmjaLmiJAgY2FtZWwgY2FzZVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDmiooga2ViYWIgY2FzZSDlrZfnrKbkuLLovazmjaLmiJAgY2FtZWwgY2FzZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug5rqQ5a2X56ym5LiyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGtlYmFiMmNhbWVsKHNvdXJjZSkge1xuICAgIHJldHVybiBzb3VyY2UucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24gKG1hdGNoLCBhbHBoYSkge1xuICAgICAgICByZXR1cm4gYWxwaGEudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0ga2ViYWIyY2FtZWw7XG5cblxuLyoqXG4gKiBAZmlsZSDooajovr7lvI/nsbvlnotcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICog6KGo6L6+5byP57G75Z6LXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgRXhwclR5cGUgPSB7XG4gICAgU1RSSU5HOiAxLFxuICAgIE5VTUJFUjogMixcbiAgICBCT09MOiAzLFxuICAgIEFDQ0VTU09SOiA0LFxuICAgIElOVEVSUDogNSxcbiAgICBDQUxMOiA2LFxuICAgIFRFWFQ6IDcsXG4gICAgQklOQVJZOiA4LFxuICAgIFVOQVJZOiA5LFxuICAgIFRFUlRJQVJZOiAxMFxufTtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gRXhwclR5cGU7XG5cblxuLyoqXG4gKiBAZmlsZSDliJvlu7rorr/pl67ooajovr7lvI/lr7nosaFcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG5cbi8qKlxuICog5Yib5bu66K6/6Zeu6KGo6L6+5byP5a+56LGhXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aHMg6K6/6Zeu6Lev5b6EXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFjY2Vzc29yKHBhdGhzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogRXhwclR5cGUuQUNDRVNTT1IsXG4gICAgICAgIHBhdGhzOiBwYXRoc1xuICAgIH07XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUFjY2Vzc29yO1xuXG5cbi8qKlxuICogQGZpbGUg6K+75Y+W5a2X56ym5LiyXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG5cbi8qKlxuICog6K+75Y+W5a2X56ym5LiyXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZFN0cmluZyh3YWxrZXIpIHtcbiAgICB2YXIgc3RhcnRDb2RlID0gd2Fsa2VyLmN1cnJlbnRDb2RlKCk7XG4gICAgdmFyIHN0YXJ0SW5kZXggPSB3YWxrZXIuaW5kZXg7XG4gICAgdmFyIGNoYXJDb2RlO1xuXG4gICAgd2Fsa0xvb3A6IHdoaWxlICgoY2hhckNvZGUgPSB3YWxrZXIubmV4dENvZGUoKSkpIHtcbiAgICAgICAgc3dpdGNoIChjaGFyQ29kZSkge1xuICAgICAgICAgICAgY2FzZSA5MjogLy8gXFxcbiAgICAgICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHN0YXJ0Q29kZTpcbiAgICAgICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgICAgICAgICAgYnJlYWsgd2Fsa0xvb3A7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGl0ZXJhbCA9IHdhbGtlci5jdXQoc3RhcnRJbmRleCwgd2Fsa2VyLmluZGV4KTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBFeHByVHlwZS5TVFJJTkcsXG4gICAgICAgIHZhbHVlOiAobmV3IEZ1bmN0aW9uKCdyZXR1cm4gJyArIGxpdGVyYWwpKSgpXG4gICAgfTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZFN0cmluZztcblxuXG4vKipcbiAqIEBmaWxlIOivu+WPluaVsOWtl1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuL2V4cHItdHlwZScpO1xuXG4vKipcbiAqIOivu+WPluaVsOWtl1xuICpcbiAqIEBpbm5lclxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZE51bWJlcih3YWxrZXIpIHtcbiAgICB2YXIgbWF0Y2ggPSB3YWxrZXIubWF0Y2goL1xccyooLT9bMC05XSsoXFwuWzAtOV0rKT8pL2cpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogRXhwclR5cGUuTlVNQkVSLFxuICAgICAgICB2YWx1ZTogbWF0Y2hbMV0gLSAwXG4gICAgfTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZE51bWJlcjtcblxuXG4vKipcbiAqIEBmaWxlIOivu+WPlmlkZW50XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vKipcbiAqIOivu+WPlmlkZW50XG4gKlxuICogQGlubmVyXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiByZWFkSWRlbnQod2Fsa2VyKSB7XG4gICAgdmFyIG1hdGNoID0gd2Fsa2VyLm1hdGNoKC9cXHMqKFtcXCQwLTlhLXpfXSspL2lnKTtcbiAgICByZXR1cm4gbWF0Y2hbMV07XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRJZGVudDtcblxuXG4vKipcbiAqIEBmaWxlIOivu+WPluS4ieWFg+ihqOi+vuW8j1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9leHByLXR5cGUnKTtcbi8vIHZhciByZWFkTG9naWNhbE9SRXhwciA9IHJlcXVpcmUoJy4vcmVhZC1sb2dpY2FsLW9yLWV4cHInKTtcblxuLyoqXG4gKiDor7vlj5bkuInlhYPooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkVGVydGlhcnlFeHByKHdhbGtlcikge1xuICAgIHZhciBjb25kaXRpb25hbCA9IHJlYWRMb2dpY2FsT1JFeHByKHdhbGtlcik7XG4gICAgd2Fsa2VyLmdvVW50aWwoKTtcblxuICAgIGlmICh3YWxrZXIuY3VycmVudENvZGUoKSA9PT0gNjMpIHsgLy8gP1xuICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgIHZhciB5ZXNFeHByID0gcmVhZFRlcnRpYXJ5RXhwcih3YWxrZXIpO1xuICAgICAgICB3YWxrZXIuZ29VbnRpbCgpO1xuXG4gICAgICAgIGlmICh3YWxrZXIuY3VycmVudENvZGUoKSA9PT0gNTgpIHsgLy8gOlxuICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5URVJUSUFSWSxcbiAgICAgICAgICAgICAgICBzZWdzOiBbXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbmFsLFxuICAgICAgICAgICAgICAgICAgICB5ZXNFeHByLFxuICAgICAgICAgICAgICAgICAgICByZWFkVGVydGlhcnlFeHByKHdhbGtlcilcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmRpdGlvbmFsO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZWFkVGVydGlhcnlFeHByO1xuXG5cbi8qKlxuICogQGZpbGUg6K+75Y+W6K6/6Zeu6KGo6L6+5byPXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuL2V4cHItdHlwZScpO1xuLy8gdmFyIGNyZWF0ZUFjY2Vzc29yID0gcmVxdWlyZSgnLi9jcmVhdGUtYWNjZXNzb3InKTtcbi8vIHZhciByZWFkSWRlbnQgPSByZXF1aXJlKCcuL3JlYWQtaWRlbnQnKTtcbi8vIHZhciByZWFkVGVydGlhcnlFeHByID0gcmVxdWlyZSgnLi9yZWFkLXRlcnRpYXJ5LWV4cHInKTtcblxuLyoqXG4gKiDor7vlj5borr/pl67ooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkQWNjZXNzb3Iod2Fsa2VyKSB7XG4gICAgdmFyIGZpcnN0U2VnID0gcmVhZElkZW50KHdhbGtlcik7XG4gICAgc3dpdGNoIChmaXJzdFNlZykge1xuICAgICAgICBjYXNlICd0cnVlJzpcbiAgICAgICAgY2FzZSAnZmFsc2UnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5CT09MLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmaXJzdFNlZyA9PT0gJ3RydWUnXG4gICAgICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSBjcmVhdGVBY2Nlc3NvcihbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLlNUUklORyxcbiAgICAgICAgICAgIHZhbHVlOiBmaXJzdFNlZ1xuICAgICAgICB9XG4gICAgXSk7XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zdGFudC1jb25kaXRpb24gKi9cbiAgICBhY2Nlc3Nvckxvb3A6IHdoaWxlICgxKSB7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zdGFudC1jb25kaXRpb24gKi9cblxuICAgICAgICBzd2l0Y2ggKHdhbGtlci5jdXJyZW50Q29kZSgpKSB7XG4gICAgICAgICAgICBjYXNlIDQ2OiAvLyAuXG4gICAgICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWRlbnQgYXMgc3RyaW5nXG4gICAgICAgICAgICAgICAgcmVzdWx0LnBhdGhzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5TVFJJTkcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZWFkSWRlbnQod2Fsa2VyKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDkxOiAvLyBbXG4gICAgICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wYXRocy5wdXNoKHJlYWRUZXJ0aWFyeUV4cHIod2Fsa2VyKSk7XG4gICAgICAgICAgICAgICAgd2Fsa2VyLmdvVW50aWwoOTMpOyAvLyBdXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWsgYWNjZXNzb3JMb29wO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZEFjY2Vzc29yO1xuXG5cbi8qKlxuICogQGZpbGUg6K+75Y+W5ous5Y+36KGo6L6+5byPXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgcmVhZFRlcnRpYXJ5RXhwciA9IHJlcXVpcmUoJy4vcmVhZC10ZXJ0aWFyeS1leHByJyk7XG5cbi8qKlxuICog6K+75Y+W5ous5Y+36KGo6L6+5byPXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZFBhcmVudGhlc2l6ZWRFeHByKHdhbGtlcikge1xuICAgIHdhbGtlci5nbygxKTtcbiAgICB2YXIgZXhwciA9IHJlYWRUZXJ0aWFyeUV4cHIod2Fsa2VyKTtcbiAgICB3YWxrZXIuZ29VbnRpbCg0MSk7IC8vIClcblxuICAgIHJldHVybiBleHByO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZWFkUGFyZW50aGVzaXplZEV4cHI7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5bkuIDlhYPooajovr7lvI9cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgcmVhZFN0cmluZyA9IHJlcXVpcmUoJy4vcmVhZC1zdHJpbmcnKTtcbi8vIHZhciByZWFkTnVtYmVyID0gcmVxdWlyZSgnLi9yZWFkLW51bWJlcicpO1xuLy8gdmFyIHJlYWRBY2Nlc3NvciA9IHJlcXVpcmUoJy4vcmVhZC1hY2Nlc3NvcicpO1xuLy8gdmFyIHJlYWRQYXJlbnRoZXNpemVkRXhwciA9IHJlcXVpcmUoJy4vcmVhZC1wYXJlbnRoZXNpemVkLWV4cHInKTtcblxuXG4vKipcbiAqIOivu+WPluS4gOWFg+ihqOi+vuW8j1xuICpcbiAqIEBwYXJhbSB7V2Fsa2VyfSB3YWxrZXIg5rqQ56CB6K+75Y+W5a+56LGhXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJlYWRVbmFyeUV4cHIod2Fsa2VyKSB7XG4gICAgd2Fsa2VyLmdvVW50aWwoKTtcblxuICAgIHN3aXRjaCAod2Fsa2VyLmN1cnJlbnRDb2RlKCkpIHtcbiAgICAgICAgY2FzZSAzMzogLy8gIVxuICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5VTkFSWSxcbiAgICAgICAgICAgICAgICBleHByOiByZWFkVW5hcnlFeHByKHdhbGtlcilcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgMzQ6IC8vIFwiXG4gICAgICAgIGNhc2UgMzk6IC8vICdcbiAgICAgICAgICAgIHJldHVybiByZWFkU3RyaW5nKHdhbGtlcik7XG4gICAgICAgIGNhc2UgNDU6IC8vIG51bWJlclxuICAgICAgICBjYXNlIDQ4OlxuICAgICAgICBjYXNlIDQ5OlxuICAgICAgICBjYXNlIDUwOlxuICAgICAgICBjYXNlIDUxOlxuICAgICAgICBjYXNlIDUyOlxuICAgICAgICBjYXNlIDUzOlxuICAgICAgICBjYXNlIDU0OlxuICAgICAgICBjYXNlIDU1OlxuICAgICAgICBjYXNlIDU2OlxuICAgICAgICBjYXNlIDU3OlxuICAgICAgICAgICAgcmV0dXJuIHJlYWROdW1iZXIod2Fsa2VyKTtcbiAgICAgICAgY2FzZSA0MDogLy8gKFxuICAgICAgICAgICAgcmV0dXJuIHJlYWRQYXJlbnRoZXNpemVkRXhwcih3YWxrZXIpO1xuICAgIH1cblxuICAgIHJldHVybiByZWFkQWNjZXNzb3Iod2Fsa2VyKTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZFVuYXJ5RXhwcjtcblxuXG4vKipcbiAqIEBmaWxlIOivu+WPluS5mOazleihqOi+vuW8j1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9leHByLXR5cGUnKTtcbi8vIHZhciByZWFkVW5hcnlFeHByID0gcmVxdWlyZSgnLi9yZWFkLXVuYXJ5LWV4cHInKTtcblxuLyoqXG4gKiDor7vlj5bkuZjms5Xooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkTXVsdGlwbGljYXRpdmVFeHByKHdhbGtlcikge1xuICAgIHZhciBleHByID0gcmVhZFVuYXJ5RXhwcih3YWxrZXIpO1xuXG4gICAgd2hpbGUgKDEpIHtcbiAgICAgICAgd2Fsa2VyLmdvVW50aWwoKTtcblxuICAgICAgICB2YXIgY29kZSA9IHdhbGtlci5jdXJyZW50Q29kZSgpO1xuICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgMzc6IC8vICVcbiAgICAgICAgICAgIGNhc2UgNDI6IC8vICpcbiAgICAgICAgICAgIGNhc2UgNDc6IC8vIC9cbiAgICAgICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgICAgICAgICAgZXhwciA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuQklOQVJZLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogY29kZSxcbiAgICAgICAgICAgICAgICAgICAgc2VnczogW2V4cHIsIHJlYWRVbmFyeUV4cHIod2Fsa2VyKV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG5cbiAgICByZXR1cm4gZXhwcjtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZE11bHRpcGxpY2F0aXZlRXhwcjtcblxuXG4vKipcbiAqIEBmaWxlIOivu+WPluWKoOazleihqOi+vuW8j1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9leHByLXR5cGUnKTtcbi8vIHZhciByZWFkTXVsdGlwbGljYXRpdmVFeHByID0gcmVxdWlyZSgnLi9yZWFkLW11bHRpcGxpY2F0aXZlLWV4cHInKTtcblxuXG4vKipcbiAqIOivu+WPluWKoOazleihqOi+vuW8j1xuICpcbiAqIEBwYXJhbSB7V2Fsa2VyfSB3YWxrZXIg5rqQ56CB6K+75Y+W5a+56LGhXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJlYWRBZGRpdGl2ZUV4cHIod2Fsa2VyKSB7XG4gICAgdmFyIGV4cHIgPSByZWFkTXVsdGlwbGljYXRpdmVFeHByKHdhbGtlcik7XG5cbiAgICB3aGlsZSAoMSkge1xuICAgICAgICB3YWxrZXIuZ29VbnRpbCgpO1xuICAgICAgICB2YXIgY29kZSA9IHdhbGtlci5jdXJyZW50Q29kZSgpO1xuXG4gICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgY2FzZSA0MzogLy8gK1xuICAgICAgICAgICAgY2FzZSA0NTogLy8gLVxuICAgICAgICAgICAgICAgIHdhbGtlci5nbygxKTtcbiAgICAgICAgICAgICAgICBleHByID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5CSU5BUlksXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBjb2RlLFxuICAgICAgICAgICAgICAgICAgICBzZWdzOiBbZXhwciwgcmVhZE11bHRpcGxpY2F0aXZlRXhwcih3YWxrZXIpXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwcjtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZEFkZGl0aXZlRXhwcjtcblxuXG4vKipcbiAqIEBmaWxlIOivu+WPluWFs+ezu+WIpOaWreihqOi+vuW8j1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9leHByLXR5cGUnKTtcbi8vIHZhciByZWFkQWRkaXRpdmVFeHByID0gcmVxdWlyZSgnLi9yZWFkLWFkZGl0aXZlLWV4cHInKTtcblxuLyoqXG4gKiDor7vlj5blhbPns7vliKTmlq3ooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkUmVsYXRpb25hbEV4cHIod2Fsa2VyKSB7XG4gICAgdmFyIGV4cHIgPSByZWFkQWRkaXRpdmVFeHByKHdhbGtlcik7XG4gICAgd2Fsa2VyLmdvVW50aWwoKTtcblxuICAgIHZhciBjb2RlID0gd2Fsa2VyLmN1cnJlbnRDb2RlKCk7XG4gICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgIGNhc2UgNjA6IC8vIDxcbiAgICAgICAgY2FzZSA2MjogLy8gPlxuICAgICAgICAgICAgaWYgKHdhbGtlci5uZXh0Q29kZSgpID09PSA2MSkge1xuICAgICAgICAgICAgICAgIGNvZGUgKz0gNjE7XG4gICAgICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLkJJTkFSWSxcbiAgICAgICAgICAgICAgICBvcGVyYXRvcjogY29kZSxcbiAgICAgICAgICAgICAgICBzZWdzOiBbZXhwciwgcmVhZEFkZGl0aXZlRXhwcih3YWxrZXIpXVxuICAgICAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwcjtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZFJlbGF0aW9uYWxFeHByO1xuXG5cbi8qKlxuICogQGZpbGUg6K+75Y+W55u4562J5q+U5a+56KGo6L6+5byPXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuL2V4cHItdHlwZScpO1xuLy8gdmFyIHJlYWRSZWxhdGlvbmFsRXhwciA9IHJlcXVpcmUoJy4vcmVhZC1yZWxhdGlvbmFsLWV4cHInKTtcblxuLyoqXG4gKiDor7vlj5bnm7jnrYnmr5Tlr7nooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkRXF1YWxpdHlFeHByKHdhbGtlcikge1xuICAgIHZhciBleHByID0gcmVhZFJlbGF0aW9uYWxFeHByKHdhbGtlcik7XG4gICAgd2Fsa2VyLmdvVW50aWwoKTtcblxuICAgIHZhciBjb2RlID0gd2Fsa2VyLmN1cnJlbnRDb2RlKCk7XG4gICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgIGNhc2UgNjE6IC8vID1cbiAgICAgICAgY2FzZSAzMzogLy8gIVxuICAgICAgICAgICAgaWYgKHdhbGtlci5uZXh0Q29kZSgpID09PSA2MSkge1xuICAgICAgICAgICAgICAgIGNvZGUgKz0gNjE7XG4gICAgICAgICAgICAgICAgaWYgKHdhbGtlci5uZXh0Q29kZSgpID09PSA2MSkge1xuICAgICAgICAgICAgICAgICAgICBjb2RlICs9IDYxO1xuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuQklOQVJZLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogY29kZSxcbiAgICAgICAgICAgICAgICAgICAgc2VnczogW2V4cHIsIHJlYWRSZWxhdGlvbmFsRXhwcih3YWxrZXIpXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdhbGtlci5nbygtMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cHI7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRFcXVhbGl0eUV4cHI7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5bpgLvovpHkuI7ooajovr7lvI9cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgcmVhZEVxdWFsaXR5RXhwciA9IHJlcXVpcmUoJy4vcmVhZC1lcXVhbGl0eS1leHByJyk7XG5cbi8qKlxuICog6K+75Y+W6YC76L6R5LiO6KGo6L6+5byPXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZExvZ2ljYWxBTkRFeHByKHdhbGtlcikge1xuICAgIHZhciBleHByID0gcmVhZEVxdWFsaXR5RXhwcih3YWxrZXIpO1xuICAgIHdhbGtlci5nb1VudGlsKCk7XG5cbiAgICBpZiAod2Fsa2VyLmN1cnJlbnRDb2RlKCkgPT09IDM4KSB7IC8vICZcbiAgICAgICAgaWYgKHdhbGtlci5uZXh0Q29kZSgpID09PSAzOCkge1xuICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5CSU5BUlksXG4gICAgICAgICAgICAgICAgb3BlcmF0b3I6IDc2LFxuICAgICAgICAgICAgICAgIHNlZ3M6IFtleHByLCByZWFkTG9naWNhbEFOREV4cHIod2Fsa2VyKV1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB3YWxrZXIuZ28oLTEpO1xuICAgIH1cblxuICAgIHJldHVybiBleHByO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZWFkTG9naWNhbEFOREV4cHI7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5bpgLvovpHmiJbooajovr7lvI9cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgcmVhZExvZ2ljYWxBTkRFeHByID0gcmVxdWlyZSgnLi9yZWFkLWxvZ2ljYWwtYW5kLWV4cHInKTtcblxuLyoqXG4gKiDor7vlj5bpgLvovpHmiJbooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkTG9naWNhbE9SRXhwcih3YWxrZXIpIHtcbiAgICB2YXIgZXhwciA9IHJlYWRMb2dpY2FsQU5ERXhwcih3YWxrZXIpO1xuICAgIHdhbGtlci5nb1VudGlsKCk7XG5cbiAgICBpZiAod2Fsa2VyLmN1cnJlbnRDb2RlKCkgPT09IDEyNCkgeyAvLyB8XG4gICAgICAgIGlmICh3YWxrZXIubmV4dENvZGUoKSA9PT0gMTI0KSB7XG4gICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLkJJTkFSWSxcbiAgICAgICAgICAgICAgICBvcGVyYXRvcjogMjQ4LFxuICAgICAgICAgICAgICAgIHNlZ3M6IFtleHByLCByZWFkTG9naWNhbE9SRXhwcih3YWxrZXIpXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdhbGtlci5nbygtMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cHI7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRMb2dpY2FsT1JFeHByO1xuXG5cbi8qKlxuICogQGZpbGUg6Kej5p6Q6KGo6L6+5byPXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgV2Fsa2VyID0gcmVxdWlyZSgnLi93YWxrZXInKTtcbi8vIHZhciByZWFkVGVydGlhcnlFeHByID0gcmVxdWlyZSgnLi9yZWFkLXRlcnRpYXJ5LWV4cHInKTtcblxuLyoqXG4gKiDop6PmnpDooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOa6kOeggVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBwYXJzZUV4cHIoc291cmNlKSB7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdvYmplY3QnICYmIHNvdXJjZS50eXBlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfVxuXG4gICAgdmFyIGV4cHIgPSByZWFkVGVydGlhcnlFeHByKG5ldyBXYWxrZXIoc291cmNlKSk7XG4gICAgZXhwci5yYXcgPSBzb3VyY2U7XG4gICAgcmV0dXJuIGV4cHI7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHBhcnNlRXhwcjtcblxuXG4vKipcbiAqIEBmaWxlIOivu+WPluiwg+eUqFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9leHByLXR5cGUnKTtcbi8vIHZhciByZWFkQWNjZXNzb3IgPSByZXF1aXJlKCcuL3JlYWQtYWNjZXNzb3InKTtcbi8vIHZhciByZWFkVGVydGlhcnlFeHByID0gcmVxdWlyZSgnLi9yZWFkLXRlcnRpYXJ5LWV4cHInKTtcblxuLyoqXG4gKiDor7vlj5bosIPnlKhcbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHBhcmFtIHtBcnJheT19IGRlZmF1bHRBcmdzIOm7mOiupOWPguaVsFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkQ2FsbCh3YWxrZXIsIGRlZmF1bHRBcmdzKSB7XG4gICAgd2Fsa2VyLmdvVW50aWwoKTtcbiAgICB2YXIgaWRlbnQgPSByZWFkQWNjZXNzb3Iod2Fsa2VyKTtcbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgaWYgKHdhbGtlci5nb1VudGlsKDQwKSkgeyAvLyAoXG4gICAgICAgIHdoaWxlICghd2Fsa2VyLmdvVW50aWwoNDEpKSB7IC8vIClcbiAgICAgICAgICAgIGFyZ3MucHVzaChyZWFkVGVydGlhcnlFeHByKHdhbGtlcikpO1xuICAgICAgICAgICAgd2Fsa2VyLmdvVW50aWwoNDQpOyAvLyAsXG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZGVmYXVsdEFyZ3MpIHtcbiAgICAgICAgYXJncyA9IGRlZmF1bHRBcmdzO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IEV4cHJUeXBlLkNBTEwsXG4gICAgICAgIG5hbWU6IGlkZW50LFxuICAgICAgICBhcmdzOiBhcmdzXG4gICAgfTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZENhbGw7XG5cblxuLyoqXG4gKiBAZmlsZSDop6PmnpDosIPnlKhcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIFdhbGtlciA9IHJlcXVpcmUoJy4vd2Fsa2VyJyk7XG4vLyB2YXIgcmVhZENhbGwgPSByZXF1aXJlKCcuL3JlYWQtY2FsbCcpO1xuXG4vKipcbiAqIOino+aekOiwg+eUqFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug5rqQ56CBXG4gKiBAcGFyYW0ge0FycmF5PX0gZGVmYXVsdEFyZ3Mg6buY6K6k5Y+C5pWwXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ2FsbChzb3VyY2UsIGRlZmF1bHRBcmdzKSB7XG4gICAgdmFyIGV4cHIgPSByZWFkQ2FsbChuZXcgV2Fsa2VyKHNvdXJjZSksIGRlZmF1bHRBcmdzKTtcbiAgICBleHByLnJhdyA9IHNvdXJjZTtcbiAgICByZXR1cm4gZXhwcjtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcGFyc2VDYWxsO1xuXG5cbi8qKlxuICogQGZpbGUg6Kej5p6Q5o+S5YC85pu/5o2iXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgV2Fsa2VyID0gcmVxdWlyZSgnLi93YWxrZXInKTtcbi8vIHZhciByZWFkVGVydGlhcnlFeHByID0gcmVxdWlyZSgnLi9yZWFkLXRlcnRpYXJ5LWV4cHInKTtcbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgcmVhZENhbGwgPSByZXF1aXJlKCcuL3JlYWQtY2FsbCcpO1xuXG4vKipcbiAqIOino+aekOaPkuWAvOabv+aNolxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug5rqQ56CBXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlSW50ZXJwKHNvdXJjZSkge1xuICAgIHZhciB3YWxrZXIgPSBuZXcgV2Fsa2VyKHNvdXJjZSk7XG5cbiAgICB2YXIgaW50ZXJwID0ge1xuICAgICAgICB0eXBlOiBFeHByVHlwZS5JTlRFUlAsXG4gICAgICAgIGV4cHI6IHJlYWRUZXJ0aWFyeUV4cHIod2Fsa2VyKSxcbiAgICAgICAgZmlsdGVyczogW10sXG4gICAgICAgIHJhdzogc291cmNlXG4gICAgfTtcblxuICAgIHdoaWxlICh3YWxrZXIuZ29VbnRpbCgxMjQpKSB7IC8vIHxcbiAgICAgICAgdmFyIGNhbGxFeHByID0gcmVhZENhbGwod2Fsa2VyKTtcbiAgICAgICAgc3dpdGNoIChjYWxsRXhwci5uYW1lLnBhdGhzWzBdLnZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Jhdyc6XG4gICAgICAgICAgICAgICAgaW50ZXJwLm9yaWdpbmFsID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaW50ZXJwLmZpbHRlcnMucHVzaChjYWxsRXhwcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJwO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBwYXJzZUludGVycDtcblxuXG4vKipcbiAqIEBmaWxlIOino+eggSBIVE1MIOWtl+espuWunuS9k1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxudmFyIEVOVElUWV9ERUNPREVfTUFQID0ge1xuICAgIGx0OiAnPCcsXG4gICAgZ3Q6ICc+JyxcbiAgICBuYnNwOiAnICcsXG4gICAgcXVvdDogJ1xcXCInLFxuICAgIGVtc3A6ICdcXHUyMDAzJyxcbiAgICBlbnNwOiAnXFx1MjAwMicsXG4gICAgdGhpbnNwOiAnXFx1MjAwOScsXG4gICAgY29weTogJ1xceGE5JyxcbiAgICByZWc6ICdcXHhhZScsXG4gICAgenduajogJ1xcdTIwMGMnLFxuICAgIHp3ajogJ1xcdTIwMGQnLFxuICAgIGFtcDogJyYnXG59O1xuXG4vKipcbiAqIOino+eggSBIVE1MIOWtl+espuWunuS9k1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug6KaB6Kej56CB55qE5a2X56ym5LiyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGRlY29kZUhUTUxFbnRpdHkoc291cmNlKSB7XG4gICAgcmV0dXJuIHNvdXJjZVxuICAgICAgICAucmVwbGFjZSgvJiMoWzAtOV0rKTsvZywgZnVuY3Rpb24gKG1hdGNoLCBjb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgrY29kZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKC8mI3goWzAtOWEtZl0rKTsvaWcsIGZ1bmN0aW9uIChtYXRjaCwgY29kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoY29kZSwgMTYpKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnJlcGxhY2UoLyYoW2Etel0rKTsvaWcsIGZ1bmN0aW9uIChtYXRjaCwgY29kZSkge1xuICAgICAgICAgICAgcmV0dXJuIEVOVElUWV9ERUNPREVfTUFQW2NvZGVdIHx8IG1hdGNoO1xuICAgICAgICB9KTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZGVjb2RlSFRNTEVudGl0eTtcblxuXG4vKipcbiAqIEBmaWxlIOino+aekOaWh+acrFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIFdhbGtlciA9IHJlcXVpcmUoJy4vd2Fsa2VyJyk7XG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuL2V4cHItdHlwZScpO1xuLy8gdmFyIHBhcnNlSW50ZXJwID0gcmVxdWlyZSgnLi9wYXJzZS1pbnRlcnAnKTtcbi8vIHZhciBkZWNvZGVIVE1MRW50aXR5ID0gcmVxdWlyZSgnLi4vdXRpbC9kZWNvZGUtaHRtbC1lbnRpdHknKTtcblxuLyoqXG4gKiDlr7nlrZfnrKbkuLLov5vooYzlj6/nlKjkuo5uZXcgUmVnRXhw55qE5a2X6Z2i5YyWXG4gKlxuICogQGlubmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOmcgOimgeWtl+mdouWMlueahOWtl+espuS4slxuICogQHJldHVybiB7c3RyaW5nfSDlrZfnrKbkuLLlrZfpnaLljJbnu5PmnpxcbiAqL1xuZnVuY3Rpb24gcmVnZXhwTGl0ZXJhbChzb3VyY2UpIHtcbiAgICByZXR1cm4gc291cmNlLnJlcGxhY2UoL1tcXF5cXFtcXF1cXCRcXChcXClcXHtcXH1cXD9cXCpcXC5cXCtcXFxcXS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gJ1xcXFwnICsgYztcbiAgICB9KTtcbn1cblxuLyoqXG4gKiDop6PmnpDmlofmnKxcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOa6kOeggVxuICogQHBhcmFtIHtBcnJheT99IGRlbGltaXRlcnMg5YiG6ZqU56ym44CC6buY6K6k5Li6IFsne3snLCAnfX0nXVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBwYXJzZVRleHQoc291cmNlLCBkZWxpbWl0ZXJzKSB7XG4gICAgZGVsaW1pdGVycyA9IGRlbGltaXRlcnMgfHwgWyd7eycsICd9fSddO1xuICAgIHZhciBleHByU3RhcnRSZWcgPSBuZXcgUmVnRXhwKFxuICAgICAgICByZWdleHBMaXRlcmFsKGRlbGltaXRlcnNbMF0pICsgJ1xcXFxzKihbXFxcXHNcXFxcU10rPylcXFxccyonICsgcmVnZXhwTGl0ZXJhbChkZWxpbWl0ZXJzWzFdKSxcbiAgICAgICAgJ2lnJ1xuICAgICk7XG5cbiAgICB2YXIgZXhwck1hdGNoO1xuXG4gICAgdmFyIHdhbGtlciA9IG5ldyBXYWxrZXIoc291cmNlKTtcbiAgICB2YXIgYmVmb3JlSW5kZXggPSAwO1xuXG4gICAgdmFyIGV4cHIgPSB7XG4gICAgICAgIHR5cGU6IEV4cHJUeXBlLlRFWFQsXG4gICAgICAgIHNlZ3M6IFtdXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHB1c2hTdHJpbmdUb1NlZyh0ZXh0KSB7XG4gICAgICAgIHRleHQgJiYgZXhwci5zZWdzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuU1RSSU5HLFxuICAgICAgICAgICAgbGl0ZXJhbDogdGV4dCxcbiAgICAgICAgICAgIHZhbHVlOiBkZWNvZGVIVE1MRW50aXR5KHRleHQpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHdoaWxlICgoZXhwck1hdGNoID0gd2Fsa2VyLm1hdGNoKGV4cHJTdGFydFJlZykpICE9IG51bGwpIHtcbiAgICAgICAgcHVzaFN0cmluZ1RvU2VnKHdhbGtlci5jdXQoXG4gICAgICAgICAgICBiZWZvcmVJbmRleCxcbiAgICAgICAgICAgIHdhbGtlci5pbmRleCAtIGV4cHJNYXRjaFswXS5sZW5ndGhcbiAgICAgICAgKSk7XG5cbiAgICAgICAgdmFyIGludGVycCA9IHBhcnNlSW50ZXJwKGV4cHJNYXRjaFsxXSk7XG4gICAgICAgIGV4cHIub3JpZ2luYWwgPSBleHByLm9yaWdpbmFsIHx8IGludGVycC5vcmlnaW5hbDtcblxuICAgICAgICBleHByLnNlZ3MucHVzaChpbnRlcnApO1xuICAgICAgICBiZWZvcmVJbmRleCA9IHdhbGtlci5pbmRleDtcbiAgICB9XG5cbiAgICBwdXNoU3RyaW5nVG9TZWcod2Fsa2VyLmN1dChiZWZvcmVJbmRleCkpO1xuXG5cblxuICAgIGlmIChleHByLnNlZ3MubGVuZ3RoID09PSAxICYmIGV4cHIuc2Vnc1swXS50eXBlID09PSBFeHByVHlwZS5TVFJJTkcpIHtcbiAgICAgICAgZXhwci52YWx1ZSA9IGV4cHIuc2Vnc1swXS52YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwcjtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcGFyc2VUZXh0O1xuXG5cbi8qKlxuICogQGZpbGUg6Kej5p6Q5oyH5LukXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBXYWxrZXIgPSByZXF1aXJlKCcuL3dhbGtlcicpO1xuLy8gdmFyIHBhcnNlRXhwciA9IHJlcXVpcmUoJy4vcGFyc2UtZXhwcicpO1xuLy8gdmFyIHBhcnNlQ2FsbCA9IHJlcXVpcmUoJy4vcGFyc2UtY2FsbCcpO1xuLy8gdmFyIHBhcnNlVGV4dCA9IHJlcXVpcmUoJy4vcGFyc2UtdGV4dCcpO1xuLy8gdmFyIHJlYWRBY2Nlc3NvciA9IHJlcXVpcmUoJy4vcmVhZC1hY2Nlc3NvcicpO1xuXG4vKipcbiAqIOaMh+S7pOino+aekOWZqFxuICpcbiAqIEBpbm5lclxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIGRpcmVjdGl2ZVBhcnNlcnMgPSB7XG4gICAgJ2Zvcic6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgd2Fsa2VyID0gbmV3IFdhbGtlcih2YWx1ZSk7XG4gICAgICAgIHZhciBtYXRjaCA9IHdhbGtlci5tYXRjaCgvXlxccyooW1xcJDAtOWEtel9dKykoXFxzKixcXHMqKFtcXCQwLTlhLXpfXSspKT9cXHMraW5cXHMrL2lnKTtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXRlbTogcGFyc2VFeHByKG1hdGNoWzFdKSxcbiAgICAgICAgICAgICAgICBpbmRleDogcGFyc2VFeHByKG1hdGNoWzNdIHx8ICckaW5kZXgnKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVhZEFjY2Vzc29yKHdhbGtlcilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRkFUQUxdIGZvciBzeW50YXggZXJyb3I6ICcgKyB2YWx1ZSk7XG4gICAgICAgIC8vICNbZW5kXVxuICAgIH0sXG5cbiAgICAncmVmJzogZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VUZXh0KHZhbHVlLCBvcHRpb25zLmRlbGltaXRlcnMpXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgICdpZic6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlRXhwcih2YWx1ZS5yZXBsYWNlKC8oXlxce1xce3xcXH1cXH0kKS9nLCAnJykpXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgICdlbGlmJzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VFeHByKHZhbHVlLnJlcGxhY2UoLyheXFx7XFx7fFxcfVxcfSQpL2csICcnKSlcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgJ2Vsc2UnOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICAnaHRtbCc6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlRXhwcih2YWx1ZS5yZXBsYWNlKC8oXlxce1xce3xcXH1cXH0kKS9nLCAnJykpXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgICd0cmFuc2l0aW9uJzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VDYWxsKHZhbHVlKVxuICAgICAgICB9O1xuICAgIH1cbn07XG5cbi8qKlxuICog6Kej5p6Q5oyH5LukXG4gKlxuICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg5oq96LGh6IqC54K5XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSDmjIfku6TlkI3np7BcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSDmjIfku6TlgLxcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOino+aekOWPguaVsFxuICogQHBhcmFtIHtBcnJheT99IG9wdGlvbnMuZGVsaW1pdGVycyDmj5LlgLzliIbpmpTnrKbliJfooahcbiAqL1xuZnVuY3Rpb24gcGFyc2VEaXJlY3RpdmUoYU5vZGUsIG5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgaWYgKG5hbWUgPT09ICdlbHNlLWlmJykge1xuICAgICAgICBuYW1lID0gJ2VsaWYnO1xuICAgIH1cblxuICAgIHZhciBwYXJzZXIgPSBkaXJlY3RpdmVQYXJzZXJzW25hbWVdO1xuICAgIGlmIChwYXJzZXIpIHtcbiAgICAgICAgKGFOb2RlLmRpcmVjdGl2ZXNbbmFtZV0gPSBwYXJzZXIodmFsdWUsIG9wdGlvbnMpKS5yYXcgPSB2YWx1ZTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHBhcnNlRGlyZWN0aXZlO1xuXG5cbi8qKlxuICogQGZpbGUg5a+55bGe5oCn5L+h5oGv6L+b6KGM5aSE55CGXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvZXhwci10eXBlJyk7XG5cbi8qKlxuICog5a+55bGe5oCn5L+h5oGv6L+b6KGM5aSE55CGXG4gKiDlr7nnu4Tku7bnmoQgYmluZHMg5oiW6ICF54m55q6K55qE5bGe5oCn77yI5q+U5aaCIGlucHV0IOeahCBjaGVja2Vk77yJ6ZyA6KaB5aSE55CGXG4gKlxuICog5omB5bmz5YyW77yaXG4gKiDlvZMgdGV4dCDop6PmnpDlj6rmnInkuIDpobnml7bvvIzopoHkuYjlsLHmmK8gc3RyaW5n77yM6KaB5LmI5bCx5pivIGludGVycFxuICogaW50ZXJwIOacieWPr+iDveaYr+e7keWumuWIsOe7hOS7tuWxnuaAp+eahOihqOi+vuW8j++8jOS4jeW4jOacm+iiqyBldmFsIHRleHQg5oiQIHN0cmluZ1xuICog5omA5Lul6L+Z6YeM5YGa5Liq5aSE55CG77yM5Y+q5pyJ5LiA6aG55pe255u05o6l5oq95Ye65p2lXG4gKlxuICogYm9vbOWxnuaAp++8mlxuICog5b2T57uR5a6a6aG55rKh5pyJ5YC85pe277yM6buY6K6k5Li6dHJ1ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wIOWxnuaAp+WvueixoVxuICovXG5mdW5jdGlvbiBwb3N0UHJvcChwcm9wKSB7XG4gICAgdmFyIGV4cHIgPSBwcm9wLmV4cHI7XG5cbiAgICBpZiAoZXhwci50eXBlID09PSBFeHByVHlwZS5URVhUKSB7XG4gICAgICAgIHN3aXRjaCAoZXhwci5zZWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHByb3AuZXhwciA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuQk9PTCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgZXhwciA9IHByb3AuZXhwciA9IGV4cHIuc2Vnc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoZXhwci50eXBlID09PSBFeHByVHlwZS5JTlRFUlAgJiYgZXhwci5maWx0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wLmV4cHIgPSBleHByLmV4cHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBwb3N0UHJvcDtcblxuXG4vKipcbiAqIEBmaWxlIOino+aekOaKveixoeiKgueCueWxnuaAp1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcbi8vIHZhciBrZWJhYjJjYW1lbCA9IHJlcXVpcmUoJy4uL3V0aWwva2ViYWIyY2FtZWwnKTtcbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgY3JlYXRlQWNjZXNzb3IgPSByZXF1aXJlKCcuL2NyZWF0ZS1hY2Nlc3NvcicpO1xuLy8gdmFyIHBhcnNlRXhwciA9IHJlcXVpcmUoJy4vcGFyc2UtZXhwcicpO1xuLy8gdmFyIHBhcnNlQ2FsbCA9IHJlcXVpcmUoJy4vcGFyc2UtY2FsbCcpO1xuLy8gdmFyIHBhcnNlVGV4dCA9IHJlcXVpcmUoJy4vcGFyc2UtdGV4dCcpO1xuLy8gdmFyIHBhcnNlRGlyZWN0aXZlID0gcmVxdWlyZSgnLi9wYXJzZS1kaXJlY3RpdmUnKTtcbi8vIHZhciBwb3N0UHJvcCA9IHJlcXVpcmUoJy4vcG9zdC1wcm9wJyk7XG5cblxuLyoqXG4gKiDop6PmnpDmir3osaHoioLngrnlsZ7mgKdcbiAqXG4gKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDmir3osaHoioLngrlcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOWxnuaAp+WQjeensFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIOWxnuaAp+WAvFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMg6Kej5p6Q5Y+C5pWwXG4gKiBAcGFyYW0ge0FycmF5P30gb3B0aW9ucy5kZWxpbWl0ZXJzIOaPkuWAvOWIhumalOespuWIl+ihqFxuICovXG5mdW5jdGlvbiBpbnRlZ3JhdGVBdHRyKGFOb2RlLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIHZhciBwcmVmaXhJbmRleCA9IG5hbWUuaW5kZXhPZignLScpO1xuICAgIHZhciByZWFsTmFtZTtcbiAgICB2YXIgcHJlZml4O1xuXG4gICAgaWYgKHByZWZpeEluZGV4ID4gMCkge1xuICAgICAgICBwcmVmaXggPSBuYW1lLnNsaWNlKDAsIHByZWZpeEluZGV4KTtcbiAgICAgICAgcmVhbE5hbWUgPSBuYW1lLnNsaWNlKHByZWZpeEluZGV4ICsgMSk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChwcmVmaXgpIHtcbiAgICAgICAgY2FzZSAnb24nOlxuICAgICAgICAgICAgdmFyIGV2ZW50ID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlYWxOYW1lLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFOb2RlLmV2ZW50cy5wdXNoKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGNvbG9uSW5kZXg7XG4gICAgICAgICAgICB3aGlsZSAoKGNvbG9uSW5kZXggPSB2YWx1ZS5pbmRleE9mKCc6JykpID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZmllciA9IHZhbHVlLnNsaWNlKDAsIGNvbG9uSW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgLy8gZXZlbnRIYW5kbGVyKFwiZGQ6YWFcIikg6L+Z56eN5oOF5Ya15LiN6IO9566XbW9kaWZpZXLvvIzpnIDopoHovqjor4ZcbiAgICAgICAgICAgICAgICBpZiAoIS9eW2Etel0rJC9pLnRlc3QobW9kaWZpZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV2ZW50Lm1vZGlmaWVyW21vZGlmaWVyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShjb2xvbkluZGV4ICsgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV2ZW50LmV4cHIgPSBwYXJzZUNhbGwodmFsdWUsIFtcbiAgICAgICAgICAgICAgICBjcmVhdGVBY2Nlc3NvcihbXG4gICAgICAgICAgICAgICAgICAgIHsgdHlwZTogRXhwclR5cGUuU1RSSU5HLCB2YWx1ZTogJyRldmVudCcgfVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3Nhbic6XG4gICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgcGFyc2VEaXJlY3RpdmUoYU5vZGUsIHJlYWxOYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdwcm9wJzpcbiAgICAgICAgICAgIGludGVncmF0ZVByb3AoYU5vZGUsIHJlYWxOYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd2YXInOlxuICAgICAgICAgICAgaWYgKCFhTm9kZS52YXJzKSB7XG4gICAgICAgICAgICAgICAgYU5vZGUudmFycyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWFsTmFtZSA9IGtlYmFiMmNhbWVsKHJlYWxOYW1lKTtcbiAgICAgICAgICAgIGFOb2RlLnZhcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVhbE5hbWUsXG4gICAgICAgICAgICAgICAgZXhwcjogcGFyc2VFeHByKHZhbHVlLnJlcGxhY2UoLyheXFx7XFx7fFxcfVxcfSQpL2csICcnKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGludGVncmF0ZVByb3AoYU5vZGUsIG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbi8qKlxuICog6Kej5p6Q5oq96LGh6IqC54K557uR5a6a5bGe5oCnXG4gKlxuICogQGlubmVyXG4gKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDmir3osaHoioLngrlcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOWxnuaAp+WQjeensFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIOWxnuaAp+WAvFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMg6Kej5p6Q5Y+C5pWwXG4gKiBAcGFyYW0ge0FycmF5P30gb3B0aW9ucy5kZWxpbWl0ZXJzIOaPkuWAvOWIhumalOespuWIl+ihqFxuICovXG5mdW5jdGlvbiBpbnRlZ3JhdGVQcm9wKGFOb2RlLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIC8vIHBhcnNlIHR3byB3YXkgYmluZGluZywgZS5nLiB2YWx1ZT1cIns9aWRlbnQ9fVwiXG4gICAgdmFyIHhNYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFx7PVxccyooLio/KVxccyo9XFx9JC8pO1xuXG4gICAgaWYgKHhNYXRjaCkge1xuICAgICAgICBhTm9kZS5wcm9wcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBleHByOiBwYXJzZUV4cHIoeE1hdGNoWzFdKSxcbiAgICAgICAgICAgIHg6IDEsXG4gICAgICAgICAgICByYXc6IHZhbHVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBwYXJzZSBub3JtYWwgcHJvcFxuICAgIHZhciBwcm9wID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBleHByOiBwYXJzZVRleHQodmFsdWUsIG9wdGlvbnMuZGVsaW1pdGVycyksXG4gICAgICAgIHJhdzogdmFsdWVcbiAgICB9O1xuXG4gICAgLy8g6L+Z6YeM5LiN6IO95oqK5Y+q5pyJ5LiA5Liq5o+S5YC855qE5bGe5oCn5oq95Y+WXG4gICAgLy8g5Zug5Li65o+S5YC86YeM55qE5YC85Y+v6IO95pivaHRtbOeJh+aute+8jOWuueaYk+iiq+azqOWFpVxuICAgIC8vIOe7hOS7tueahOaVsOaNrue7keWumuWcqOe7hOS7tmluaXTml7blgZrmir3lj5ZcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgY2FzZSAnY2xhc3MnOlxuICAgICAgICBjYXNlICdzdHlsZSc6XG4gICAgICAgICAgICBlYWNoKHByb3AuZXhwci5zZWdzLCBmdW5jdGlvbiAoc2VnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlZy50eXBlID09PSBFeHByVHlwZS5JTlRFUlApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VnLmZpbHRlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5DQUxMLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY3JlYXRlQWNjZXNzb3IoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ18nICsgcHJvcC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoZWNrZWQnOlxuICAgICAgICAgICAgaWYgKGFOb2RlLnRhZ05hbWUgPT09ICdpbnB1dCcpIHtcbiAgICAgICAgICAgICAgICBwb3N0UHJvcChwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGFOb2RlLnByb3BzLnB1c2gocHJvcCk7XG59XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaW50ZWdyYXRlQXR0cjtcblxuXG4vKipcbiAqIEBmaWxlIOino+aekOaooeadv1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgY3JlYXRlQU5vZGUgPSByZXF1aXJlKCcuL2NyZWF0ZS1hLW5vZGUnKTtcbi8vIHZhciBXYWxrZXIgPSByZXF1aXJlKCcuL3dhbGtlcicpO1xuLy8gdmFyIGludGVncmF0ZUF0dHIgPSByZXF1aXJlKCcuL2ludGVncmF0ZS1hdHRyJyk7XG4vLyB2YXIgcGFyc2VUZXh0ID0gcmVxdWlyZSgnLi9wYXJzZS10ZXh0Jyk7XG4vLyB2YXIgYXV0b0Nsb3NlVGFncyA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvYXV0by1jbG9zZS10YWdzJyk7XG5cbi8vICNbYmVnaW5dIGVycm9yXG5mdW5jdGlvbiBnZXRYUGF0aChzdGFjaywgY3VycmVudFRhZ05hbWUpIHtcbiAgICB2YXIgcGF0aCA9IFsnUk9PVCddO1xuICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBzdGFjay5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBwYXRoLnB1c2goc3RhY2tbaV0udGFnTmFtZSk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VGFnTmFtZSkge1xuICAgICAgICBwYXRoLnB1c2goY3VycmVudFRhZ05hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aC5qb2luKCc+Jyk7XG59XG4vLyAjW2VuZF1cblxuLyogZXNsaW50LWRpc2FibGUgZmVjcy1tYXgtc3RhdGVtZW50cyAqL1xuXG4vKipcbiAqIOino+aekCB0ZW1wbGF0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgdGVtcGxhdGXmupDnoIFcbiAqIEBwYXJhbSB7T2JqZWN0P30gb3B0aW9ucyDop6PmnpDlj4LmlbBcbiAqIEBwYXJhbSB7c3RyaW5nP30gb3B0aW9ucy50cmltV2hpdGVzcGFjZSDnqbrnmb3mlofmnKznmoTlpITnkIbnrZbnlaXjgIJub25lfGJsYW5rfGFsbFxuICogQHBhcmFtIHtBcnJheT99IG9wdGlvbnMuZGVsaW1pdGVycyDmj5LlgLzliIbpmpTnrKbliJfooahcbiAqIEByZXR1cm4ge0FOb2RlfVxuICovXG5mdW5jdGlvbiBwYXJzZVRlbXBsYXRlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudHJpbVdoaXRlc3BhY2UgPSBvcHRpb25zLnRyaW1XaGl0ZXNwYWNlIHx8ICdub25lJztcblxuICAgIHZhciByb290Tm9kZSA9IGNyZWF0ZUFOb2RlKCk7XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHJvb3ROb2RlO1xuICAgIH1cblxuICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC88IS0tKFtcXHNcXFNdKj8pLS0+L21nLCAnJykucmVwbGFjZSgvKF5cXHMrfFxccyskKS9nLCAnJyk7XG4gICAgdmFyIHdhbGtlciA9IG5ldyBXYWxrZXIoc291cmNlKTtcblxuICAgIHZhciB0YWdSZWcgPSAvPChcXC8pPyhbYS16MC05LV0rKVxccyovaWc7XG4gICAgdmFyIGF0dHJSZWcgPSAvKFstOjAtOWEtelxcKFxcKVxcW1xcXV0rKShcXHMqPVxccyooWydcIl0pKFteXFwzXSo/KVxcMyk/XFxzKi9pZztcblxuICAgIHZhciB0YWdNYXRjaDtcbiAgICB2YXIgY3VycmVudE5vZGUgPSByb290Tm9kZTtcbiAgICB2YXIgc3RhY2sgPSBbcm9vdE5vZGVdO1xuICAgIHZhciBzdGFja0luZGV4ID0gMDtcbiAgICB2YXIgYmVmb3JlTGFzdEluZGV4ID0gMDtcblxuICAgIHdoaWxlICgodGFnTWF0Y2ggPSB3YWxrZXIubWF0Y2godGFnUmVnKSkgIT0gbnVsbCkge1xuICAgICAgICB2YXIgdGFnRW5kID0gdGFnTWF0Y2hbMV07XG4gICAgICAgIHZhciB0YWdOYW1lID0gdGFnTWF0Y2hbMl0udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBwdXNoVGV4dE5vZGUoc291cmNlLnNsaWNlKFxuICAgICAgICAgICAgYmVmb3JlTGFzdEluZGV4LFxuICAgICAgICAgICAgd2Fsa2VyLmluZGV4IC0gdGFnTWF0Y2hbMF0ubGVuZ3RoXG4gICAgICAgICkpO1xuXG4gICAgICAgIC8vIDYyOiA+XG4gICAgICAgIC8vIDQ3OiAvXG4gICAgICAgIC8vIOWkhOeQhiA8L3h4eHggPlxuICAgICAgICBpZiAodGFnRW5kICYmIHdhbGtlci5jdXJyZW50Q29kZSgpID09PSA2Mikge1xuICAgICAgICAgICAgLy8g5ruh6Laz5YWz6Zet5qCH562+55qE5p2h5Lu25pe277yM5YWz6Zet5qCH562+XG4gICAgICAgICAgICAvLyDlkJHkuIrmn6Xmib7liLDlr7nlupTmoIfnrb7vvIzmib7kuI3liLDml7blv73nlaXlhbPpl61cbiAgICAgICAgICAgIHZhciBjbG9zZUluZGV4ID0gc3RhY2tJbmRleDtcblxuICAgICAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgICAgIC8vIOWmguaenOato+WcqOmXreWQiOS4gOS4quiHqumXreWQiOeahOagh+etvu+8jOS+i+WmgiA8L2lucHV0Pu+8jOaKpemUmVxuICAgICAgICAgICAgaWYgKGF1dG9DbG9zZVRhZ3NbdGFnTmFtZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJydcbiAgICAgICAgICAgICAgICAgICAgKyAnW1NBTiBFUlJPUl0gJyArIGdldFhQYXRoKHN0YWNrLCB0YWdOYW1lKSArICcgaXMgYSBgYXV0byBjbG9zZWRgIHRhZywgJ1xuICAgICAgICAgICAgICAgICAgICArICdzbyBpdCBjYW5ub3QgYmUgY2xvc2VkIHdpdGggPC8nICsgdGFnTmFtZSArICc+J1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIOWmguaenOWFs+mXreeahCB0YWcg5ZKM5b2T5YmN5omT5byA55qE5LiN5LiA6Ie077yM5oql6ZSZXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3RhY2tbY2xvc2VJbmRleF0udGFnTmFtZSAhPT0gdGFnTmFtZVxuICAgICAgICAgICAgICAgIC8vIOi/memHjOimgeaKiiB0YWJsZSDoh6rliqjmt7vliqAgdGJvZHkg55qE5oOF5Ya157uZ5Y675o6JXG4gICAgICAgICAgICAgICAgJiYgISh0YWdOYW1lID09PSAndGFibGUnICYmIHN0YWNrW2Nsb3NlSW5kZXhdLnRhZ05hbWUgPT09ICd0Ym9keScpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICcgKyBnZXRYUGF0aChzdGFjaykgKyAnIGlzIGNsb3NlZCB3aXRoICcgKyB0YWdOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgICAgICB3aGlsZSAoY2xvc2VJbmRleCA+IDAgJiYgc3RhY2tbY2xvc2VJbmRleF0udGFnTmFtZSAhPT0gdGFnTmFtZSkge1xuICAgICAgICAgICAgICAgIGNsb3NlSW5kZXgtLTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNsb3NlSW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgc3RhY2tJbmRleCA9IGNsb3NlSW5kZXggLSAxO1xuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gc3RhY2tbc3RhY2tJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgICAgICAvLyDlpITnkIYgPC94eHgg6Z2e5q2j5bi46Zet5ZCI5qCH562+XG4gICAgICAgIGVsc2UgaWYgKHRhZ0VuZCkge1xuXG4gICAgICAgICAgICAvLyDlpoLmnpzpl63lkIjmoIfnrb7ml7bvvIzljLnphY3lkI7nmoTkuIvkuIDkuKrlrZfnrKbmmK8gPO+8jOWNs+S4i+S4gOS4quagh+etvueahOW8gOWni++8jOmCo+S5iOW9k+WJjemXreWQiOagh+etvuacqumXreWQiFxuICAgICAgICAgICAgaWYgKHdhbGtlci5jdXJyZW50Q29kZSgpID09PSA2MCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignJ1xuICAgICAgICAgICAgICAgICAgICArICdbU0FOIEVSUk9SXSAnICsgZ2V0WFBhdGgoc3RhY2spXG4gICAgICAgICAgICAgICAgICAgICsgJ1xcJ3MgY2xvc2UgdGFnIG5vdCBjbG9zZWQnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g6Zet5ZCI5qCH562+5pyJ5bGe5oCnXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJydcbiAgICAgICAgICAgICAgICArICdbU0FOIEVSUk9SXSAnICsgZ2V0WFBhdGgoc3RhY2spXG4gICAgICAgICAgICAgICAgKyAnXFwncyBjbG9zZSB0YWcgaGFzIGF0dHJpYnV0ZXMnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIH1cbiAgICAgICAgLy8gI1tlbmRdXG5cbiAgICAgICAgZWxzZSBpZiAoIXRhZ0VuZCkge1xuICAgICAgICAgICAgdmFyIGFFbGVtZW50ID0gY3JlYXRlQU5vZGUoe1xuICAgICAgICAgICAgICAgIHRhZ05hbWU6IHRhZ05hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHRhZ0Nsb3NlID0gYXV0b0Nsb3NlVGFnc1t0YWdOYW1lXTtcblxuICAgICAgICAgICAgLy8g6Kej5p6QIGF0dHJpYnV0ZXNcblxuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc3RhbnQtY29uZGl0aW9uICovXG4gICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zdGFudC1jb25kaXRpb24gKi9cblxuICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhckNvZGUgPSB3YWxrZXIuY3VycmVudENvZGUoKTtcblxuICAgICAgICAgICAgICAgIC8vIOagh+etvue7k+adn+aXtui3s+WHuiBhdHRyaWJ1dGVzIOivu+WPllxuICAgICAgICAgICAgICAgIC8vIOagh+etvuWPr+iDveebtOaOpee7k+adn+aIlumXreWQiOe7k+adn1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hhckNvZGUgPT09IDYyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5nbygxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIOmBh+WIsCAvPiDmjInpl63lkIjlpITnkIZcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0Q2hhckNvZGUgPT09IDQ3XG4gICAgICAgICAgICAgICAgICAgICYmIHdhbGtlci5jaGFyQ29kZSh3YWxrZXIuaW5kZXggKyAxKSA9PT0gNjJcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmdvKDIpO1xuICAgICAgICAgICAgICAgICAgICB0YWdDbG9zZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgICAgICAgICAgICAgLy8g5Zyo5aSE55CG5LiA5LiqIG9wZW4g5qCH562+5pe277yM5aaC5p6c6YGH5Yiw5LqGIDzvvIwg5Y2z5LiL5LiA5Liq5qCH562+55qE5byA5aeL77yM5YiZ5b2T5YmN5qCH562+5pyq6IO95q2j5bi46Zet5ZCI77yM5oql6ZSZXG4gICAgICAgICAgICAgICAgaWYgKG5leHRDaGFyQ29kZSA9PT0gNjApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnICsgZ2V0WFBhdGgoc3RhY2ssIHRhZ05hbWUpICsgJyBpcyBub3QgY2xvc2VkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgICAgICAgICAgLy8g6K+75Y+WIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgIHZhciBhdHRyTWF0Y2ggPSB3YWxrZXIubWF0Y2goYXR0clJlZyk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJNYXRjaCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOWxnuaAp+aciSA977yM5L2G5rKh5Y+W5YiwIHZhbHVl77yM5oql6ZSZXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtlci5jaGFyQ29kZShhdHRyTWF0Y2guaW5kZXggKyBhdHRyTWF0Y2hbMV0ubGVuZ3RoKSA9PT0gNjFcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICFhdHRyTWF0Y2hbMl1cbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICdbU0FOIEVSUk9SXSAnICsgZ2V0WFBhdGgoc3RhY2ssIHRhZ05hbWUpICsgJyBhdHRyaWJ1dGUgYCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGF0dHJNYXRjaFsxXSArICdgIGlzIG5vdCB3cmFwcGVkIHdpdGggXCJcIidcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gI1tlbmRdXG5cbiAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRlQXR0cihcbiAgICAgICAgICAgICAgICAgICAgICAgIGFFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ck1hdGNoWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ck1hdGNoWzJdID8gYXR0ck1hdGNoWzRdIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1hdGNoIGlmIGRpcmVjdGl2ZSBmb3IgZWxzZS9lbGlmIGRpcmVjdGl2ZVxuICAgICAgICAgICAgdmFyIGVsc2VEaXJlY3RpdmUgPSBhRWxlbWVudC5kaXJlY3RpdmVzWydlbHNlJ10gfHwgYUVsZW1lbnQuZGlyZWN0aXZlcy5lbGlmOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgICAgICAgaWYgKGVsc2VEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50Q2hpbGRyZW5MZW4gPSBjdXJyZW50Tm9kZS5jaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAocGFyZW50Q2hpbGRyZW5MZW4tLSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50Q2hpbGQgPSBjdXJyZW50Tm9kZS5jaGlsZHJlbltwYXJlbnRDaGlsZHJlbkxlbl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRDaGlsZC50ZXh0RXhwcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuY2hpbGRyZW4uc3BsaWNlKHBhcmVudENoaWxkcmVuTGVuLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRDaGlsZC5kaXJlY3RpdmVzWydpZiddKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRkFURUxdIGVsc2Ugbm90IG1hdGNoIGlmLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENoaWxkLmVsc2VzID0gcGFyZW50Q2hpbGQuZWxzZXMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENoaWxkLmVsc2VzLnB1c2goYUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChhRWxlbWVudC50YWdOYW1lID09PSAndHInICYmIGN1cnJlbnROb2RlLnRhZ05hbWUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRib2R5Tm9kZSA9IGNyZWF0ZUFOb2RlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ05hbWU6ICd0Ym9keSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLmNoaWxkcmVuLnB1c2godGJvZHlOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSB0Ym9keU5vZGU7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrWysrc3RhY2tJbmRleF0gPSB0Ym9keU5vZGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUuY2hpbGRyZW4ucHVzaChhRWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGFnQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGFFbGVtZW50O1xuICAgICAgICAgICAgICAgIHN0YWNrWysrc3RhY2tJbmRleF0gPSBhRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJlZm9yZUxhc3RJbmRleCA9IHdhbGtlci5pbmRleDtcbiAgICB9XG5cbiAgICBwdXNoVGV4dE5vZGUod2Fsa2VyLmN1dChiZWZvcmVMYXN0SW5kZXgpKTtcblxuICAgIHJldHVybiByb290Tm9kZTtcblxuICAgIC8qKlxuICAgICAqIOWcqOivu+WPluagiOS4rea3u+WKoOaWh+acrOiKgueCuVxuICAgICAqXG4gICAgICogQGlubmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQg5paH5pys5YaF5a65XG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVzaFRleHROb2RlKHRleHQpIHtcbiAgICAgICAgc3dpdGNoIChvcHRpb25zLnRyaW1XaGl0ZXNwYWNlKSB7XG4gICAgICAgICAgICBjYXNlICdibGFuayc6XG4gICAgICAgICAgICAgICAgaWYgKC9eXFxzKyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdhbGwnOlxuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyheXFxzK3xcXHMrJCkvZywgJycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgIGN1cnJlbnROb2RlLmNoaWxkcmVuLnB1c2goY3JlYXRlQU5vZGUoe1xuICAgICAgICAgICAgICAgIHRleHRFeHByOiBwYXJzZVRleHQodGV4dCwgb3B0aW9ucy5kZWxpbWl0ZXJzKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKiBlc2xpbnQtZW5hYmxlIGZlY3MtbWF4LXN0YXRlbWVudHMgKi9cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcGFyc2VUZW1wbGF0ZTtcblxuXG4vKipcbiAqIEBmaWxlIOm7mOiupGZpbHRlclxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vKiBlc2xpbnQtZGlzYWJsZSBmZWNzLWNhbWVsY2FzZSAqL1xuLyogZXNsaW50LWRpc2FibGUgZ3VhcmQtZm9yLWluICovXG5cbi8qKlxuICog6buY6K6kZmlsdGVyXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgREVGQVVMVF9GSUxURVJTID0ge1xuXG4gICAgLyoqXG4gICAgICogVVJM57yW56CBZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOa6kOS4slxuICAgICAqIEByZXR1cm4ge3N0cmluZ30g5pu/5o2i57uT5p6c5LiyXG4gICAgICovXG4gICAgdXJsOiBlbmNvZGVVUklDb21wb25lbnQsXG5cbiAgICBfY2xhc3M6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSxcblxuICAgIF9zdHlsZTogZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0ga2V5ICsgJzonICsgc291cmNlW2tleV0gKyAnOyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH0sXG5cbiAgICBfc2VwOiBmdW5jdGlvbiAoc291cmNlLCBzZXApIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSA/IHNlcCArIHNvdXJjZSA6IHNvdXJjZTtcbiAgICB9XG59O1xuLyogZXNsaW50LWVuYWJsZSBmZWNzLWNhbWVsY2FzZSAqL1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBERUZBVUxUX0ZJTFRFUlM7XG5cblxuLyoqXG4gKiBAZmlsZSDooajovr7lvI/orqHnrpdcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4uL3BhcnNlci9leHByLXR5cGUnKTtcbi8vIHZhciBERUZBVUxUX0ZJTFRFUlMgPSByZXF1aXJlKCcuL2RlZmF1bHQtZmlsdGVycycpO1xuLy8gdmFyIGV2YWxBcmdzID0gcmVxdWlyZSgnLi9ldmFsLWFyZ3MnKTtcbi8vIHZhciBkYXRhQ2FjaGUgPSByZXF1aXJlKCcuL2RhdGEtY2FjaGUnKTtcblxuLyoqXG4gKiDorqHnrpfooajovr7lvI/nmoTlgLxcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZXhwciDooajovr7lvI/lr7nosaFcbiAqIEBwYXJhbSB7RGF0YX0gZGF0YSDmlbDmja7lrrnlmajlr7nosaFcbiAqIEBwYXJhbSB7Q29tcG9uZW50PX0gb3duZXIg5omA5bGe57uE5Lu2546v5aKDXG4gKiBAcmV0dXJuIHsqfVxuICovXG5mdW5jdGlvbiBldmFsRXhwcihleHByLCBkYXRhLCBvd25lcikge1xuICAgIGlmIChleHByLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGV4cHIudmFsdWU7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gZGF0YUNhY2hlLmdldChkYXRhLCBleHByKTtcblxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHN3aXRjaCAoZXhwci50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEV4cHJUeXBlLlVOQVJZOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gIWV2YWxFeHByKGV4cHIuZXhwciwgZGF0YSwgb3duZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEV4cHJUeXBlLkJJTkFSWTpcbiAgICAgICAgICAgICAgICB2YXIgbGVmdFZhbHVlID0gZXZhbEV4cHIoZXhwci5zZWdzWzBdLCBkYXRhLCBvd25lcik7XG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0VmFsdWUgPSBldmFsRXhwcihleHByLnNlZ3NbMV0sIGRhdGEsIG93bmVyKTtcblxuICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXhwci5vcGVyYXRvcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgJSByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDM6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSArIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0NTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlIC0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgKiByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAvIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2MDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlIDwgcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDYyOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgPiByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzY6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAmJiByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAhPSByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTIxOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgPD0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlID09IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjM6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSA+PSByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTU1OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgIT09IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxODM6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSA9PT0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI0ODpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlIHx8IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFeHByVHlwZS5URVJUSUFSWTpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGV2YWxFeHByKFxuICAgICAgICAgICAgICAgICAgICBleHByLnNlZ3NbZXZhbEV4cHIoZXhwci5zZWdzWzBdLCBkYXRhLCBvd25lcikgPyAxIDogMl0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIG93bmVyXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFeHByVHlwZS5BQ0NFU1NPUjpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGRhdGEuZ2V0KGV4cHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEV4cHJUeXBlLklOVEVSUDpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGV2YWxFeHByKGV4cHIuZXhwciwgZGF0YSwgb3duZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZXhwci5maWx0ZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlciA9IGV4cHIuZmlsdGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJOYW1lID0gZmlsdGVyLm5hbWUucGF0aHNbMF0udmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvd25lci5maWx0ZXJzW2ZpbHRlck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvd25lci5maWx0ZXJzW2ZpbHRlck5hbWVdLmFwcGx5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25lcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlXS5jb25jYXQoZXZhbEFyZ3MoZmlsdGVyLmFyZ3MsIGRhdGEsIG93bmVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoREVGQVVMVF9GSUxURVJTW2ZpbHRlck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBERUZBVUxUX0ZJTFRFUlNbZmlsdGVyTmFtZV0oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuYXJnc1swXSA/IGZpbHRlci5hcmdzWzBdLnZhbHVlIDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVkZWNsYXJlICovXG4gICAgICAgICAgICBjYXNlIEV4cHJUeXBlLlRFWFQ6XG4gICAgICAgICAgICAgICAgdmFyIGJ1ZiA9ICcnO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZXhwci5zZWdzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VnID0gZXhwci5zZWdzW2ldO1xuICAgICAgICAgICAgICAgICAgICBidWYgKz0gc2VnLnZhbHVlIHx8IGV2YWxFeHByKHNlZywgZGF0YSwgb3duZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YUNhY2hlLnNldChkYXRhLCBleHByLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBldmFsRXhwcjtcblxuXG4vKipcbiAqIEBmaWxlIOS4uuWHveaVsOiwg+eUqOiuoeeul+WPguaVsOaVsOe7hOeahOWAvFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtZXhwcicpO1xuXG4vKipcbiAqIOS4uuWHveaVsOiwg+eUqOiuoeeul+WPguaVsOaVsOe7hOeahOWAvFxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3Mg5Y+C5pWw6KGo6L6+5byP5YiX6KGoXG4gKiBAcGFyYW0ge0RhdGF9IGRhdGEg5pWw5o2u546v5aKDXG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg57uE5Lu2546v5aKDXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gZXZhbEFyZ3MoYXJncywgZGF0YSwgb3duZXIpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGV2YWxFeHByKGFyZ3NbaV0sIGRhdGEsIG93bmVyKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZXZhbEFyZ3M7XG5cblxuLyoqXG4gKiBAZmlsZSDmlbDmja7nvJPlrZjnrqHnkIblmahcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuXG52YXIgZGF0YUNhY2hlU291cmNlID0ge307XG52YXIgZGF0YUNhY2hlQ2xlYXJseSA9IDE7XG5cbi8qKlxuICog5pWw5o2u57yT5a2Y566h55CG5ZmoXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgZGF0YUNhY2hlID0ge1xuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghZGF0YUNhY2hlQ2xlYXJseSkge1xuICAgICAgICAgICAgZGF0YUNhY2hlQ2xlYXJseSA9IDE7XG4gICAgICAgICAgICBkYXRhQ2FjaGVTb3VyY2UgPSB7fTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzZXQ6IGZ1bmN0aW9uIChkYXRhLCBleHByLCB2YWx1ZSkge1xuICAgICAgICBpZiAoZXhwci5yYXcpIHtcbiAgICAgICAgICAgIGRhdGFDYWNoZUNsZWFybHkgPSAwO1xuICAgICAgICAgICAgKGRhdGFDYWNoZVNvdXJjZVtkYXRhLmlkXSA9IGRhdGFDYWNoZVNvdXJjZVtkYXRhLmlkXSB8fCB7fSlbZXhwci5yYXddID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbiAoZGF0YSwgZXhwcikge1xuICAgICAgICBpZiAoZXhwci5yYXcgJiYgZGF0YUNhY2hlU291cmNlW2RhdGEuaWRdKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YUNhY2hlU291cmNlW2RhdGEuaWRdW2V4cHIucmF3XTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZGF0YUNhY2hlO1xuXG5cbi8qKlxuICogQGZpbGUg5q+U6L6D5Y+Y5pu06KGo6L6+5byP5LiO55uu5qCH6KGo6L6+5byP5LmL6Ze055qE5YWz57O7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvZXhwci10eXBlJyk7XG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuL2V2YWwtZXhwcicpO1xuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcblxuLyoqXG4gKiDliKTmlq3lj5jmm7Tooajovr7lvI/kuI7lpJrkuKrooajovr7lvI/kuYvpl7TnmoTlhbPns7vvvIww5Li65a6M5YWo5rKh5YWz57O777yMMeS4uuacieWFs+ezu1xuICpcbiAqIEBpbm5lclxuICogQHBhcmFtIHtPYmplY3R9IGNoYW5nZUV4cHIg55uu5qCH6KGo6L6+5byPXG4gKiBAcGFyYW0ge0FycmF5fSBleHBycyDlpJrkuKrmupDooajovr7lvI9cbiAqIEBwYXJhbSB7RGF0YX0gZGF0YSDooajovr7lvI/miYDlsZ7mlbDmja7njq/looNcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gY2hhbmdlRXhwckNvbXBhcmVFeHBycyhjaGFuZ2VFeHByLCBleHBycywgZGF0YSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZXhwcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2VFeHByLCBleHByc1tpXSwgZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59XG5cbi8qKlxuICog5q+U6L6D5Y+Y5pu06KGo6L6+5byP5LiO55uu5qCH6KGo6L6+5byP5LmL6Ze055qE5YWz57O777yM55So5LqO6KeG5Zu+5pu05paw5Yik5patXG4gKiDop4blm77mm7TmlrDpnIDopoHmoLnmja7lhbblhbPns7vvvIzlgZrlh7rnm7jlupTnmoTmm7TmlrDooYzkuLpcbiAqXG4gKiAwOiDlrozlhajmsqHlhbPns7tcbiAqIDE6IOWPmOabtOihqOi+vuW8j+aYr+ebruagh+ihqOi+vuW8j+eahOavjemhuSjlpoJh5LiOYS5iKSDmiJYg6KGo56S66ZyA6KaB5a6M5YWo5Y+Y5YyWXG4gKiAyOiDlj5jmm7Tooajovr7lvI/mmK/nm67moIfooajovr7lvI/nm7jnrYlcbiAqID4yOiDlj5jmm7Tooajovr7lvI/mmK/nm67moIfooajovr7lvI/nmoTlrZDpobnvvIzlpoJhLmIuY+S4jmEuYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjaGFuZ2VFeHByIOWPmOabtOihqOi+vuW8j1xuICogQHBhcmFtIHtPYmplY3R9IGV4cHIg6KaB5q+U6L6D55qE55uu5qCH6KGo6L6+5byPXG4gKiBAcGFyYW0ge0RhdGF9IGRhdGEg6KGo6L6+5byP5omA5bGe5pWw5o2u546v5aKDXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZUV4cHIsIGV4cHIsIGRhdGEpIHtcbiAgICBzd2l0Y2ggKGV4cHIudHlwZSkge1xuICAgICAgICBjYXNlIEV4cHJUeXBlLkFDQ0VTU09SOlxuICAgICAgICAgICAgdmFyIHBhdGhzID0gZXhwci5wYXRocztcbiAgICAgICAgICAgIHZhciBsZW4gPSBwYXRocy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY2hhbmdlUGF0aHMgPSBjaGFuZ2VFeHByLnBhdGhzO1xuICAgICAgICAgICAgdmFyIGNoYW5nZUxlbiA9IGNoYW5nZVBhdGhzLmxlbmd0aDtcblxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGhFeHByID0gcGF0aHNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAocGF0aEV4cHIudHlwZSA9PT0gRXhwclR5cGUuQUNDRVNTT1JcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXhwckNvbXBhcmUoY2hhbmdlRXhwciwgcGF0aEV4cHIsIGRhdGEpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgaSA8IGNoYW5nZUxlblxuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgJiYgKHBhdGhFeHByLnZhbHVlIHx8IGV2YWxFeHByKHBhdGhFeHByLCBkYXRhKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICE9IChjaGFuZ2VQYXRoc1tpXS52YWx1ZSB8fCBldmFsRXhwcihjaGFuZ2VQYXRoc1tpXSwgZGF0YSkpXG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgZXFlcWVxICovXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gTWF0aC5tYXgoMSwgY2hhbmdlTGVuIC0gbGVuICsgMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2UgRXhwclR5cGUuVU5BUlk6XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlRXhwckNvbXBhcmUoY2hhbmdlRXhwciwgZXhwci5leHByLCBkYXRhKSA/IDEgOiAwO1xuXG5cbiAgICAgICAgY2FzZSBFeHByVHlwZS5URVhUOlxuICAgICAgICBjYXNlIEV4cHJUeXBlLkJJTkFSWTpcbiAgICAgICAgY2FzZSBFeHByVHlwZS5URVJUSUFSWTpcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VFeHByQ29tcGFyZUV4cHJzKGNoYW5nZUV4cHIsIGV4cHIuc2VncywgZGF0YSk7XG5cbiAgICAgICAgY2FzZSBFeHByVHlwZS5JTlRFUlA6XG4gICAgICAgICAgICBpZiAoIWNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZUV4cHIsIGV4cHIuZXhwciwgZGF0YSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyUmVzdWx0O1xuICAgICAgICAgICAgICAgIGVhY2goZXhwci5maWx0ZXJzLCBmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclJlc3VsdCA9IGNoYW5nZUV4cHJDb21wYXJlRXhwcnMoY2hhbmdlRXhwciwgZmlsdGVyLmFyZ3MsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWZpbHRlclJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJSZXN1bHQgPyAxIDogMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNoYW5nZUV4cHJDb21wYXJlO1xuXG5cbi8qKlxuICogQGZpbGUg5pWw5o2u5Y+Y5pu057G75Z6L5p6a5Li+XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vKipcbiAqIOaVsOaNruWPmOabtOexu+Wei+aemuS4vlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIERhdGFDaGFuZ2VUeXBlID0ge1xuICAgIFNFVDogMSxcbiAgICBTUExJQ0U6IDJcbn07XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IERhdGFDaGFuZ2VUeXBlO1xuXG5cbi8qKlxuICogQGZpbGUg55Sf5ZG95ZGo5pyf57G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5mdW5jdGlvbiBsaWZlQ3ljbGVPd25JcyhuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXNbbmFtZV07XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIGZlY3MtdmFsaWQtdmFyLWpzZG9jICovXG4vKipcbiAqIOiKgueCueeUn+WRveWRqOacn+S/oeaBr1xuICpcbiAqIEBpbm5lclxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIExpZmVDeWNsZSA9IHtcbiAgICBzdGFydDoge30sXG5cbiAgICBjb21waWxlZDoge1xuICAgICAgICBpczogbGlmZUN5Y2xlT3duSXMsXG4gICAgICAgIGNvbXBpbGVkOiB0cnVlXG4gICAgfSxcblxuICAgIGluaXRlZDoge1xuICAgICAgICBpczogbGlmZUN5Y2xlT3duSXMsXG4gICAgICAgIGNvbXBpbGVkOiB0cnVlLFxuICAgICAgICBpbml0ZWQ6IHRydWVcbiAgICB9LFxuXG4gICAgcGFpbnRpbmc6IHtcbiAgICAgICAgaXM6IGxpZmVDeWNsZU93bklzLFxuICAgICAgICBjb21waWxlZDogdHJ1ZSxcbiAgICAgICAgaW5pdGVkOiB0cnVlLFxuICAgICAgICBwYWludGluZzogdHJ1ZVxuICAgIH0sXG5cbiAgICBjcmVhdGVkOiB7XG4gICAgICAgIGlzOiBsaWZlQ3ljbGVPd25JcyxcbiAgICAgICAgY29tcGlsZWQ6IHRydWUsXG4gICAgICAgIGluaXRlZDogdHJ1ZSxcbiAgICAgICAgY3JlYXRlZDogdHJ1ZVxuICAgIH0sXG5cbiAgICBhdHRhY2hlZDoge1xuICAgICAgICBpczogbGlmZUN5Y2xlT3duSXMsXG4gICAgICAgIGNvbXBpbGVkOiB0cnVlLFxuICAgICAgICBpbml0ZWQ6IHRydWUsXG4gICAgICAgIGNyZWF0ZWQ6IHRydWUsXG4gICAgICAgIGF0dGFjaGVkOiB0cnVlXG4gICAgfSxcblxuICAgIGxlYXZpbmc6IHtcbiAgICAgICAgaXM6IGxpZmVDeWNsZU93bklzLFxuICAgICAgICBjb21waWxlZDogdHJ1ZSxcbiAgICAgICAgaW5pdGVkOiB0cnVlLFxuICAgICAgICBjcmVhdGVkOiB0cnVlLFxuICAgICAgICBhdHRhY2hlZDogdHJ1ZSxcbiAgICAgICAgbGVhdmluZzogdHJ1ZVxuICAgIH0sXG5cbiAgICBkZXRhY2hlZDoge1xuICAgICAgICBpczogbGlmZUN5Y2xlT3duSXMsXG4gICAgICAgIGNvbXBpbGVkOiB0cnVlLFxuICAgICAgICBpbml0ZWQ6IHRydWUsXG4gICAgICAgIGNyZWF0ZWQ6IHRydWUsXG4gICAgICAgIGRldGFjaGVkOiB0cnVlXG4gICAgfSxcblxuICAgIGRpc3Bvc2VkOiB7XG4gICAgICAgIGlzOiBsaWZlQ3ljbGVPd25JcyxcbiAgICAgICAgZGlzcG9zZWQ6IHRydWVcbiAgICB9XG59O1xuLyogZXNsaW50LWVuYWJsZSBmZWNzLXZhbGlkLXZhci1qc2RvYyAqL1xuXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IExpZmVDeWNsZTtcblxuXG4vKipcbiAqIEBmaWxlIOiKgueCueexu+Wei1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDoioLngrnnsbvlnotcbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBOb2RlVHlwZSA9IHtcbiAgICBURVhUOiAxLFxuICAgIElGOiAyLFxuICAgIEZPUjogMyxcbiAgICBFTEVNOiA0LFxuICAgIENNUFQ6IDUsXG4gICAgU0xPVDogNixcbiAgICBUUEw6IDdcbn07XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IE5vZGVUeXBlO1xuXG5cbi8qKlxuICogQGZpbGUg6I635Y+WIEFOb2RlIHByb3BzIOaVsOe7hOS4reebuOW6lCBuYW1lIOeahOmhuVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDojrflj5YgQU5vZGUgcHJvcHMg5pWw57uE5Lit55u45bqUIG5hbWUg55qE6aG5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFOb2RlIEFOb2Rl5a+56LGhXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1l5bGe5oCn5Yy56YWN5LiyXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldEFOb2RlUHJvcChhTm9kZSwgbmFtZSkge1xuICAgIHZhciBpbmRleCA9IGFOb2RlLmhvdHNwb3QucHJvcHNbbmFtZV07XG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGFOb2RlLnByb3BzW2luZGV4XTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGdldEFOb2RlUHJvcDtcblxuXG4vKipcbiAqIEBmaWxlIOiOt+WPluWxnuaAp+WkhOeQhuWvueixoVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGNvbnRhaW5zID0gcmVxdWlyZSgnLi4vdXRpbC9jb250YWlucycpO1xuLy8gdmFyIGVtcHR5ID0gcmVxdWlyZSgnLi4vdXRpbC9lbXB0eScpO1xuLy8gdmFyIHN2Z1RhZ3MgPSByZXF1aXJlKCcuLi9icm93c2VyL3N2Zy10YWdzJyk7XG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtZXhwcicpO1xuLy8gdmFyIGdldEFOb2RlUHJvcCA9IHJlcXVpcmUoJy4vZ2V0LWEtbm9kZS1wcm9wJyk7XG4vLyB2YXIgTm9kZVR5cGUgPSByZXF1aXJlKCcuL25vZGUtdHlwZScpO1xuXG5cbi8qKlxuICogSFRNTCDlsZ7mgKflkowgRE9NIOaTjeS9nOWxnuaAp+eahOWvueeFp+ihqFxuICpcbiAqIEBpbm5lclxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgSFRNTF9BVFRSX1BST1BfTUFQID0ge1xuICAgICdyZWFkb25seSc6ICdyZWFkT25seScsXG4gICAgJ2NlbGxwYWRkaW5nJzogJ2NlbGxQYWRkaW5nJyxcbiAgICAnY2VsbHNwYWNpbmcnOiAnY2VsbFNwYWNpbmcnLFxuICAgICdjb2xzcGFuJzogJ2NvbFNwYW4nLFxuICAgICdyb3dzcGFuJzogJ3Jvd1NwYW4nLFxuICAgICd2YWxpZ24nOiAndkFsaWduJyxcbiAgICAndXNlbWFwJzogJ3VzZU1hcCcsXG4gICAgJ2ZyYW1lYm9yZGVyJzogJ2ZyYW1lQm9yZGVyJyxcbiAgICAnZm9yJzogJ2h0bWxGb3InXG59O1xuXG4vKipcbiAqIOm7mOiupOeahOWFg+e0oOeahOWxnuaAp+iuvue9rueahOWPmOaNouaWueazlVxuICpcbiAqIEBpbm5lclxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIGRlZmF1bHRFbGVtZW50UHJvcEhhbmRsZXIgPSB7XG4gICAgcHJvcDogZnVuY3Rpb24gKGVsLCB2YWx1ZSwgbmFtZSwgZWxlbWVudCkge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBIVE1MX0FUVFJfUFJPUF9NQVBbbmFtZV0gfHwgbmFtZTtcblxuICAgICAgICAvLyBpbnB1dCDnmoQgdHlwZSDmmK/kuKrnibnmrorlsZ7mgKfvvIzlhbblrp7kuZ/lupTor6XnlKggc2V0QXR0cmlidXRlXG4gICAgICAgIC8vIOS9huaYryB0eXBlIOS4jeW6lOivpei/kOihjOaXtuWKqOaAgeaUueWPmO+8jOWQpuWImeS8muacieWFvOWuueaAp+mXrumimFxuICAgICAgICAvLyDmiYDku6Xov5nph4znm7TmjqXlsLHkuI3nrqHkuoZcbiAgICAgICAgaWYgKHByb3BOYW1lIGluIGVsKSB7XG4gICAgICAgICAgICBlbFtwcm9wTmFtZV0gPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhdHRyaWJ1dGUg57uR5a6a55qE5pivIHRleHTvvIzmiYDku6XkuI3kvJrlh7rnjrAgbnVsbCDnmoTmg4XlhrXvvIzov5nph4zml6DpnIDlpITnkIZcbiAgICAgICAgLy8g5o2i5Y+l6K+d5p2l6K+077yMc2FuIOaYr+WBmuS4jeWIsCBhdHRyaWJ1dGUg5pe25pyJ5pe25peg55qEXG4gICAgICAgIC8vIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIC8vICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIC8vIH1cbiAgICB9LFxuXG4gICAgb3V0cHV0OiBmdW5jdGlvbiAoZWxlbWVudCwgYmluZEluZm8sIGRhdGEpIHtcbiAgICAgICAgZGF0YS5zZXQoYmluZEluZm8uZXhwciwgZWxlbWVudC5lbFtiaW5kSW5mby5uYW1lXSwge1xuICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgaWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgICAgICAgcHJvcDogYmluZEluZm8ubmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG52YXIgc3ZnUHJvcEhhbmRsZXIgPSB7XG4gICAgcHJvcDogZnVuY3Rpb24gKGVsLCB2YWx1ZSwgbmFtZSkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgIH1cbn07XG5cbnZhciBib29sUHJvcEhhbmRsZXIgPSB7XG4gICAgcHJvcDogZnVuY3Rpb24gKGVsLCB2YWx1ZSwgbmFtZSwgZWxlbWVudCwgcHJvcCkge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBIVE1MX0FUVFJfUFJPUF9NQVBbbmFtZV0gfHwgbmFtZTtcbiAgICAgICAgZWxbcHJvcE5hbWVdID0gISEocHJvcCAmJiBwcm9wLnJhdyA9PT0gJydcbiAgICAgICAgICAgIHx8IHZhbHVlICYmIHZhbHVlICE9PSAnZmFsc2UnICYmIHZhbHVlICE9PSAnMCcpO1xuICAgIH1cbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIGZlY3MtcHJvcGVydGllcy1xdW90ZSAqL1xuLyoqXG4gKiDpu5jorqTnmoTlsZ7mgKforr7nva7lj5jmjaLmlrnms5VcbiAqXG4gKiBAaW5uZXJcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBkZWZhdWx0RWxlbWVudFByb3BIYW5kbGVycyA9IHtcbiAgICBzdHlsZToge1xuICAgICAgICBwcm9wOiBmdW5jdGlvbiAoZWwsIHZhbHVlKSB7XG4gICAgICAgICAgICBlbC5zdHlsZS5jc3NUZXh0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2NsYXNzJzogeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIHByb3A6IGZ1bmN0aW9uIChlbCwgdmFsdWUpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNsb3Q6IHtcbiAgICAgICAgcHJvcDogZW1wdHlcbiAgICB9LFxuXG4gICAgcmVhZG9ubHk6IGJvb2xQcm9wSGFuZGxlcixcbiAgICBkaXNhYmxlZDogYm9vbFByb3BIYW5kbGVyLFxuICAgIGF1dG9mb2N1czogYm9vbFByb3BIYW5kbGVyLFxuICAgIHJlcXVpcmVkOiBib29sUHJvcEhhbmRsZXIsXG4gICAgZHJhZ2dhYmxlOiBib29sUHJvcEhhbmRsZXJcbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZlY3MtcHJvcGVydGllcy1xdW90ZSAqL1xuXG52YXIgYW5hbElucHV0Q2hlY2tlciA9IHtcbiAgICBjaGVja2JveDogY29udGFpbnMsXG4gICAgcmFkaW86IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhID09PSBiO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGFuYWxJbnB1dENoZWNrZWRTdGF0ZShlbGVtZW50LCB2YWx1ZSwgb3Blcikge1xuICAgIHZhciBiaW5kVmFsdWUgPSBnZXRBTm9kZVByb3AoZWxlbWVudC5hTm9kZSwgJ3ZhbHVlJyk7XG4gICAgdmFyIGJpbmRUeXBlID0gZ2V0QU5vZGVQcm9wKGVsZW1lbnQuYU5vZGUsICd0eXBlJyk7XG5cbiAgICBpZiAoYmluZFZhbHVlICYmIGJpbmRUeXBlKSB7XG4gICAgICAgIHZhciB0eXBlID0gZXZhbEV4cHIoYmluZFR5cGUuZXhwciwgZWxlbWVudC5zY29wZSwgZWxlbWVudC5vd25lcik7XG5cbiAgICAgICAgaWYgKGFuYWxJbnB1dENoZWNrZXJbdHlwZV0pIHtcbiAgICAgICAgICAgIHZhciBiaW5kQ2hlY2tlZCA9IGdldEFOb2RlUHJvcChlbGVtZW50LmFOb2RlLCAnY2hlY2tlZCcpO1xuICAgICAgICAgICAgaWYgKCFiaW5kQ2hlY2tlZC5oaW50RXhwcikge1xuICAgICAgICAgICAgICAgIGJpbmRDaGVja2VkLmhpbnRFeHByID0gYmluZFZhbHVlLmV4cHI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhIWFuYWxJbnB1dENoZWNrZXJbdHlwZV0oXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgZXZhbEV4cHIoYmluZFZhbHVlLmV4cHIsIGVsZW1lbnQuc2NvcGUsIGVsZW1lbnQub3duZXIpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG52YXIgZWxlbWVudFByb3BIYW5kbGVycyA9IHtcbiAgICBpbnB1dDoge1xuICAgICAgICBtdWx0aXBsZTogYm9vbFByb3BIYW5kbGVyLFxuICAgICAgICBjaGVja2VkOiB7XG4gICAgICAgICAgICBwcm9wOiBmdW5jdGlvbiAoZWwsIHZhbHVlLCBuYW1lLCBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gYW5hbElucHV0Q2hlY2tlZFN0YXRlKGVsZW1lbnQsIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGJvb2xQcm9wSGFuZGxlci5wcm9wKFxuICAgICAgICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgIT0gbnVsbCA/IHN0YXRlIDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICdjaGVja2VkJyxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvdXRwdXQ6IGZ1bmN0aW9uIChlbGVtZW50LCBiaW5kSW5mbywgZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IGVsZW1lbnQuZWw7XG4gICAgICAgICAgICAgICAgdmFyIGJpbmRWYWx1ZSA9IGdldEFOb2RlUHJvcChlbGVtZW50LmFOb2RlLCAndmFsdWUnKTtcbiAgICAgICAgICAgICAgICB2YXIgYmluZFR5cGUgPSBnZXRBTm9kZVByb3AoZWxlbWVudC5hTm9kZSwgJ3R5cGUnKSB8fCB7fTtcblxuICAgICAgICAgICAgICAgIGlmIChiaW5kVmFsdWUgJiYgYmluZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChiaW5kVHlwZS5yYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2VsLmNoZWNrZWQgPyAncHVzaCcgOiAncmVtb3ZlJ10oYmluZEluZm8uZXhwciwgZWwudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNoZWNrZWQgJiYgZGF0YS5zZXQoYmluZEluZm8uZXhwciwgZWwudmFsdWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlbWVudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3A6IGJpbmRJbmZvLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlZmF1bHRFbGVtZW50UHJvcEhhbmRsZXIub3V0cHV0KGVsZW1lbnQsIGJpbmRJbmZvLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvcHRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHByb3A6IGZ1bmN0aW9uIChlbCwgdmFsdWUsIG5hbWUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0RWxlbWVudFByb3BIYW5kbGVyLnByb3AoZWwsIHZhbHVlLCBuYW1lLCBlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc09wdGlvblNlbGVjdGVkKGVsZW1lbnQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNlbGVjdDoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgcHJvcDogZnVuY3Rpb24gKGVsLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGVsLnZhbHVlID0gdmFsdWUgfHwgJyc7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvdXRwdXQ6IGRlZmF1bHRFbGVtZW50UHJvcEhhbmRsZXIub3V0cHV0XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBpc09wdGlvblNlbGVjdGVkKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgdmFyIHBhcmVudFNlbGVjdCA9IGVsZW1lbnQucGFyZW50O1xuICAgIHdoaWxlIChwYXJlbnRTZWxlY3QpIHtcbiAgICAgICAgaWYgKHBhcmVudFNlbGVjdC50YWdOYW1lID09PSAnc2VsZWN0Jykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJlbnRTZWxlY3QgPSBwYXJlbnRTZWxlY3QucGFyZW50O1xuICAgIH1cblxuXG4gICAgaWYgKHBhcmVudFNlbGVjdCkge1xuICAgICAgICB2YXIgc2VsZWN0VmFsdWUgPSBudWxsO1xuICAgICAgICB2YXIgcHJvcDtcbiAgICAgICAgdmFyIGV4cHI7XG5cbiAgICAgICAgaWYgKChwcm9wID0gZ2V0QU5vZGVQcm9wKHBhcmVudFNlbGVjdC5hTm9kZSwgJ3ZhbHVlJykpXG4gICAgICAgICAgICAmJiAoZXhwciA9IHByb3AuZXhwcilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBzZWxlY3RWYWx1ZSA9IHBhcmVudFNlbGVjdC5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuQ01QVFxuICAgICAgICAgICAgICAgID8gZXZhbEV4cHIoZXhwciwgcGFyZW50U2VsZWN0LmRhdGEsIHBhcmVudFNlbGVjdClcbiAgICAgICAgICAgICAgICA6IGV2YWxFeHByKGV4cHIsIHBhcmVudFNlbGVjdC5zY29wZSwgcGFyZW50U2VsZWN0Lm93bmVyKVxuICAgICAgICAgICAgICAgIHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdFZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqXG4gKiDojrflj5blsZ7mgKflpITnkIblr7nosaFcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSDlhYPntKB0YWdcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyTmFtZSDlsZ7mgKflkI1cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0UHJvcEhhbmRsZXIodGFnTmFtZSwgYXR0ck5hbWUpIHtcbiAgICBpZiAoc3ZnVGFnc1t0YWdOYW1lXSkge1xuICAgICAgICByZXR1cm4gc3ZnUHJvcEhhbmRsZXI7XG4gICAgfVxuXG4gICAgdmFyIHRhZ1Byb3BIYW5kbGVycyA9IGVsZW1lbnRQcm9wSGFuZGxlcnNbdGFnTmFtZV07XG4gICAgaWYgKCF0YWdQcm9wSGFuZGxlcnMpIHtcbiAgICAgICAgdGFnUHJvcEhhbmRsZXJzID0gZWxlbWVudFByb3BIYW5kbGVyc1t0YWdOYW1lXSA9IHt9O1xuICAgIH1cblxuICAgIHZhciBwcm9wSGFuZGxlciA9IHRhZ1Byb3BIYW5kbGVyc1thdHRyTmFtZV07XG4gICAgaWYgKCFwcm9wSGFuZGxlcikge1xuICAgICAgICBwcm9wSGFuZGxlciA9IGRlZmF1bHRFbGVtZW50UHJvcEhhbmRsZXJzW2F0dHJOYW1lXSB8fCBkZWZhdWx0RWxlbWVudFByb3BIYW5kbGVyO1xuICAgICAgICB0YWdQcm9wSGFuZGxlcnNbYXR0ck5hbWVdID0gcHJvcEhhbmRsZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BIYW5kbGVyO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBnZXRQcm9wSGFuZGxlcjtcblxuXG4vKipcbiAqIEBmaWxlIOWIpOaWreWPmOabtOaYr+WQpuadpea6kOS6juWFg+e0oFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDliKTmlq3lj5jmm7TmmK/lkKbmnaXmupDkuo7lhYPntKDvvIzmnaXmupDkuo7lhYPntKDml7bvvIzop4blm77mm7TmlrDpnIDopoHpmLvmlq1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2hhbmdlIOWPmOabtOWvueixoVxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IOWFg+e0oFxuICogQHBhcmFtIHtzdHJpbmc/fSBwcm9wTmFtZSDlsZ7mgKflkI3vvIzlj6/pgInjgILpnIDopoHnsr7noa7liKTmlq3mmK/lkKbmnaXmupDkuo7mraTlsZ7mgKfml7bkvKDlhaVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRGF0YUNoYW5nZUJ5RWxlbWVudChjaGFuZ2UsIGVsZW1lbnQsIHByb3BOYW1lKSB7XG4gICAgdmFyIGNoYW5nZVRhcmdldCA9IGNoYW5nZS5vcHRpb24udGFyZ2V0O1xuICAgIHJldHVybiBjaGFuZ2VUYXJnZXQgJiYgY2hhbmdlVGFyZ2V0LmlkID09PSBlbGVtZW50LmlkXG4gICAgICAgICYmICghcHJvcE5hbWUgfHwgY2hhbmdlVGFyZ2V0LnByb3AgPT09IHByb3BOYW1lKTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaXNEYXRhQ2hhbmdlQnlFbGVtZW50O1xuXG5cbi8qKlxuICogQGZpbGUg5Zyo5a+56LGh5LiK5L2/55SoYWNjZXNzb3Looajovr7lvI/mn6Xmib7mlrnms5VcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBldmFsRXhwciA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZXZhbC1leHByJyk7XG5cbi8qKlxuICog5Zyo5a+56LGh5LiK5L2/55SoYWNjZXNzb3Looajovr7lvI/mn6Xmib7mlrnms5VcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIOa6kOWvueixoVxuICogQHBhcmFtIHtPYmplY3R9IG5hbWVFeHByIOihqOi+vuW8j1xuICogQHBhcmFtIHtEYXRhfSBkYXRhIOaJgOWxnuaVsOaNrueOr+Wig1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGZpbmRNZXRob2Qoc291cmNlLCBuYW1lRXhwciwgZGF0YSkge1xuICAgIHZhciBtZXRob2QgPSBzb3VyY2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgbWV0aG9kICE9IG51bGwgJiYgaSA8IG5hbWVFeHByLnBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZFtldmFsRXhwcihuYW1lRXhwci5wYXRoc1tpXSwgZGF0YSldO1xuICAgIH1cblxuICAgIHJldHVybiBtZXRob2Q7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZpbmRNZXRob2Q7XG5cblxuLyoqXG4gKiBAZmlsZSDmlbDmja7nsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4uL3BhcnNlci9leHByLXR5cGUnKTtcbi8vIHZhciBldmFsRXhwciA9IHJlcXVpcmUoJy4vZXZhbC1leHByJyk7XG4vLyB2YXIgRGF0YUNoYW5nZVR5cGUgPSByZXF1aXJlKCcuL2RhdGEtY2hhbmdlLXR5cGUnKTtcbi8vIHZhciBjcmVhdGVBY2Nlc3NvciA9IHJlcXVpcmUoJy4uL3BhcnNlci9jcmVhdGUtYWNjZXNzb3InKTtcbi8vIHZhciBwYXJzZUV4cHIgPSByZXF1aXJlKCcuLi9wYXJzZXIvcGFyc2UtZXhwcicpO1xuLy8gdmFyIGd1aWQgPSByZXF1aXJlKCcuLi91dGlsL2d1aWQnKTtcbi8vIHZhciBkYXRhQ2FjaGUgPSByZXF1aXJlKCcuL2RhdGEtY2FjaGUnKTtcblxuLyoqXG4gKiDmlbDmja7nsbtcbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7T2JqZWN0P30gZGF0YSDliJ3lp4vmlbDmja5cbiAqIEBwYXJhbSB7TW9kZWw/fSBwYXJlbnQg54i257qn5pWw5o2u5a655ZmoXG4gKi9cbmZ1bmN0aW9uIERhdGEoZGF0YSwgcGFyZW50KSB7XG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLnJhdyA9IGRhdGEgfHwge307XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbn1cblxuLy8gI1tiZWdpbl0gZXJyb3Jcbi8vIOS7peS4i+S4pOS4quWHveaVsOWPquWcqOW8gOWPkeaooeW8j+S4i+WPr+eUqO+8jOWcqOeUn+S6p+aooeW8j+S4i+S4jeWtmOWcqFxuLyoqXG4gKiBEYXRhVHlwZXMg5qOA5rWLXG4gKi9cbkRhdGEucHJvdG90eXBlLmNoZWNrRGF0YVR5cGVzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnR5cGVDaGVja2VyKSB7XG4gICAgICAgIHRoaXMudHlwZUNoZWNrZXIodGhpcy5yYXcpO1xuICAgIH1cbn07XG5cbi8qKlxuICog6K6+572uIHR5cGUgY2hlY2tlclxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSB0eXBlQ2hlY2tlciDnsbvlnovmoKHpqozlmahcbiAqL1xuRGF0YS5wcm90b3R5cGUuc2V0VHlwZUNoZWNrZXIgPSBmdW5jdGlvbiAodHlwZUNoZWNrZXIpIHtcbiAgICB0aGlzLnR5cGVDaGVja2VyID0gdHlwZUNoZWNrZXI7XG59O1xuXG4vLyAjW2VuZF1cblxuLyoqXG4gKiDmt7vliqDmlbDmja7lj5jmm7TnmoTkuovku7bnm5HlkKzlmahcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciDnm5HlkKzlh73mlbBcbiAqL1xuRGF0YS5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOenu+mZpOaVsOaNruWPmOabtOeahOS6i+S7tuebkeWQrOWZqFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIOebkeWQrOWHveaVsFxuICovXG5EYXRhLnByb3RvdHlwZS51bmxpc3RlbiA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHZhciBsZW4gPSB0aGlzLmxpc3RlbmVycy5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnNbbGVuXSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShsZW4sIDEpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiDop6blj5HmlbDmja7lj5jmm7RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2hhbmdlIOWPmOabtOS/oeaBr+WvueixoVxuICovXG5EYXRhLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2Uub3B0aW9uLnNpbGVudCB8fCBjaGFuZ2Uub3B0aW9uLnNpbGVuY2UgfHwgY2hhbmdlLm9wdGlvbi5xdWlldCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1tpXS5jYWxsKHRoaXMsIGNoYW5nZSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiDojrflj5bmlbDmja7poblcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3Q/fSBleHByIOaVsOaNrumhuei3r+W+hFxuICogQHBhcmFtIHtEYXRhP30gY2FsbGVlIOW9k+WJjeaVsOaNruiOt+WPlueahOiwg+eUqOeOr+Wig1xuICogQHJldHVybiB7Kn1cbiAqL1xuRGF0YS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGV4cHIsIGNhbGxlZSkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMucmF3O1xuICAgIGlmICghZXhwcikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZXhwciA9IHBhcnNlRXhwcihleHByKTtcblxuICAgIHZhciBwYXRocyA9IGV4cHIucGF0aHM7XG4gICAgY2FsbGVlID0gY2FsbGVlIHx8IHRoaXM7XG5cbiAgICB2YWx1ZSA9IHZhbHVlW3BhdGhzWzBdLnZhbHVlXTtcblxuICAgIGlmICh2YWx1ZSA9PSBudWxsICYmIHRoaXMucGFyZW50KSB7XG4gICAgICAgIHZhbHVlID0gdGhpcy5wYXJlbnQuZ2V0KGV4cHIsIGNhbGxlZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgbCA9IHBhdGhzLmxlbmd0aDsgdmFsdWUgIT0gbnVsbCAmJiBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlW3BhdGhzW2ldLnZhbHVlIHx8IGV2YWxFeHByKHBhdGhzW2ldLCBjYWxsZWUpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cblxuLyoqXG4gKiDmlbDmja7lr7nosaHlj5jmm7Tmk43kvZxcbiAqXG4gKiBAaW5uZXJcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBzb3VyY2Ug6KaB5Y+Y5pu055qE5rqQ5pWw5o2uXG4gKiBAcGFyYW0ge0FycmF5fSBleHByUGF0aHMg5bGe5oCn6Lev5b6EXG4gKiBAcGFyYW0geyp9IHZhbHVlIOWPmOabtOWxnuaAp+WAvFxuICogQHBhcmFtIHtEYXRhfSBkYXRhIOWvueW6lOeahERhdGHlr7nosaFcbiAqIEByZXR1cm4geyp9IOWPmOabtOWQjueahOaWsOaVsOaNrlxuICovXG5mdW5jdGlvbiBpbW11dGFibGVTZXQoc291cmNlLCBleHByUGF0aHMsIHZhbHVlLCBkYXRhKSB7XG4gICAgaWYgKGV4cHJQYXRocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHZhciBwcm9wID0gZXZhbEV4cHIoZXhwclBhdGhzWzBdLCBkYXRhKTtcbiAgICB2YXIgcmVzdWx0O1xuXG4gICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHZhciBpbmRleCA9ICtwcm9wO1xuXG4gICAgICAgIHJlc3VsdCA9IHNvdXJjZS5zbGljZSgwKTtcbiAgICAgICAgcmVzdWx0W2lzTmFOKGluZGV4KSA/IHByb3AgOiBpbmRleF0gPSBpbW11dGFibGVTZXQoc291cmNlW2luZGV4XSwgZXhwclBhdGhzLnNsaWNlKDEpLCB2YWx1ZSwgZGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gcHJvcCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRbcHJvcF0gPSBpbW11dGFibGVTZXQoc291cmNlW3Byb3BdIHx8IHt9LCBleHByUGF0aHMuc2xpY2UoMSksIHZhbHVlLCBkYXRhKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2U7XG59XG5cbi8qKlxuICog6K6+572u5pWw5o2u6aG5XG4gKlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBleHByIOaVsOaNrumhuei3r+W+hFxuICogQHBhcmFtIHsqfSB2YWx1ZSDmlbDmja7lgLxcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICovXG5EYXRhLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoZXhwciwgdmFsdWUsIG9wdGlvbikge1xuICAgIG9wdGlvbiA9IG9wdGlvbiB8fCB7fTtcblxuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgdmFyIGV4cHJSYXcgPSBleHByO1xuICAgIC8vICNbZW5kXVxuXG4gICAgZXhwciA9IHBhcnNlRXhwcihleHByKTtcblxuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgaWYgKGV4cHIudHlwZSAhPT0gRXhwclR5cGUuQUNDRVNTT1IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSBJbnZhbGlkIEV4cHJlc3Npb24gaW4gRGF0YSBzZXQ6ICcgKyBleHByUmF3KTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICBpZiAodGhpcy5nZXQoZXhwcikgPT09IHZhbHVlICYmICFvcHRpb24uZm9yY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRhdGFDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMucmF3ID0gaW1tdXRhYmxlU2V0KHRoaXMucmF3LCBleHByLnBhdGhzLCB2YWx1ZSwgdGhpcyk7XG4gICAgdGhpcy5maXJlKHtcbiAgICAgICAgdHlwZTogRGF0YUNoYW5nZVR5cGUuU0VULFxuICAgICAgICBleHByOiBleHByLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIG9wdGlvbjogb3B0aW9uXG4gICAgfSk7XG5cbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIHRoaXMuY2hlY2tEYXRhVHlwZXMoKTtcbiAgICAvLyAjW2VuZF1cblxufTtcblxuLyoqXG4gKiDlkIjlubbmm7TmlrDmlbDmja7poblcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IGV4cHIg5pWw5o2u6aG56Lev5b6EXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIOW+heWQiOW5tueahOaVsOaNruWAvFxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb24g6K6+572u5Y+C5pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbi5zaWxlbnQg6Z2Z6buY6K6+572u77yM5LiN6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gKi9cbkRhdGEucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKGV4cHIsIHNvdXJjZSwgb3B0aW9uKSB7XG4gICAgb3B0aW9uID0gb3B0aW9uIHx8IHt9O1xuXG4gICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICB2YXIgZXhwclJhdyA9IGV4cHI7XG4gICAgLy8gI1tlbmRdXG5cbiAgICBleHByID0gcGFyc2VFeHByKGV4cHIpO1xuXG4gICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICBpZiAoZXhwci50eXBlICE9PSBFeHByVHlwZS5BQ0NFU1NPUikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdIEludmFsaWQgRXhwcmVzc2lvbiBpbiBEYXRhIG1lcmdlOiAnICsgZXhwclJhdyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmdldChleHByKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSBNZXJnZSBFeHBlY3RzIGEgVGFyZ2V0IG9mIFR5cGUgXFwnb2JqZWN0XFwnOyBnb3QgJyArIHR5cGVvZiBvbGRWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gTWVyZ2UgRXhwZWN0cyBhIFNvdXJjZSBvZiBUeXBlIFxcJ29iamVjdFxcJzsgZ290ICcgKyB0eXBlb2Ygc291cmNlKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgdGhpcy5zZXQoXG4gICAgICAgICAgICBjcmVhdGVBY2Nlc3NvcihcbiAgICAgICAgICAgICAgICBleHByLnBhdGhzLmNvbmNhdChcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgc291cmNlW2tleV0sXG4gICAgICAgICAgICBvcHRpb25cbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOWfuuS6juabtOaWsOWHveaVsOabtOaWsOaVsOaNrumhuVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gZXhwciDmlbDmja7pobnot6/lvoRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIOaVsOaNruWkhOeQhuWHveaVsFxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb24g6K6+572u5Y+C5pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbi5zaWxlbnQg6Z2Z6buY6K6+572u77yM5LiN6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gKi9cbkRhdGEucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGV4cHIsIGZuLCBvcHRpb24pIHtcbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIHZhciBleHByUmF3ID0gZXhwcjtcbiAgICAvLyAjW2VuZF1cblxuICAgIGV4cHIgPSBwYXJzZUV4cHIoZXhwcik7XG5cbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIGlmIChleHByLnR5cGUgIT09IEV4cHJUeXBlLkFDQ0VTU09SKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gSW52YWxpZCBFeHByZXNzaW9uIGluIERhdGEgYXBwbHk6ICcgKyBleHByUmF3KTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLmdldChleHByKTtcblxuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnW1NBTiBFUlJPUl0gSW52YWxpZCBBcmd1bWVudFxcJ3MgVHlwZSBpbiBEYXRhIGFwcGx5OiAnXG4gICAgICAgICAgICArICdFeHBlY3RlZCBGdW5jdGlvbiBidXQgZ290ICcgKyB0eXBlb2YgZm5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICB0aGlzLnNldChleHByLCBmbihvbGRWYWx1ZSksIG9wdGlvbik7XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhuXNwbGljZeaTjeS9nFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gZXhwciDmlbDmja7pobnot6/lvoRcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3Mgc3BsaWNlIOaOpeWPl+eahOWPguaVsOWIl+ihqO+8jOaVsOe7hOmhueS4jkFycmF5LnByb3RvdHlwZS5zcGxpY2XnmoTlj4LmlbDkuIDoh7RcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICogQHJldHVybiB7QXJyYXl9IOaWsOaVsOe7hFxuICovXG5EYXRhLnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbiAoZXhwciwgYXJncywgb3B0aW9uKSB7XG4gICAgb3B0aW9uID0gb3B0aW9uIHx8IHt9O1xuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgdmFyIGV4cHJSYXcgPSBleHByO1xuICAgIC8vICNbZW5kXVxuXG4gICAgZXhwciA9IHBhcnNlRXhwcihleHByKTtcblxuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgaWYgKGV4cHIudHlwZSAhPT0gRXhwclR5cGUuQUNDRVNTT1IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSBJbnZhbGlkIEV4cHJlc3Npb24gaW4gRGF0YSBzcGxpY2U6ICcgKyBleHByUmF3KTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5nZXQoZXhwcik7XG4gICAgdmFyIHJldHVyblZhbHVlID0gW107XG5cbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJnc1swXTtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXdBcnJheSA9IHRhcmdldC5zbGljZSgwKTtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBuZXdBcnJheS5zcGxpY2UuYXBwbHkobmV3QXJyYXksIGFyZ3MpO1xuICAgICAgICBkYXRhQ2FjaGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5yYXcgPSBpbW11dGFibGVTZXQodGhpcy5yYXcsIGV4cHIucGF0aHMsIG5ld0FycmF5LCB0aGlzKTtcblxuICAgICAgICB0aGlzLmZpcmUoe1xuICAgICAgICAgICAgZXhwcjogZXhwcixcbiAgICAgICAgICAgIHR5cGU6IERhdGFDaGFuZ2VUeXBlLlNQTElDRSxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGRlbGV0ZUNvdW50OiByZXR1cm5WYWx1ZS5sZW5ndGgsXG4gICAgICAgICAgICB2YWx1ZTogcmV0dXJuVmFsdWUsXG4gICAgICAgICAgICBpbnNlcnRpb25zOiBhcmdzLnNsaWNlKDIpLFxuICAgICAgICAgICAgb3B0aW9uOiBvcHRpb25cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICB0aGlzLmNoZWNrRGF0YVR5cGVzKCk7XG4gICAgLy8gI1tlbmRdXG5cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhuXB1c2jmk43kvZxcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IGV4cHIg5pWw5o2u6aG56Lev5b6EXG4gKiBAcGFyYW0geyp9IGl0ZW0g6KaBcHVzaOeahOWAvFxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb24g6K6+572u5Y+C5pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbi5zaWxlbnQg6Z2Z6buY6K6+572u77yM5LiN6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gKiBAcmV0dXJuIHtudW1iZXJ9IOaWsOaVsOe7hOeahGxlbmd0aOWxnuaAp1xuICovXG5EYXRhLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGV4cHIsIGl0ZW0sIG9wdGlvbikge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLmdldChleHByKTtcblxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB0aGlzLnNwbGljZShleHByLCBbdGFyZ2V0Lmxlbmd0aCwgMCwgaXRlbV0sIG9wdGlvbik7XG4gICAgICAgIHJldHVybiB0YXJnZXQubGVuZ3RoICsgMTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhuXBvcOaTjeS9nFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gZXhwciDmlbDmja7pobnot6/lvoRcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICogQHJldHVybiB7Kn1cbiAqL1xuRGF0YS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKGV4cHIsIG9wdGlvbikge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLmdldChleHByKTtcblxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YXIgbGVuID0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKGV4cHIsIFtsZW4gLSAxLCAxXSwgb3B0aW9uKVswXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICog5pWw57uE5pWw5o2u6aG5c2hpZnTmk43kvZxcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IGV4cHIg5pWw5o2u6aG56Lev5b6EXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbiDorr7nva7lj4LmlbBcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9uLnNpbGVudCDpnZnpu5jorr7nva7vvIzkuI3op6blj5Hlj5jmm7Tkuovku7ZcbiAqIEByZXR1cm4geyp9XG4gKi9cbkRhdGEucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKGV4cHIsIG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLnNwbGljZShleHByLCBbMCwgMV0sIG9wdGlvbilbMF07XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhuXVuc2hpZnTmk43kvZxcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IGV4cHIg5pWw5o2u6aG56Lev5b6EXG4gKiBAcGFyYW0geyp9IGl0ZW0g6KaBdW5zaGlmdOeahOWAvFxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb24g6K6+572u5Y+C5pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbi5zaWxlbnQg6Z2Z6buY6K6+572u77yM5LiN6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gKiBAcmV0dXJuIHtudW1iZXJ9IOaWsOaVsOe7hOeahGxlbmd0aOWxnuaAp1xuICovXG5EYXRhLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGV4cHIsIGl0ZW0sIG9wdGlvbikge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLmdldChleHByKTtcblxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB0aGlzLnNwbGljZShleHByLCBbMCwgMCwgaXRlbV0sIG9wdGlvbik7XG4gICAgICAgIHJldHVybiB0YXJnZXQubGVuZ3RoICsgMTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhueenu+mZpOaTjeS9nFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gZXhwciDmlbDmja7pobnot6/lvoRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCDopoHnp7vpmaTpobnnmoTntKLlvJVcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICovXG5EYXRhLnByb3RvdHlwZS5yZW1vdmVBdCA9IGZ1bmN0aW9uIChleHByLCBpbmRleCwgb3B0aW9uKSB7XG4gICAgdGhpcy5zcGxpY2UoZXhwciwgW2luZGV4LCAxXSwgb3B0aW9uKTtcbn07XG5cbi8qKlxuICog5pWw57uE5pWw5o2u6aG556e76Zmk5pON5L2cXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBleHByIOaVsOaNrumhuei3r+W+hFxuICogQHBhcmFtIHsqfSB2YWx1ZSDopoHnp7vpmaTnmoTpoblcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICovXG5EYXRhLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZXhwciwgdmFsdWUsIG9wdGlvbikge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLmdldChleHByKTtcblxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YXIgbGVuID0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0W2xlbl0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpY2UoZXhwciwgW2xlbiwgMV0sIG9wdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBEYXRhO1xuXG5cbi8qKlxuICogQGZpbGUg5aOw5piO5byP5LqL5Lu255qE55uR5ZCs5Ye95pWwXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBldmFsQXJncyA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZXZhbC1hcmdzJyk7XG4vLyB2YXIgZmluZE1ldGhvZCA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZmluZC1tZXRob2QnKTtcbi8vIHZhciBEYXRhID0gcmVxdWlyZSgnLi4vcnVudGltZS9kYXRhJyk7XG5cbi8qKlxuICog5aOw5piO5byP5LqL5Lu255qE55uR5ZCs5Ye95pWwXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50QmluZCDnu5Hlrprkv6Hmga/lr7nosaFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNDb21wb25lbnRFdmVudCDmmK/lkKbnu4Tku7boh6rlrprkuYnkuovku7ZcbiAqIEBwYXJhbSB7RGF0YX0gZGF0YSDmlbDmja7njq/looNcbiAqIEBwYXJhbSB7RXZlbnR9IGUg5LqL5Lu25a+56LGhXG4gKi9cbmZ1bmN0aW9uIGV2ZW50RGVjbGFyYXRpb25MaXN0ZW5lcihldmVudEJpbmQsIGlzQ29tcG9uZW50RXZlbnQsIGRhdGEsIGUpIHtcbiAgICB2YXIgbWV0aG9kID0gZmluZE1ldGhvZCh0aGlzLCBldmVudEJpbmQuZXhwci5uYW1lLCBkYXRhKTtcblxuICAgIGlmICh0eXBlb2YgbWV0aG9kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBzY29wZSA9IG5ldyBEYXRhKFxuICAgICAgICAgICAgeyRldmVudDogaXNDb21wb25lbnRFdmVudCA/IGUgOiBlIHx8IHdpbmRvdy5ldmVudH0sXG4gICAgICAgICAgICBkYXRhXG4gICAgICAgICk7XG4gICAgICAgIG1ldGhvZC5hcHBseSh0aGlzLCBldmFsQXJncyhldmVudEJpbmQuZXhwci5hcmdzLCBzY29wZSwgdGhpcykpO1xuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZXZlbnREZWNsYXJhdGlvbkxpc3RlbmVyO1xuXG5cbi8qKlxuICogQGZpbGUg6Ieq6Zet5ZCI5qCH562+6KGoXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgc3BsaXRTdHIyT2JqID0gcmVxdWlyZSgnLi4vdXRpbC9zcGxpdC1zdHItMi1vYmonKTtcblxuLyoqXG4gKiDoh6rpl63lkIjmoIfnrb7liJfooahcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgaG90VGFncyA9IHNwbGl0U3RyMk9iaignZGl2LHNwYW4saW5wdXQsYnV0dG9uLHRleHRhcmVhLGZvcm0sbGFiZWwsZGwsZHQsZGQsdWwsb2wsbGksYSxiLHUsaDEsaDIsaDMsaDQsaDUsaDYnKTtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaG90VGFncztcblxuXG4vKipcbiAqIEBmaWxlIOaYr+WQpua1j+iniOWZqOeOr+Wig1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBpc0Jyb3dzZXI7XG5cblxuLyoqXG4gKiBAZmlsZSBpbnNlcnRCZWZvcmUg5pa55rOV55qE5YW85a655oCn5bCB6KOFXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vKipcbiAqIGluc2VydEJlZm9yZSDmlrnms5XnmoTlhbzlrrnmgKflsIHoo4VcbiAqXG4gKiBAcGFyYW0ge0hUTUxOb2RlfSB0YXJnZXRFbCDopoHmj5LlhaXnmoToioLngrlcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudEVsIOeItuWFg+e0oFxuICogQHBhcmFtIHtIVE1MRWxlbWVudD99IGJlZm9yZUVsIOWcqOatpOWFg+e0oOS5i+WJjeaPkuWFpVxuICovXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUodGFyZ2V0RWwsIHBhcmVudEVsLCBiZWZvcmVFbCkge1xuICAgIGlmIChwYXJlbnRFbCkge1xuICAgICAgICBpZiAoYmVmb3JlRWwpIHtcbiAgICAgICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZSh0YXJnZXRFbCwgYmVmb3JlRWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGFyZ2V0RWwpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCZWZvcmU7XG5cblxuLyoqXG4gKiBAZmlsZSDliKTmlq3lhYPntKDmmK/lkKbkuI3lhYHorrjorr7nva5IVE1MXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyBzb21lIGh0bWwgZWxlbWVudHMgY2Fubm90IHNldCBpbm5lckhUTUwgaW4gb2xkIGllXG4vLyBzZWU6IGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzM4OTcoVlMuODUpLmFzcHhcblxuLyoqXG4gKiDliKTmlq3lhYPntKDmmK/lkKbkuI3lhYHorrjorr7nva5IVE1MXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwg6KaB5Yik5pat55qE5YWD57SgXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBub1NldEhUTUwoZWwpIHtcbiAgICByZXR1cm4gL14oY29sfGNvbGdyb3VwfGZyYW1lc2V0fHN0eWxlfHRhYmxlfHRib2R5fHRmb290fHRoZWFkfHRyfHNlbGVjdCkkL2kudGVzdChlbC50YWdOYW1lKTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gbm9TZXRIVE1MO1xuXG5cbi8qKlxuICogQGZpbGUgIOiOt+WPluiKgueCuSBzdHVtcCDnmoQgY29tbWVudFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIG5vU2V0SFRNTCA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvbm8tc2V0LWh0bWwnKTtcblxuLy8gI1tiZWdpbl0gZXJyb3Jcbi8qKlxuICog6I635Y+W6IqC54K5IHN0dW1wIOeahCBjb21tZW50XG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgSFRNTOWFg+e0oFxuICovXG5mdW5jdGlvbiB3YXJuU2V0SFRNTChlbCkge1xuICAgIC8vIGRvbnQgd2FybiBpZiBub3QgaW4gYnJvd3NlciBydW50aW1lXG4gICAgaWYgKCEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc29tZSBodG1sIGVsZW1lbnRzIGNhbm5vdCBzZXQgaW5uZXJIVE1MIGluIG9sZCBpZVxuICAgIC8vIHNlZTogaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzMzg5NyhWUy44NSkuYXNweFxuICAgIGlmIChub1NldEhUTUwoZWwpKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ1tTQU4gV0FSTklOR10gc2V0IGh0bWwgZm9yIGVsZW1lbnQgXCInICsgZWwudGFnTmFtZVxuICAgICAgICAgICAgKyAnXCIgbWF5IGNhdXNlIGFuIGVycm9yIGluIG9sZCBJRSc7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSAnb2JqZWN0JyAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB9XG59XG4vLyAjW2VuZF1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gd2FyblNldEhUTUw7XG5cblxuLyoqXG4gKiBAZmlsZSDliKTmlq3mmK/lkKbnu5PmnZ/moalcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vICNbYmVnaW5dIHJldmVyc2Vcbi8qKlxuICog5Yik5pat5piv5ZCm57uT5p2f5qGpXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudHxIVE1MQ29tbWVudH0gdGFyZ2V0IOimgeWIpOaWreeahOWFg+e0oFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUg5qGp57G75Z6LXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0VuZFN0dW1wKHRhcmdldCwgdHlwZSkge1xuICAgIHJldHVybiB0YXJnZXQubm9kZVR5cGUgPT09IDggJiYgdGFyZ2V0LmRhdGEgPT09ICcvcy0nICsgdHlwZTtcbn1cbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBpc0VuZFN0dW1wO1xuXG5cbi8qKlxuICogQGZpbGUg6I635Y+W6IqC54K55Zyo57uE5Lu25qCR5Lit55qE6Lev5b6EXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vbm9kZS10eXBlJyk7XG5cbi8vICNbYmVnaW5dIHJldmVyc2Vcbi8qKlxuICog6I635Y+W6IqC54K55Zyo57uE5Lu25qCR5Lit55qE6Lev5b6EXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIOiKgueCueWvueixoVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVQYXRoKG5vZGUpIHtcbiAgICB2YXIgbm9kZVBhdGhzID0gW107XG4gICAgdmFyIG5vZGVQYXJlbnQgPSBub2RlO1xuICAgIHdoaWxlIChub2RlUGFyZW50KSB7XG4gICAgICAgIHN3aXRjaCAobm9kZVBhcmVudC5ub2RlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBOb2RlVHlwZS5FTEVNOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KG5vZGVQYXJlbnQudGFnTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgTm9kZVR5cGUuSUY6XG4gICAgICAgICAgICAgICAgbm9kZVBhdGhzLnVuc2hpZnQoJ2lmJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgTm9kZVR5cGUuRk9SOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KCdmb3JbJyArIG5vZGVQYXJlbnQuYW5vZGUuZGlyZWN0aXZlc1snZm9yJ10ucmF3ICsgJ10nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBOb2RlVHlwZS5TTE9UOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KCdzbG90WycgKyAobm9kZVBhcmVudC5uYW1lIHx8ICdkZWZhdWx0JykgKyAnXScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIE5vZGVUeXBlLlRQTDpcbiAgICAgICAgICAgICAgICBub2RlUGF0aHMudW5zaGlmdCgndGVtcGxhdGUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBOb2RlVHlwZS5DTVBUOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KCdjb21wb25lbnRbJyArIChub2RlUGFyZW50LnN1YlRhZyB8fCAncm9vdCcpICsgJ10nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBOb2RlVHlwZS5URVhUOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KCd0ZXh0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBub2RlUGFyZW50ID0gbm9kZVBhcmVudC5wYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGVQYXRocztcbn1cbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBnZXROb2RlUGF0aDtcblxuXG4vKipcbiAqIEBmaWxlIHRleHQg6IqC54K557G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgaXNCcm93c2VyID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pcy1icm93c2VyJyk7XG4vLyB2YXIgcmVtb3ZlRWwgPSByZXF1aXJlKCcuLi9icm93c2VyL3JlbW92ZS1lbCcpO1xuLy8gdmFyIGluc2VydEJlZm9yZSA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaW5zZXJ0LWJlZm9yZScpO1xuLy8gdmFyIGNoYW5nZUV4cHJDb21wYXJlID0gcmVxdWlyZSgnLi4vcnVudGltZS9jaGFuZ2UtZXhwci1jb21wYXJlJyk7XG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtZXhwcicpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcbi8vIHZhciB3YXJuU2V0SFRNTCA9IHJlcXVpcmUoJy4vd2Fybi1zZXQtaHRtbCcpO1xuLy8gdmFyIGlzRW5kU3R1bXAgPSByZXF1aXJlKCcuL2lzLWVuZC1zdHVtcCcpO1xuLy8gdmFyIGdldE5vZGVQYXRoID0gcmVxdWlyZSgnLi9nZXQtbm9kZS1wYXRoJyk7XG5cblxuLyoqXG4gKiB0ZXh0IOiKgueCueexu1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhTm9kZSDmir3osaHoioLngrlcbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBvd25lciDmiYDlsZ7nu4Tku7bnjq/looNcbiAqIEBwYXJhbSB7TW9kZWw9fSBzY29wZSDmiYDlsZ7mlbDmja7njq/looNcbiAqIEBwYXJhbSB7Tm9kZX0gcGFyZW50IOeItuS6suiKgueCuVxuICogQHBhcmFtIHtET01DaGlsZHJlbldhbGtlcj99IHJldmVyc2VXYWxrZXIg5a2Q5YWD57Sg6YGN5Y6G5a+56LGhXG4gKi9cbmZ1bmN0aW9uIFRleHROb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcikge1xuICAgIHRoaXMuYU5vZGUgPSBhTm9kZTtcbiAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuXG4gICAgLy8gI1tiZWdpbl0gcmV2ZXJzZVxuICAgIGlmIChyZXZlcnNlV2Fsa2VyKSB7XG4gICAgICAgIHZhciBjdXJyZW50Tm9kZSA9IHJldmVyc2VXYWxrZXIuY3VycmVudDtcbiAgICAgICAgaWYgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGN1cnJlbnROb2RlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vZGUuZGF0YSA9PT0gJ3MtdGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsID0gY3VycmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5kYXRhID0gdGhpcy5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2VXYWxrZXIuZ29OZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IHJldmVyc2VXYWxrZXIuY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBSRVZFUlNFIEVSUk9SXSBUZXh0IGVuZCBmbGFnIG5vdCBmb3VuZC4gXFxuUGF0aHM6ICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgZ2V0Tm9kZVBhdGgodGhpcykuam9pbignID4gJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0VuZFN0dW1wKGN1cnJlbnROb2RlLCAndGV4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWwgPSBjdXJyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZVdhbGtlci5nb05leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuZGF0YSA9IHRoaXMuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2VXYWxrZXIuZ29OZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VXYWxrZXIuZ29OZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5hTm9kZS50ZXh0RXhwci5vcmlnaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbCA9IGN1cnJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgICAgIGluc2VydEJlZm9yZSh0aGlzLmVsLCByZXZlcnNlV2Fsa2VyLnRhcmdldCwgcmV2ZXJzZVdhbGtlci5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAjW2VuZF1cbn1cblxuVGV4dE5vZGUucHJvdG90eXBlLm5vZGVUeXBlID0gTm9kZVR5cGUuVEVYVDtcblxuLyoqXG4gKiDlsIZ0ZXh0IGF0dGFjaOWIsOmhtemdolxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudEVsIOimgea3u+WKoOWIsOeahOeItuWFg+e0oFxuICogQHBhcmFtIHtIVE1MRWxlbWVudO+8nX0gYmVmb3JlRWwg6KaB5re75Yqg5Yiw5ZOq5Liq5YWD57Sg5LmL5YmNXG4gKi9cblRleHROb2RlLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocGFyZW50RWwsIGJlZm9yZUVsKSB7XG4gICAgdGhpcy5jb250ZW50ID0gZXZhbEV4cHIodGhpcy5hTm9kZS50ZXh0RXhwciwgdGhpcy5zY29wZSwgdGhpcy5vd25lcik7XG5cbiAgICBpZiAodGhpcy5hTm9kZS50ZXh0RXhwci5vcmlnaW5hbCkge1xuICAgICAgICB0aGlzLnNlbCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGhpcy5pZCk7XG4gICAgICAgIGluc2VydEJlZm9yZSh0aGlzLnNlbCwgcGFyZW50RWwsIGJlZm9yZUVsKTtcblxuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0aGlzLmlkKTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuZWwsIHBhcmVudEVsLCBiZWZvcmVFbCk7XG5cbiAgICAgICAgdmFyIHRlbXBGbGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZSh0ZW1wRmxhZywgdGhpcy5lbCk7XG4gICAgICAgIHRlbXBGbGFnLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCB0aGlzLmNvbnRlbnQpO1xuICAgICAgICBwYXJlbnRFbC5yZW1vdmVDaGlsZCh0ZW1wRmxhZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5jb250ZW50KTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuZWwsIHBhcmVudEVsLCBiZWZvcmVFbCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiDplIDmr4EgdGV4dCDoioLngrlcbiAqL1xuVGV4dE5vZGUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fcHJldiA9IG51bGw7XG4gICAgdGhpcy5lbCA9IG51bGw7XG4gICAgdGhpcy5zZWwgPSBudWxsO1xufTtcblxudmFyIHRleHRVcGRhdGVQcm9wID0gaXNCcm93c2VyXG4gICAgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykudGV4dENvbnRlbnQgPT09ICdzdHJpbmcnXG4gICAgICAgID8gJ3RleHRDb250ZW50J1xuICAgICAgICA6ICdkYXRhJyk7XG5cbi8qKlxuICog5pu05pawIHRleHQg6IqC54K555qE6KeG5Zu+XG4gKlxuICogQHBhcmFtIHtBcnJheX0gY2hhbmdlcyDmlbDmja7lj5jljJbkv6Hmga9cbiAqL1xuVGV4dE5vZGUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgIGlmICh0aGlzLmFOb2RlLnRleHRFeHByLnZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbGVuID0gY2hhbmdlcyA/IGNoYW5nZXMubGVuZ3RoIDogMDtcbiAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgaWYgKGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZXNbbGVuXS5leHByLCB0aGlzLmFOb2RlLnRleHRFeHByLCB0aGlzLnNjb3BlKSkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBldmFsRXhwcih0aGlzLmFOb2RlLnRleHRFeHByLCB0aGlzLnNjb3BlLCB0aGlzLm93bmVyKTtcblxuICAgICAgICAgICAgaWYgKHRleHQgIT09IHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudCA9IHRleHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hTm9kZS50ZXh0RXhwci5vcmlnaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZW1vdmVFbCA9IHRoaXMuc2VsLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50RWwgPSB0aGlzLmVsLnBhcmVudE5vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXJ0UmVtb3ZlRWwgIT09IHRoaXMuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVUYXJnZXQgPSBzdGFydFJlbW92ZUVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRSZW1vdmVFbCA9IHN0YXJ0UmVtb3ZlRWwubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbChyZW1vdmVUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgd2FyblNldEhUTUwocGFyZW50RWwpO1xuICAgICAgICAgICAgICAgICAgICAvLyAjW2VuZF1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcEZsYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50RWwuaW5zZXJ0QmVmb3JlKHRlbXBGbGFnLCB0aGlzLmVsKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEZsYWcuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIHRleHQpO1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbC5yZW1vdmVDaGlsZCh0ZW1wRmxhZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsW3RleHRVcGRhdGVQcm9wXSA9IHRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBUZXh0Tm9kZTtcblxuXG4vKipcbiAqIEBmaWxlIOWIpOaWreWPmOabtOaVsOe7hOaYr+WQpuW9seWTjeWIsOaVsOaNruW8leeUqOaRmOimgVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vKipcbiAqIOWIpOaWreWPmOabtOaVsOe7hOaYr+WQpuW9seWTjeWIsOaVsOaNruW8leeUqOaRmOimgVxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNoYW5nZXMg5Y+Y5pu05pWw57uEXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVJlZiDmlbDmja7lvJXnlKjmkZjopoFcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNoYW5nZXNJc0luRGF0YVJlZihjaGFuZ2VzLCBkYXRhUmVmKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuXG4gICAgICAgIGlmICghY2hhbmdlLm92ZXJ2aWV3KSB7XG4gICAgICAgICAgICB2YXIgcGF0aHMgPSBjaGFuZ2UuZXhwci5wYXRocztcbiAgICAgICAgICAgIGNoYW5nZS5vdmVydmlldyA9IHBhdGhzWzBdLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAocGF0aHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZS5leHRPdmVydmlldyA9IHBhdGhzWzBdLnZhbHVlICsgJy4nICsgcGF0aHNbMV0udmFsdWU7XG4gICAgICAgICAgICAgICAgY2hhbmdlLndpbGRPdmVydmlldyA9IHBhdGhzWzBdLnZhbHVlICsgJy4qJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhUmVmW2NoYW5nZS5vdmVydmlld11cbiAgICAgICAgICAgIHx8IGNoYW5nZS53aWxkT3ZlcnZpZXcgJiYgZGF0YVJlZltjaGFuZ2Uud2lsZE92ZXJ2aWV3XVxuICAgICAgICAgICAgfHwgY2hhbmdlLmV4dE92ZXJ2aWV3ICYmIGRhdGFSZWZbY2hhbmdlLmV4dE92ZXJ2aWV3XVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjaGFuZ2VzSXNJbkRhdGFSZWY7XG5cblxuLyoqXG4gKiBAZmlsZSDlhYPntKDlrZDoioLngrnpgY3ljobmk43kvZznsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciByZW1vdmVFbCA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvcmVtb3ZlLWVsJyk7XG5cbi8vICNbYmVnaW5dIHJldmVyc2Vcbi8qKlxuICog5YWD57Sg5a2Q6IqC54K56YGN5Y6G5pON5L2c57G7XG4gKlxuICogQGlubmVyXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIOimgemBjeWOhueahOWFg+e0oFxuICovXG5mdW5jdGlvbiBET01DaGlsZHJlbldhbGtlcihlbCkge1xuICAgIHRoaXMucmF3ID0gW107XG4gICAgdGhpcy5pbmRleCA9IDA7XG4gICAgdGhpcy50YXJnZXQgPSBlbDtcblxuICAgIHZhciBjaGlsZCA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgdmFyIG5leHQ7XG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgIG5leHQgPSBjaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICBzd2l0Y2ggKGNoaWxkLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKC9eXFxzKiQvLnRlc3QoY2hpbGQuZGF0YSB8fCBjaGlsZC50ZXh0Q29udGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWwoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXcucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgdGhpcy5yYXcucHVzaChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZCA9IG5leHQ7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5yYXdbdGhpcy5pbmRleF07XG4gICAgdGhpcy5uZXh0ID0gdGhpcy5yYXdbdGhpcy5pbmRleCArIDFdO1xufVxuXG4vKipcbiAqIOW+gOS4i+i1sOS4gOS4quWFg+e0oFxuICovXG5ET01DaGlsZHJlbldhbGtlci5wcm90b3R5cGUuZ29OZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY3VycmVudCA9IHRoaXMucmF3WysrdGhpcy5pbmRleF07XG4gICAgdGhpcy5uZXh0ID0gdGhpcy5yYXdbdGhpcy5pbmRleCArIDFdO1xufTtcbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBET01DaGlsZHJlbldhbGtlcjtcblxuXG4vKipcbiAqIEBmaWxlIOWFg+e0oOiKgueCueexu1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIGd1aWQgPSByZXF1aXJlKCcuLi91dGlsL2d1aWQnKTtcbi8vIHZhciByZW1vdmVFbCA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvcmVtb3ZlLWVsJyk7XG4vLyB2YXIgY2hhbmdlRXhwckNvbXBhcmUgPSByZXF1aXJlKCcuLi9ydW50aW1lL2NoYW5nZS1leHByLWNvbXBhcmUnKTtcbi8vIHZhciBjaGFuZ2VzSXNJbkRhdGFSZWYgPSByZXF1aXJlKCcuLi9ydW50aW1lL2NoYW5nZXMtaXMtaW4tZGF0YS1yZWYnKTtcbi8vIHZhciBldmFsRXhwciA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZXZhbC1leHByJyk7XG4vLyB2YXIgTGlmZUN5Y2xlID0gcmVxdWlyZSgnLi9saWZlLWN5Y2xlJyk7XG4vLyB2YXIgTm9kZVR5cGUgPSByZXF1aXJlKCcuL25vZGUtdHlwZScpO1xuLy8gdmFyIHJldmVyc2VFbGVtZW50Q2hpbGRyZW4gPSByZXF1aXJlKCcuL3JldmVyc2UtZWxlbWVudC1jaGlsZHJlbicpO1xuLy8gdmFyIGlzRGF0YUNoYW5nZUJ5RWxlbWVudCA9IHJlcXVpcmUoJy4vaXMtZGF0YS1jaGFuZ2UtYnktZWxlbWVudCcpO1xuLy8gdmFyIGVsZW1lbnRVcGRhdGVDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC11cGRhdGUtY2hpbGRyZW4nKTtcbi8vIHZhciBlbGVtZW50T3duQ3JlYXRlID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1jcmVhdGUnKTtcbi8vIHZhciBlbGVtZW50T3duQXR0YWNoID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1hdHRhY2gnKTtcbi8vIHZhciBlbGVtZW50T3duRGV0YWNoID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1kZXRhY2gnKTtcbi8vIHZhciBlbGVtZW50T3duRGlzcG9zZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tZGlzcG9zZScpO1xuLy8gdmFyIGVsZW1lbnRPd25PbkVsID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1vbi1lbCcpO1xuLy8gdmFyIGVsZW1lbnRPd25Ub1BoYXNlID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi10by1waGFzZScpO1xuLy8gdmFyIGVsZW1lbnRPd25BdHRhY2hlZCA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tYXR0YWNoZWQnKTtcbi8vIHZhciBlbGVtZW50RGlzcG9zZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1kaXNwb3NlJyk7XG4vLyB2YXIgZWxlbWVudEluaXRUYWdOYW1lID0gcmVxdWlyZSgnLi9lbGVtZW50LWluaXQtdGFnLW5hbWUnKTtcbi8vIHZhciBoYW5kbGVQcm9wID0gcmVxdWlyZSgnLi9oYW5kbGUtcHJvcCcpO1xuLy8gdmFyIHdhcm5TZXRIVE1MID0gcmVxdWlyZSgnLi93YXJuLXNldC1odG1sJyk7XG4vLyB2YXIgZ2V0Tm9kZVBhdGggPSByZXF1aXJlKCcuL2dldC1ub2RlLXBhdGgnKTtcblxuLyoqXG4gKiDlhYPntKDoioLngrnnsbtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYU5vZGUg5oq96LGh6IqC54K5XG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu2546v5aKDXG4gKiBAcGFyYW0ge01vZGVsPX0gc2NvcGUg5omA5bGe5pWw5o2u546v5aKDXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCDniLbkurLoioLngrlcbiAqIEBwYXJhbSB7RE9NQ2hpbGRyZW5XYWxrZXI/fSByZXZlcnNlV2Fsa2VyIOWtkOWFg+e0oOmBjeWOhuWvueixoVxuICovXG5mdW5jdGlvbiBFbGVtZW50KGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcikge1xuICAgIHRoaXMuYU5vZGUgPSBhTm9kZTtcbiAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuXG4gICAgdGhpcy5saWZlQ3ljbGUgPSBMaWZlQ3ljbGUuc3RhcnQ7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMuX2VsRm5zID0gW107XG4gICAgdGhpcy5wYXJlbnRDb21wb25lbnQgPSBwYXJlbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFRcbiAgICAgICAgPyBwYXJlbnRcbiAgICAgICAgOiBwYXJlbnQucGFyZW50Q29tcG9uZW50O1xuXG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcblxuICAgIGVsZW1lbnRJbml0VGFnTmFtZSh0aGlzKTtcblxuICAgIHRoaXMuX3RvUGhhc2UoJ2luaXRlZCcpO1xuXG4gICAgLy8gI1tiZWdpbl0gcmV2ZXJzZVxuICAgIGlmIChyZXZlcnNlV2Fsa2VyKSB7XG4gICAgICAgIHZhciBjdXJyZW50Tm9kZSA9IHJldmVyc2VXYWxrZXIuY3VycmVudDtcblxuICAgICAgICBpZiAoIWN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gUkVWRVJTRSBFUlJPUl0gRWxlbWVudCBub3QgZm91bmQuIFxcblBhdGhzOiAnXG4gICAgICAgICAgICAgICAgKyBnZXROb2RlUGF0aCh0aGlzKS5qb2luKCcgPiAnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudE5vZGUubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBSRVZFUlNFIEVSUk9SXSBFbGVtZW50IHR5cGUgbm90IG1hdGNoLCBleHBlY3QgMSBidXQgJ1xuICAgICAgICAgICAgICAgICsgY3VycmVudE5vZGUubm9kZVR5cGUgKyAnLlxcblBhdGhzOiAnXG4gICAgICAgICAgICAgICAgKyBnZXROb2RlUGF0aCh0aGlzKS5qb2luKCcgPiAnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSB0aGlzLnRhZ05hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBSRVZFUlNFIEVSUk9SXSBFbGVtZW50IHRhZ05hbWUgbm90IG1hdGNoLCBleHBlY3QgJ1xuICAgICAgICAgICAgICAgICsgdGhpcy50YWdOYW1lICsgJyBidXQgbWVhdCAnICsgY3VycmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpICsgJy5cXG5QYXRoczogJ1xuICAgICAgICAgICAgICAgICsgZ2V0Tm9kZVBhdGgodGhpcykuam9pbignID4gJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbCA9IGN1cnJlbnROb2RlO1xuICAgICAgICByZXZlcnNlV2Fsa2VyLmdvTmV4dCgpO1xuXG4gICAgICAgIHJldmVyc2VFbGVtZW50Q2hpbGRyZW4odGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYXR0YWNoZWQoKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG59XG5cblxuXG5FbGVtZW50LnByb3RvdHlwZS5ub2RlVHlwZSA9IE5vZGVUeXBlLkVMRU07XG5cblxuRWxlbWVudC5wcm90b3R5cGUuYXR0YWNoID0gZWxlbWVudE93bkF0dGFjaDtcbkVsZW1lbnQucHJvdG90eXBlLmRldGFjaCA9IGVsZW1lbnRPd25EZXRhY2g7XG5FbGVtZW50LnByb3RvdHlwZS5kaXNwb3NlID0gZWxlbWVudE93bkRpc3Bvc2U7XG5FbGVtZW50LnByb3RvdHlwZS5fY3JlYXRlID0gZWxlbWVudE93bkNyZWF0ZTtcbkVsZW1lbnQucHJvdG90eXBlLl90b1BoYXNlID0gZWxlbWVudE93blRvUGhhc2U7XG5FbGVtZW50LnByb3RvdHlwZS5fb25FbCA9IGVsZW1lbnRPd25PbkVsO1xuXG5FbGVtZW50LnByb3RvdHlwZS5fZG9uZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmxlYXZlRGlzcG9zZSkge1xuICAgICAgICBpZiAoIXRoaXMubGlmZUN5Y2xlLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICBlbGVtZW50RGlzcG9zZShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZU5vRGV0YWNoLFxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZU5vVHJhbnNpdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmxpZmVDeWNsZS5hdHRhY2hlZCkge1xuICAgICAgICByZW1vdmVFbCh0aGlzLmVsKTtcbiAgICAgICAgdGhpcy5fdG9QaGFzZSgnZGV0YWNoZWQnKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOinhuWbvuabtOaWsFxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNoYW5nZXMg5pWw5o2u5Y+Y5YyW5L+h5oGvXG4gKi9cbkVsZW1lbnQucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgIGlmICghY2hhbmdlc0lzSW5EYXRhUmVmKGNoYW5nZXMsIHRoaXMuYU5vZGUuaG90c3BvdC5kYXRhKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1lID0gdGhpcztcblxuICAgIHZhciBkeW5hbWljUHJvcHMgPSB0aGlzLmFOb2RlLmhvdHNwb3QuZHluYW1pY1Byb3BzO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZHluYW1pY1Byb3BzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcHJvcCA9IGR5bmFtaWNQcm9wc1tpXTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMCwgY2hhbmdlTGVuID0gY2hhbmdlcy5sZW5ndGg7IGogPCBjaGFuZ2VMZW47IGorKykge1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGNoYW5nZXNbal07XG5cbiAgICAgICAgICAgIGlmICghaXNEYXRhQ2hhbmdlQnlFbGVtZW50KGNoYW5nZSwgdGhpcywgcHJvcC5uYW1lKVxuICAgICAgICAgICAgICAgICYmIChcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXhwckNvbXBhcmUoY2hhbmdlLmV4cHIsIHByb3AuZXhwciwgdGhpcy5zY29wZSlcbiAgICAgICAgICAgICAgICAgICAgfHwgcHJvcC5oaW50RXhwciAmJiBjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2UuZXhwciwgcHJvcC5oaW50RXhwciwgdGhpcy5zY29wZSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVQcm9wKHRoaXMsIGV2YWxFeHByKHByb3AuZXhwciwgdGhpcy5zY29wZSwgdGhpcy5vd25lciksIHByb3ApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGh0bWxEaXJlY3RpdmUgPSB0aGlzLmFOb2RlLmRpcmVjdGl2ZXMuaHRtbDtcbiAgICBpZiAoaHRtbERpcmVjdGl2ZSkge1xuICAgICAgICBlYWNoKGNoYW5nZXMsIGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2UuZXhwciwgaHRtbERpcmVjdGl2ZS52YWx1ZSwgbWUuc2NvcGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgICAgICAgICB3YXJuU2V0SFRNTChtZS5lbCk7XG4gICAgICAgICAgICAgICAgLy8gI1tlbmRdXG4gICAgICAgICAgICAgICAgbWUuZWwuaW5uZXJIVE1MID0gZXZhbEV4cHIoaHRtbERpcmVjdGl2ZS52YWx1ZSwgbWUuc2NvcGUsIG1lLm93bmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWxlbWVudFVwZGF0ZUNoaWxkcmVuKHRoaXMsIGNoYW5nZXMpO1xuICAgIH1cbn07XG5cbi8qKlxuICog5omn6KGM5a6M5oiQYXR0YWNoZWTnirbmgIHnmoTooYzkuLpcbiAqL1xuRWxlbWVudC5wcm90b3R5cGUuX2F0dGFjaGVkID0gZWxlbWVudE93bkF0dGFjaGVkO1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBFbGVtZW50O1xuXG5cbi8qKlxuICogQGZpbGUg6ZSA5q+B6IqC54K577yM5riF56m66IqC54K55LiK55qE5peg55So5oiQ5ZGYXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8qKlxuICog6ZSA5q+B6IqC54K5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG5vZGUg6IqC54K55a+56LGhXG4gKi9cbmZ1bmN0aW9uIG5vZGVEaXNwb3NlKG5vZGUpIHtcbiAgICBub2RlLmVsID0gbnVsbDtcbiAgICBub2RlLnNlbCA9IG51bGw7XG4gICAgbm9kZS5vd25lciA9IG51bGw7XG4gICAgbm9kZS5zY29wZSA9IG51bGw7XG4gICAgbm9kZS5hTm9kZSA9IG51bGw7XG4gICAgbm9kZS5wYXJlbnQgPSBudWxsO1xuICAgIG5vZGUucGFyZW50Q29tcG9uZW50ID0gbnVsbDtcbiAgICBub2RlLmNoaWxkcmVuID0gbnVsbDtcblxuICAgIGlmIChub2RlLl90b1BoYXNlKSB7XG4gICAgICAgIG5vZGUuX3RvUGhhc2UoJ2Rpc3Bvc2VkJyk7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuX29uZGlzcG9zZWQpIHtcbiAgICAgICAgbm9kZS5fb25kaXNwb3NlZCgpO1xuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gbm9kZURpc3Bvc2U7XG5cblxuLyoqXG4gKiBAZmlsZSDpgJrov4fnu4Tku7blj43op6PliJvlu7roioLngrnnmoTlt6XljoLmlrnms5VcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBob3RUYWdzID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9ob3QtdGFncycpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcbi8vIHZhciBUZXh0Tm9kZSA9IHJlcXVpcmUoJy4vdGV4dC1ub2RlJyk7XG4vLyB2YXIgRWxlbWVudCA9IHJlcXVpcmUoJy4vZWxlbWVudCcpO1xuLy8gdmFyIFNsb3ROb2RlID0gcmVxdWlyZSgnLi9zbG90LW5vZGUnKTtcbi8vIHZhciBGb3JOb2RlID0gcmVxdWlyZSgnLi9mb3Itbm9kZScpO1xuLy8gdmFyIElmTm9kZSA9IHJlcXVpcmUoJy4vaWYtbm9kZScpO1xuLy8gdmFyIFRlbXBsYXRlTm9kZSA9IHJlcXVpcmUoJy4vdGVtcGxhdGUtbm9kZScpO1xuXG4vLyAjW2JlZ2luXSByZXZlcnNlXG4vKipcbiAqIOmAmui/h+e7hOS7tuWPjeino+WIm+W7uuiKgueCuVxuICpcbiAqIEBwYXJhbSB7QU5vZGV9IGFOb2RlIOaKveixoeiKgueCuVxuICogQHBhcmFtIHtET01DaGlsZHJlbldhbGtlcn0gcmV2ZXJzZVdhbGtlciDlrZDlhYPntKDpgY3ljoblr7nosaFcbiAqIEBwYXJhbSB7Tm9kZX0gcGFyZW50IOeItuS6suiKgueCuVxuICogQHBhcmFtIHtNb2RlbD19IHNjb3BlIOaJgOWxnuaVsOaNrueOr+Wig1xuICogQHJldHVybiB7Tm9kZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmV2ZXJzZU5vZGUoYU5vZGUsIHJldmVyc2VXYWxrZXIsIHBhcmVudCwgc2NvcGUpIHtcbiAgICB2YXIgcGFyZW50SXNDb21wb25lbnQgPSBwYXJlbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFQ7XG4gICAgdmFyIG93bmVyID0gcGFyZW50SXNDb21wb25lbnQgPyBwYXJlbnQgOiAocGFyZW50LmNoaWxkT3duZXIgfHwgcGFyZW50Lm93bmVyKTtcbiAgICBzY29wZSA9IHNjb3BlIHx8IChwYXJlbnRJc0NvbXBvbmVudCA/IHBhcmVudC5kYXRhIDogKHBhcmVudC5jaGlsZFNjb3BlIHx8IHBhcmVudC5zY29wZSkpO1xuXG4gICAgaWYgKGFOb2RlLnRleHRFeHByKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dE5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50LCByZXZlcnNlV2Fsa2VyKTtcbiAgICB9XG5cbiAgICBpZiAoYU5vZGUuZGlyZWN0aXZlc1snaWYnXSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgICByZXR1cm4gbmV3IElmTm9kZShhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQsIHJldmVyc2VXYWxrZXIpO1xuICAgIH1cblxuICAgIGlmIChhTm9kZS5kaXJlY3RpdmVzWydmb3InXSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgICByZXR1cm4gbmV3IEZvck5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50LCByZXZlcnNlV2Fsa2VyKTtcbiAgICB9XG5cbiAgICBpZiAoaG90VGFnc1thTm9kZS50YWdOYW1lXSkge1xuICAgICAgICByZXR1cm4gbmV3IEVsZW1lbnQoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50LCByZXZlcnNlV2Fsa2VyKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGFOb2RlLnRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnc2xvdCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNsb3ROb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcik7XG5cbiAgICAgICAgY2FzZSAndGVtcGxhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZU5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50LCByZXZlcnNlV2Fsa2VyKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIENvbXBvbmVudFR5cGUgPSBvd25lci5nZXRDb21wb25lbnRUeXBlKGFOb2RlKTtcbiAgICAgICAgICAgIGlmIChDb21wb25lbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRUeXBlKHtcbiAgICAgICAgICAgICAgICAgICAgYU5vZGU6IGFOb2RlLFxuICAgICAgICAgICAgICAgICAgICBvd25lcjogb3duZXIsXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiBzY29wZSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgIHN1YlRhZzogYU5vZGUudGFnTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZVdhbGtlcjogcmV2ZXJzZVdhbGtlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgRWxlbWVudChhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQsIHJldmVyc2VXYWxrZXIpO1xufVxuLy8gI1tlbmRdXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVJldmVyc2VOb2RlO1xuXG5cbi8qKlxuICogQGZpbGUg6ZSA5q+B6YeK5pS+5YWD57Sg55qE5a2Q5YWD57SgXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vKipcbiAqIOmUgOavgemHiuaUvuWFg+e0oOeahOWtkOWFg+e0oFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IOWFg+e0oOiKgueCuVxuICogQHBhcmFtIHtib29sZWFuPX0gbm9EZXRhY2gg5piv5ZCm5LiN6KaB5oqK6IqC54K55LuOZG9t56e76ZmkXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24g5piv5ZCm5LiN5pi+56S66L+H5rih5Yqo55S75pWI5p6cXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnREaXNwb3NlQ2hpbGRyZW4oZWxlbWVudCwgbm9EZXRhY2gsIG5vVHJhbnNpdGlvbikge1xuICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW47XG4gICAgdmFyIGxlbiA9IGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgY2hpbGRyZW5bbGVuXS5kaXNwb3NlKG5vRGV0YWNoLCBub1RyYW5zaXRpb24pO1xuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWxlbWVudERpc3Bvc2VDaGlsZHJlbjtcblxuXG4vKipcbiAqIEBmaWxlIOabtOaWsOWFg+e0oOeahOWtkOWFg+e0oOinhuWbvlxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vKipcbiAqIOabtOaWsOWFg+e0oOeahOWtkOWFg+e0oOinhuWbvlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IOimgeabtOaWsOeahOWFg+e0oFxuICogQHBhcmFtIHtBcnJheX0gY2hhbmdlcyDmlbDmja7lj5jljJbkv6Hmga9cbiAqL1xuZnVuY3Rpb24gZWxlbWVudFVwZGF0ZUNoaWxkcmVuKGVsZW1lbnQsIGNoYW5nZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGVsZW1lbnQuY2hpbGRyZW5baV0uX3VwZGF0ZShjaGFuZ2VzKTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnRVcGRhdGVDaGlsZHJlbjtcblxuXG4vKipcbiAqIEBmaWxlIOS9v+WFg+e0oOiKgueCueWIsOi+vuebuOW6lOeahOeUn+WRveWRqOacn1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgTGlmZUN5Y2xlID0gcmVxdWlyZSgnLi9saWZlLWN5Y2xlJyk7XG5cbi8qKlxuICog5L2/5YWD57Sg6IqC54K55Yiw6L6+55u45bqU55qE55Sf5ZG95ZGo5pyfXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUg55Sf5ZG95ZGo5pyf5ZCN56ewXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRPd25Ub1BoYXNlKG5hbWUpIHtcbiAgICB0aGlzLmxpZmVDeWNsZSA9IExpZmVDeWNsZVtuYW1lXSB8fCB0aGlzLmxpZmVDeWNsZTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWxlbWVudE93blRvUGhhc2U7XG5cblxuLyoqXG4gKiBAZmlsZSDliJvlu7roioLngrnnmoTlt6XljoLmlrnms5VcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBob3RUYWdzID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9ob3QtdGFncycpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcbi8vIHZhciBUZXh0Tm9kZSA9IHJlcXVpcmUoJy4vdGV4dC1ub2RlJyk7XG4vLyB2YXIgRWxlbWVudCA9IHJlcXVpcmUoJy4vZWxlbWVudCcpO1xuLy8gdmFyIFNsb3ROb2RlID0gcmVxdWlyZSgnLi9zbG90LW5vZGUnKTtcbi8vIHZhciBGb3JOb2RlID0gcmVxdWlyZSgnLi9mb3Itbm9kZScpO1xuLy8gdmFyIElmTm9kZSA9IHJlcXVpcmUoJy4vaWYtbm9kZScpO1xuLy8gdmFyIFRlbXBsYXRlTm9kZSA9IHJlcXVpcmUoJy4vdGVtcGxhdGUtbm9kZScpO1xuXG5cbi8qKlxuICog5Yib5bu66IqC54K5XG4gKlxuICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg5oq96LGh6IqC54K5XG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCDniLbkurLoioLngrlcbiAqIEBwYXJhbSB7TW9kZWw9fSBzY29wZSDmiYDlsZ7mlbDmja7njq/looNcbiAqIEByZXR1cm4ge05vZGV9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU5vZGUoYU5vZGUsIHBhcmVudCwgc2NvcGUpIHtcbiAgICB2YXIgcGFyZW50SXNDb21wb25lbnQgPSBwYXJlbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFQ7XG4gICAgdmFyIG93bmVyID0gcGFyZW50SXNDb21wb25lbnQgPyBwYXJlbnQgOiAocGFyZW50LmNoaWxkT3duZXIgfHwgcGFyZW50Lm93bmVyKTtcbiAgICBzY29wZSA9IHNjb3BlIHx8IChwYXJlbnRJc0NvbXBvbmVudCA/IHBhcmVudC5kYXRhIDogKHBhcmVudC5jaGlsZFNjb3BlIHx8IHBhcmVudC5zY29wZSkpO1xuXG5cbiAgICBpZiAoYU5vZGUudGV4dEV4cHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0Tm9kZShhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQpO1xuICAgIH1cblxuICAgIGlmIChhTm9kZS5kaXJlY3RpdmVzWydpZiddKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgICAgIHJldHVybiBuZXcgSWZOb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCk7XG4gICAgfVxuXG4gICAgaWYgKGFOb2RlLmRpcmVjdGl2ZXNbJ2ZvciddKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgICAgIHJldHVybiBuZXcgRm9yTm9kZShhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQpO1xuICAgIH1cblxuICAgIGlmIChob3RUYWdzW2FOb2RlLnRhZ05hbWVdKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWxlbWVudChhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQpO1xuICAgIH1cblxuXG5cbiAgICBzd2l0Y2ggKGFOb2RlLnRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnc2xvdCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNsb3ROb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCk7XG5cbiAgICAgICAgY2FzZSAndGVtcGxhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZU5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50KTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIENvbXBvbmVudFR5cGUgPSBvd25lci5nZXRDb21wb25lbnRUeXBlKGFOb2RlKTtcbiAgICAgICAgICAgIGlmIChDb21wb25lbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRUeXBlKHtcbiAgICAgICAgICAgICAgICAgICAgYU5vZGU6IGFOb2RlLFxuICAgICAgICAgICAgICAgICAgICBvd25lcjogb3duZXIsXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiBzY29wZSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgIHN1YlRhZzogYU5vZGUudGFnTmFtZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgRWxlbWVudChhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQpO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVOb2RlO1xuXG5cbi8qKlxuICogQGZpbGUg55Sf5oiQ5a2Q5YWD57SgXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgY3JlYXRlTm9kZSA9IHJlcXVpcmUoJy4vY3JlYXRlLW5vZGUnKTtcblxuLyoqXG4gKiDnlJ/miJDlrZDlhYPntKBcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQg5YWD57SgXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRFbCDopoHmt7vliqDliLDnmoTniLblhYPntKBcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnTvvJ19IGJlZm9yZUVsIOimgea3u+WKoOWIsOWTquS4quWFg+e0oOS5i+WJjVxuICovXG5mdW5jdGlvbiBnZW5FbGVtZW50Q2hpbGRyZW4oZWxlbWVudCwgcGFyZW50RWwsIGJlZm9yZUVsKSB7XG4gICAgcGFyZW50RWwgPSBwYXJlbnRFbCB8fCBlbGVtZW50LmVsO1xuXG4gICAgdmFyIGFOb2RlQ2hpbGRyZW4gPSBlbGVtZW50LmFOb2RlLmNoaWxkcmVuO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYU5vZGVDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSBjcmVhdGVOb2RlKGFOb2RlQ2hpbGRyZW5baV0sIGVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICBjaGlsZC5hdHRhY2gocGFyZW50RWwsIGJlZm9yZUVsKTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGdlbkVsZW1lbnRDaGlsZHJlbjtcblxuXG4vKipcbiAqIEBmaWxlIOWwhuayoeaciSByb290IOWPquaciSBjaGlsZHJlbiDnmoTlhYPntKAgYXR0YWNoIOWIsOmhtemdolxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgaW5zZXJ0QmVmb3JlID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pbnNlcnQtYmVmb3JlJyk7XG4vLyB2YXIgZ2VuRWxlbWVudENoaWxkcmVuID0gcmVxdWlyZSgnLi9nZW4tZWxlbWVudC1jaGlsZHJlbicpO1xuXG5cbi8qKlxuICog5bCG5rKh5pyJIHJvb3Qg5Y+q5pyJIGNoaWxkcmVuIOeahOWFg+e0oCBhdHRhY2gg5Yiw6aG16Z2iXG4gKiDkuLvopoHnlKjkuo4gc2xvdCDlkowgdGVtcGxhdGVcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRFbCDopoHmt7vliqDliLDnmoTniLblhYPntKBcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnTvvJ19IGJlZm9yZUVsIOimgea3u+WKoOWIsOWTquS4quWFg+e0oOS5i+WJjVxuICovXG5mdW5jdGlvbiBub2RlT3duT25seUNoaWxkcmVuQXR0YWNoKHBhcmVudEVsLCBiZWZvcmVFbCkge1xuICAgIHRoaXMuc2VsID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0aGlzLmlkKTtcbiAgICBpbnNlcnRCZWZvcmUodGhpcy5zZWwsIHBhcmVudEVsLCBiZWZvcmVFbCk7XG5cbiAgICBnZW5FbGVtZW50Q2hpbGRyZW4odGhpcywgcGFyZW50RWwsIGJlZm9yZUVsKTtcblxuICAgIHRoaXMuZWwgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRoaXMuaWQpO1xuICAgIGluc2VydEJlZm9yZSh0aGlzLmVsLCBwYXJlbnRFbCwgYmVmb3JlRWwpO1xuXG4gICAgdGhpcy5fdG9QaGFzZSgnYXR0YWNoZWQnKTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gbm9kZU93bk9ubHlDaGlsZHJlbkF0dGFjaDtcblxuXG4vKipcbiAqIEBmaWxlIHNsb3Qg6IqC54K557G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIGd1aWQgPSByZXF1aXJlKCcuLi91dGlsL2d1aWQnKTtcbi8vIHZhciBjcmVhdGVBTm9kZSA9IHJlcXVpcmUoJy4uL3BhcnNlci9jcmVhdGUtYS1ub2RlJyk7XG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvZXhwci10eXBlJyk7XG4vLyB2YXIgY3JlYXRlQWNjZXNzb3IgPSByZXF1aXJlKCcuLi9wYXJzZXIvY3JlYXRlLWFjY2Vzc29yJyk7XG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtZXhwcicpO1xuLy8gdmFyIERhdGEgPSByZXF1aXJlKCcuLi9ydW50aW1lL2RhdGEnKTtcbi8vIHZhciBEYXRhQ2hhbmdlVHlwZSA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZGF0YS1jaGFuZ2UtdHlwZScpO1xuLy8gdmFyIGNoYW5nZUV4cHJDb21wYXJlID0gcmVxdWlyZSgnLi4vcnVudGltZS9jaGFuZ2UtZXhwci1jb21wYXJlJyk7XG4vLyB2YXIgaW5zZXJ0QmVmb3JlID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pbnNlcnQtYmVmb3JlJyk7XG4vLyB2YXIgTm9kZVR5cGUgPSByZXF1aXJlKCcuL25vZGUtdHlwZScpO1xuLy8gdmFyIExpZmVDeWNsZSA9IHJlcXVpcmUoJy4vbGlmZS1jeWNsZScpO1xuLy8gdmFyIGdldEFOb2RlUHJvcCA9IHJlcXVpcmUoJy4vZ2V0LWEtbm9kZS1wcm9wJyk7XG4vLyB2YXIgbm9kZURpc3Bvc2UgPSByZXF1aXJlKCcuL25vZGUtZGlzcG9zZScpO1xuLy8gdmFyIGNyZWF0ZVJldmVyc2VOb2RlID0gcmVxdWlyZSgnLi9jcmVhdGUtcmV2ZXJzZS1ub2RlJyk7XG4vLyB2YXIgZWxlbWVudERpc3Bvc2VDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC1kaXNwb3NlLWNoaWxkcmVuJyk7XG4vLyB2YXIgZWxlbWVudFVwZGF0ZUNoaWxkcmVuID0gcmVxdWlyZSgnLi9lbGVtZW50LXVwZGF0ZS1jaGlsZHJlbicpO1xuLy8gdmFyIGVsZW1lbnRPd25Ub1BoYXNlID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi10by1waGFzZScpO1xuLy8gdmFyIG5vZGVPd25Pbmx5Q2hpbGRyZW5BdHRhY2ggPSByZXF1aXJlKCcuL25vZGUtb3duLW9ubHktY2hpbGRyZW4tYXR0YWNoJyk7XG5cblxuLyoqXG4gKiBzbG90IOiKgueCueexu1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhTm9kZSDmir3osaHoioLngrlcbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBvd25lciDmiYDlsZ7nu4Tku7bnjq/looNcbiAqIEBwYXJhbSB7TW9kZWw9fSBzY29wZSDmiYDlsZ7mlbDmja7njq/looNcbiAqIEBwYXJhbSB7Tm9kZX0gcGFyZW50IOeItuS6suiKgueCuVxuICogQHBhcmFtIHtET01DaGlsZHJlbldhbGtlcj99IHJldmVyc2VXYWxrZXIg5a2Q5YWD57Sg6YGN5Y6G5a+56LGhXG4gKi9cbmZ1bmN0aW9uIFNsb3ROb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcikge1xuICAgIHZhciByZWFsQU5vZGUgPSBjcmVhdGVBTm9kZSgpO1xuICAgIHRoaXMuYU5vZGUgPSByZWFsQU5vZGU7XG4gICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLnBhcmVudENvbXBvbmVudCA9IHBhcmVudC5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuQ01QVFxuICAgICAgICA/IHBhcmVudFxuICAgICAgICA6IHBhcmVudC5wYXJlbnRDb21wb25lbnQ7XG5cbiAgICB0aGlzLmlkID0gZ3VpZCgpO1xuXG4gICAgdGhpcy5saWZlQ3ljbGUgPSBMaWZlQ3ljbGUuc3RhcnQ7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgLy8gY2FsYyBzbG90IG5hbWVcbiAgICB0aGlzLm5hbWVCaW5kID0gZ2V0QU5vZGVQcm9wKGFOb2RlLCAnbmFtZScpO1xuICAgIGlmICh0aGlzLm5hbWVCaW5kKSB7XG4gICAgICAgIHRoaXMuaXNOYW1lZCA9IHRydWU7XG4gICAgICAgIHRoaXMubmFtZSA9IGV2YWxFeHByKHRoaXMubmFtZUJpbmQuZXhwciwgdGhpcy5zY29wZSwgdGhpcy5vd25lcik7XG4gICAgfVxuXG4gICAgLy8gY2FsYyBhTm9kZSBjaGlsZHJlblxuICAgIHZhciBnaXZlblNsb3RzID0gb3duZXIuZ2l2ZW5TbG90cztcbiAgICB2YXIgZ2l2ZW5DaGlsZHJlbjtcbiAgICBpZiAoZ2l2ZW5TbG90cykge1xuICAgICAgICBnaXZlbkNoaWxkcmVuID0gdGhpcy5pc05hbWVkID8gZ2l2ZW5TbG90cy5uYW1lZFt0aGlzLm5hbWVdIDogZ2l2ZW5TbG90cy5ub25hbWU7XG4gICAgfVxuXG4gICAgaWYgKGdpdmVuQ2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5pc0luc2VydGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZWFsQU5vZGUuY2hpbGRyZW4gPSBnaXZlbkNoaWxkcmVuIHx8IGFOb2RlLmNoaWxkcmVuLnNsaWNlKDApO1xuXG4gICAgdmFyIG1lID0gdGhpcztcblxuICAgIC8vIGNhbGMgc2NvcGVkIHNsb3QgdmFyc1xuICAgIHJlYWxBTm9kZS52YXJzID0gYU5vZGUudmFycztcbiAgICB2YXIgaW5pdERhdGEgPSB7fTtcbiAgICBlYWNoKHJlYWxBTm9kZS52YXJzLCBmdW5jdGlvbiAodmFySXRlbSkge1xuICAgICAgICBtZS5pc1Njb3BlZCA9IHRydWU7XG4gICAgICAgIGluaXREYXRhW3Zhckl0ZW0ubmFtZV0gPSBldmFsRXhwcih2YXJJdGVtLmV4cHIsIHNjb3BlLCBvd25lcik7XG4gICAgfSk7XG5cbiAgICAvLyBjaGlsZCBvd25lciAmIGNoaWxkIHNjb3BlXG4gICAgaWYgKHRoaXMuaXNJbnNlcnRlZCkge1xuICAgICAgICB0aGlzLmNoaWxkT3duZXIgPSBvd25lci5vd25lcjtcbiAgICAgICAgdGhpcy5jaGlsZFNjb3BlID0gb3duZXIuc2NvcGU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNTY29wZWQpIHtcbiAgICAgICAgdGhpcy5jaGlsZFNjb3BlID0gbmV3IERhdGEoaW5pdERhdGEsIHRoaXMuY2hpbGRTY29wZSB8fCB0aGlzLnNjb3BlKTtcbiAgICB9XG5cblxuICAgIG93bmVyLnNsb3RDaGlsZHJlbi5wdXNoKHRoaXMpO1xuXG4gICAgLy8gI1tiZWdpbl0gcmV2ZXJzZVxuICAgIGlmIChyZXZlcnNlV2Fsa2VyKSB7XG5cbiAgICAgICAgdGhpcy5zZWwgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRoaXMuaWQpO1xuICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5zZWwsIHJldmVyc2VXYWxrZXIudGFyZ2V0LCByZXZlcnNlV2Fsa2VyLmN1cnJlbnQpO1xuXG4gICAgICAgIGVhY2godGhpcy5hTm9kZS5jaGlsZHJlbiwgZnVuY3Rpb24gKGFOb2RlQ2hpbGQpIHtcbiAgICAgICAgICAgIG1lLmNoaWxkcmVuLnB1c2goY3JlYXRlUmV2ZXJzZU5vZGUoYU5vZGVDaGlsZCwgcmV2ZXJzZVdhbGtlciwgbWUpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGhpcy5pZCk7XG4gICAgICAgIGluc2VydEJlZm9yZSh0aGlzLmVsLCByZXZlcnNlV2Fsa2VyLnRhcmdldCwgcmV2ZXJzZVdhbGtlci5jdXJyZW50KTtcblxuICAgICAgICB0aGlzLl90b1BoYXNlKCdhdHRhY2hlZCcpO1xuICAgIH1cbiAgICAvLyAjW2VuZF1cbn1cblxuU2xvdE5vZGUucHJvdG90eXBlLm5vZGVUeXBlID0gTm9kZVR5cGUuU0xPVDtcblxuLyoqXG4gKiDplIDmr4Hph4rmlL4gc2xvdFxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vRGV0YWNoIOaYr+WQpuS4jeimgeaKiuiKgueCueS7jmRvbeenu+mZpFxuICogQHBhcmFtIHtib29sZWFuPX0gbm9UcmFuc2l0aW9uIOaYr+WQpuS4jeaYvuekuui/h+a4oeWKqOeUu+aViOaenFxuICovXG5TbG90Tm9kZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChub0RldGFjaCwgbm9UcmFuc2l0aW9uKSB7XG4gICAgdGhpcy5jaGlsZE93bmVyID0gbnVsbDtcbiAgICB0aGlzLmNoaWxkU2NvcGUgPSBudWxsO1xuXG4gICAgZWxlbWVudERpc3Bvc2VDaGlsZHJlbih0aGlzLCBub0RldGFjaCwgbm9UcmFuc2l0aW9uKTtcbiAgICBub2RlRGlzcG9zZSh0aGlzKTtcbn07XG5cblNsb3ROb2RlLnByb3RvdHlwZS5hdHRhY2ggPSBub2RlT3duT25seUNoaWxkcmVuQXR0YWNoO1xuU2xvdE5vZGUucHJvdG90eXBlLl90b1BoYXNlID0gZWxlbWVudE93blRvUGhhc2U7XG5cbi8qKlxuICog6KeG5Zu+5pu05paw5Ye95pWwXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY2hhbmdlcyDmlbDmja7lj5jljJbkv6Hmga9cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGlzRnJvbU91dGVyIOWPmOWMluS/oeaBr+aYr+WQpuadpea6kOS6jueItue7hOS7tuS5i+WklueahOe7hOS7tlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuU2xvdE5vZGUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2hhbmdlcywgaXNGcm9tT3V0ZXIpIHtcbiAgICB2YXIgbWUgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMubmFtZUJpbmQgJiYgZXZhbEV4cHIodGhpcy5uYW1lQmluZC5leHByLCB0aGlzLnNjb3BlLCB0aGlzLm93bmVyKSAhPT0gbWUubmFtZSkge1xuICAgICAgICB0aGlzLm93bmVyLl9ub3RpZnlOZWVkUmVsb2FkKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaXNGcm9tT3V0ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNJbnNlcnRlZCkge1xuICAgICAgICAgICAgZWxlbWVudFVwZGF0ZUNoaWxkcmVuKHRoaXMsIGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5pc1Njb3BlZCkge1xuICAgICAgICAgICAgZWFjaCh0aGlzLmFOb2RlLnZhcnMsIGZ1bmN0aW9uICh2YXJJdGVtKSB7XG4gICAgICAgICAgICAgICAgbWUuY2hpbGRTY29wZS5zZXQodmFySXRlbS5uYW1lLCBldmFsRXhwcih2YXJJdGVtLmV4cHIsIG1lLnNjb3BlLCBtZS5vd25lcikpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdmFyIHNjb3BlZENoYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIGVhY2goY2hhbmdlcywgZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICAgICAgICAgIGlmICghbWUuaXNJbnNlcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZWRDaGFuZ2VzLnB1c2goY2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlYWNoKG1lLmFOb2RlLnZhcnMsIGZ1bmN0aW9uICh2YXJJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gdmFySXRlbS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRpb24gPSBjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2UuZXhwciwgdmFySXRlbS5leHByLCBtZS5zY29wZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbGF0aW9uIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZS50eXBlICE9PSBEYXRhQ2hhbmdlVHlwZS5TUExJQ0UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlZENoYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YUNoYW5nZVR5cGUuU0VULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHI6IGNyZWF0ZUFjY2Vzc29yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3R5cGU6IEV4cHJUeXBlLlNUUklORywgdmFsdWU6IG5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1lLmNoaWxkU2NvcGUuZ2V0KG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbjogY2hhbmdlLm9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVsYXRpb24gPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlZENoYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcjogY3JlYXRlQWNjZXNzb3IoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dHlwZTogRXhwclR5cGUuU1RSSU5HLCB2YWx1ZTogbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhQ2hhbmdlVHlwZS5TUExJQ0UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGNoYW5nZS5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVDb3VudDogY2hhbmdlLmRlbGV0ZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaGFuZ2UudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0aW9uczogY2hhbmdlLmluc2VydGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uOiBjaGFuZ2Uub3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVsZW1lbnRVcGRhdGVDaGlsZHJlbih0aGlzLCBzY29wZWRDaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5pc0luc2VydGVkKSB7XG4gICAgICAgICAgICBlbGVtZW50VXBkYXRlQ2hpbGRyZW4odGhpcywgY2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBTbG90Tm9kZTtcblxuXG4vKipcbiAqIEBmaWxlIOWkjeWItuaMh+S7pOmbhuWQiOWvueixoVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDlpI3liLbmjIfku6Tpm4blkIjlr7nosaFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIOimgeWkjeWItueahOaMh+S7pOmbhuWQiOWvueixoVxuICogQHBhcmFtIHtPYmplY3Q9fSBleGNsdWRlcyDpnIDopoHmjpLpmaTnmoRrZXnpm4blkIhcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gY2xvbmVEaXJlY3RpdmVzKHNvdXJjZSwgZXhjbHVkZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZXhjbHVkZXMgPSBleGNsdWRlcyB8fCB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFleGNsdWRlc1trZXldKSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY2xvbmVEaXJlY3RpdmVzO1xuXG5cbi8qKlxuICogQGZpbGUg566A5Y2V5omn6KGM6ZSA5q+B6IqC54K555qE6KGM5Li6XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgcmVtb3ZlRWwgPSByZXF1aXJlKCcuLi9icm93c2VyL3JlbW92ZS1lbCcpO1xuLy8gdmFyIG5vZGVEaXNwb3NlID0gcmVxdWlyZSgnLi9ub2RlLWRpc3Bvc2UnKTtcbi8vIHZhciBlbGVtZW50RGlzcG9zZUNoaWxkcmVuID0gcmVxdWlyZSgnLi9lbGVtZW50LWRpc3Bvc2UtY2hpbGRyZW4nKTtcblxuLyoqXG4gKiDnroDljZXmiafooYzplIDmr4HoioLngrnnmoTooYzkuLpcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub0RldGFjaCDmmK/lkKbkuI3opoHmioroioLngrnku45kb23np7vpmaRcbiAqL1xuZnVuY3Rpb24gbm9kZU93blNpbXBsZURpc3Bvc2Uobm9EZXRhY2gpIHtcbiAgICBlbGVtZW50RGlzcG9zZUNoaWxkcmVuKHRoaXMsIG5vRGV0YWNoLCAxKTtcblxuICAgIGlmICghbm9EZXRhY2gpIHtcbiAgICAgICAgcmVtb3ZlRWwodGhpcy5lbCk7XG4gICAgfVxuXG4gICAgbm9kZURpc3Bvc2UodGhpcyk7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IG5vZGVPd25TaW1wbGVEaXNwb3NlO1xuXG5cbi8qKlxuICogQGZpbGUg5Yib5bu66IqC54K55a+55bqU55qEIHN0dW1wIGNvbW1lbnQg5YWD57SgXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cblxuLyoqXG4gKiDliJvlu7roioLngrnlr7nlupTnmoQgc3R1bXAgY29tbWVudCDkuLvlhYPntKBcbiAqL1xuZnVuY3Rpb24gbm9kZU93bkNyZWF0ZVN0dW1wKCkge1xuICAgIHRoaXMuZWwgPSB0aGlzLmVsIHx8IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGhpcy5pZCk7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IG5vZGVPd25DcmVhdGVTdHVtcDtcblxuXG4vKipcbiAqIEBmaWxlIGZvciDmjIfku6ToioLngrnnsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBpbmhlcml0cyA9IHJlcXVpcmUoJy4uL3V0aWwvaW5oZXJpdHMnKTtcbi8vIHZhciBlYWNoID0gcmVxdWlyZSgnLi4vdXRpbC9lYWNoJyk7XG4vLyB2YXIgZ3VpZCA9IHJlcXVpcmUoJy4uL3V0aWwvZ3VpZCcpO1xuLy8gdmFyIGNyZWF0ZUFOb2RlID0gcmVxdWlyZSgnLi4vcGFyc2VyL2NyZWF0ZS1hLW5vZGUnKTtcbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4uL3BhcnNlci9leHByLXR5cGUnKTtcbi8vIHZhciBwYXJzZUV4cHIgPSByZXF1aXJlKCcuLi9wYXJzZXIvcGFyc2UtZXhwcicpO1xuLy8gdmFyIGNyZWF0ZUFjY2Vzc29yID0gcmVxdWlyZSgnLi4vcGFyc2VyL2NyZWF0ZS1hY2Nlc3NvcicpO1xuLy8gdmFyIGNsb25lRGlyZWN0aXZlcyA9IHJlcXVpcmUoJy4uL3BhcnNlci9jbG9uZS1kaXJlY3RpdmVzJyk7XG4vLyB2YXIgRGF0YSA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZGF0YScpO1xuLy8gdmFyIERhdGFDaGFuZ2VUeXBlID0gcmVxdWlyZSgnLi4vcnVudGltZS9kYXRhLWNoYW5nZS10eXBlJyk7XG4vLyB2YXIgY2hhbmdlRXhwckNvbXBhcmUgPSByZXF1aXJlKCcuLi9ydW50aW1lL2NoYW5nZS1leHByLWNvbXBhcmUnKTtcbi8vIHZhciBldmFsRXhwciA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZXZhbC1leHByJyk7XG4vLyB2YXIgY2hhbmdlc0lzSW5EYXRhUmVmID0gcmVxdWlyZSgnLi4vcnVudGltZS9jaGFuZ2VzLWlzLWluLWRhdGEtcmVmJyk7XG4vLyB2YXIgcmVtb3ZlRWwgPSByZXF1aXJlKCcuLi9icm93c2VyL3JlbW92ZS1lbCcpO1xuLy8gdmFyIGluc2VydEJlZm9yZSA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaW5zZXJ0LWJlZm9yZScpO1xuLy8gdmFyIExpZmVDeWNsZSA9IHJlcXVpcmUoJy4vbGlmZS1jeWNsZScpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcbi8vIHZhciBjcmVhdGVOb2RlID0gcmVxdWlyZSgnLi9jcmVhdGUtbm9kZScpO1xuLy8gdmFyIGNyZWF0ZVJldmVyc2VOb2RlID0gcmVxdWlyZSgnLi9jcmVhdGUtcmV2ZXJzZS1ub2RlJyk7XG4vLyB2YXIgbm9kZU93blNpbXBsZURpc3Bvc2UgPSByZXF1aXJlKCcuL25vZGUtb3duLXNpbXBsZS1kaXNwb3NlJyk7XG4vLyB2YXIgbm9kZU93bkNyZWF0ZVN0dW1wID0gcmVxdWlyZSgnLi9ub2RlLW93bi1jcmVhdGUtc3R1bXAnKTtcbi8vIHZhciBlbGVtZW50RGlzcG9zZUNoaWxkcmVuID0gcmVxdWlyZSgnLi9lbGVtZW50LWRpc3Bvc2UtY2hpbGRyZW4nKTtcbi8vIHZhciBkYXRhQ2FjaGUgPSByZXF1aXJlKCcuLi9ydW50aW1lL2RhdGEtY2FjaGUnKTtcblxuXG4vKipcbiAqIOW+queOr+mhueeahOaVsOaNruWuueWZqOexu1xuICpcbiAqIEBpbm5lclxuICogQGNsYXNzXG4gKiBAcGFyYW0ge09iamVjdH0gZm9yRWxlbWVudCBmb3LlhYPntKDlr7nosaFcbiAqIEBwYXJhbSB7Kn0gaXRlbSDlvZPliY3pobnnmoTmlbDmja5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCDlvZPliY3pobnnmoTntKLlvJVcbiAqL1xuZnVuY3Rpb24gRm9ySXRlbURhdGEoZm9yRWxlbWVudCwgaXRlbSwgaW5kZXgpIHtcbiAgICB0aGlzLmlkID0gZ3VpZCgpO1xuICAgIHRoaXMucGFyZW50ID0gZm9yRWxlbWVudC5zY29wZTtcbiAgICB0aGlzLnJhdyA9IHt9O1xuICAgIHRoaXMubGlzdGVuZXJzID0gW107XG5cbiAgICB0aGlzLmRpcmVjdGl2ZSA9IGZvckVsZW1lbnQuYU5vZGUuZGlyZWN0aXZlc1snZm9yJ107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgdGhpcy5yYXdbdGhpcy5kaXJlY3RpdmUuaXRlbS5yYXddID0gaXRlbTtcbiAgICB0aGlzLnJhd1t0aGlzLmRpcmVjdGl2ZS5pbmRleC5yYXddID0gaW5kZXg7XG59XG5cbi8qKlxuICog5bCG5pWw5o2u5pON5L2c55qE6KGo6L6+5byP77yM6L2s5o2i5oiQ5Li65a+5cGFyZW505pWw5o2u5pON5L2c55qE6KGo6L6+5byPXG4gKiDkuLvopoHmmK/lr7lpdGVt5ZKMaW5kZXjov5vooYzlpITnkIZcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZXhwciDooajovr7lvI9cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuRm9ySXRlbURhdGEucHJvdG90eXBlLmV4cHJSZXNvbHZlID0gZnVuY3Rpb24gKGV4cHIpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0gdGhpcy5kaXJlY3RpdmU7XG4gICAgdmFyIG1lID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVJdGVtKGV4cHIpIHtcbiAgICAgICAgaWYgKGV4cHIudHlwZSA9PT0gRXhwclR5cGUuQUNDRVNTT1JcbiAgICAgICAgICAgICYmIGV4cHIucGF0aHNbMF0udmFsdWUgPT09IGRpcmVjdGl2ZS5pdGVtLnBhdGhzWzBdLnZhbHVlXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFjY2Vzc29yKFxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS52YWx1ZS5wYXRocy5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLk5VTUJFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtZS5nZXQoZGlyZWN0aXZlLmluZGV4KVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBleHByLnBhdGhzLnNsaWNlKDEpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHByO1xuICAgIH1cblxuICAgIGV4cHIgPSByZXNvbHZlSXRlbShleHByKTtcblxuICAgIHZhciByZXNvbHZlZFBhdGhzID0gW107XG5cbiAgICBlYWNoKGV4cHIucGF0aHMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJlc29sdmVkUGF0aHMucHVzaChcbiAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gRXhwclR5cGUuQUNDRVNTT1JcbiAgICAgICAgICAgICAgICAmJiBpdGVtLnBhdGhzWzBdLnZhbHVlID09PSBkaXJlY3RpdmUuaW5kZXgucGF0aHNbMF0udmFsdWVcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLk5VTUJFUixcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWUuZ2V0KGRpcmVjdGl2ZS5pbmRleClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogcmVzb2x2ZUl0ZW0oaXRlbSlcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjcmVhdGVBY2Nlc3NvcihyZXNvbHZlZFBhdGhzKTtcbn07XG5cbi8vIOS7o+eQhuaVsOaNruaTjeS9nOaWueazlVxuaW5oZXJpdHMoRm9ySXRlbURhdGEsIERhdGEpO1xuZWFjaChcbiAgICBbJ3NldCcsICdyZW1vdmUnLCAndW5zaGlmdCcsICdzaGlmdCcsICdwdXNoJywgJ3BvcCcsICdzcGxpY2UnXSxcbiAgICBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgIEZvckl0ZW1EYXRhLnByb3RvdHlwZVsnXycgKyBtZXRob2RdID0gRGF0YS5wcm90b3R5cGVbbWV0aG9kXTtcbiAgICAgICAgRm9ySXRlbURhdGEucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoZXhwcikge1xuICAgICAgICAgICAgZXhwciA9IHRoaXMuZXhwclJlc29sdmUocGFyc2VFeHByKGV4cHIpKTtcbiAgICAgICAgICAgIGRhdGFDYWNoZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRbbWV0aG9kXS5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCxcbiAgICAgICAgICAgICAgICBbZXhwcl0uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgIH1cbik7XG5cbi8qKlxuICog5Yib5bu6IGZvciDmjIfku6TlhYPntKDnmoTlrZDlhYPntKBcbiAqXG4gKiBAaW5uZXJcbiAqIEBwYXJhbSB7Rm9yRGlyZWN0aXZlfSBmb3JFbGVtZW50IGZvciDmjIfku6TlhYPntKDlr7nosaFcbiAqIEBwYXJhbSB7Kn0gaXRlbSDlrZDlhYPntKDlr7nlupTmlbDmja5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCDlrZDlhYPntKDlr7nlupTluo/lj7dcbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUZvckRpcmVjdGl2ZUNoaWxkKGZvckVsZW1lbnQsIGl0ZW0sIGluZGV4KSB7XG4gICAgdmFyIGl0ZW1TY29wZSA9IG5ldyBGb3JJdGVtRGF0YShmb3JFbGVtZW50LCBpdGVtLCBpbmRleCk7XG4gICAgcmV0dXJuIGNyZWF0ZU5vZGUoZm9yRWxlbWVudC5pdGVtQU5vZGUsIGZvckVsZW1lbnQsIGl0ZW1TY29wZSk7XG59XG5cbi8qKlxuICogZm9yIOaMh+S7pOiKgueCueexu1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhTm9kZSDmir3osaHoioLngrlcbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBvd25lciDmiYDlsZ7nu4Tku7bnjq/looNcbiAqIEBwYXJhbSB7TW9kZWw9fSBzY29wZSDmiYDlsZ7mlbDmja7njq/looNcbiAqIEBwYXJhbSB7Tm9kZX0gcGFyZW50IOeItuS6suiKgueCuVxuICogQHBhcmFtIHtET01DaGlsZHJlbldhbGtlcj99IHJldmVyc2VXYWxrZXIg5a2Q5YWD57Sg6YGN5Y6G5a+56LGhXG4gKi9cbmZ1bmN0aW9uIEZvck5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50LCByZXZlcnNlV2Fsa2VyKSB7XG4gICAgdGhpcy5hTm9kZSA9IGFOb2RlO1xuICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5wYXJlbnRDb21wb25lbnQgPSBwYXJlbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFRcbiAgICAgICAgPyBwYXJlbnRcbiAgICAgICAgOiBwYXJlbnQucGFyZW50Q29tcG9uZW50O1xuXG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICB0aGlzLml0ZW1BTm9kZSA9IGNyZWF0ZUFOb2RlKHtcbiAgICAgICAgY2hpbGRyZW46IGFOb2RlLmNoaWxkcmVuLFxuICAgICAgICBwcm9wczogYU5vZGUucHJvcHMsXG4gICAgICAgIGV2ZW50czogYU5vZGUuZXZlbnRzLFxuICAgICAgICB0YWdOYW1lOiBhTm9kZS50YWdOYW1lLFxuICAgICAgICB2YXJzOiBhTm9kZS52YXJzLFxuICAgICAgICBob3RzcG90OiBhTm9kZS5ob3RzcG90LFxuICAgICAgICBkaXJlY3RpdmVzOiBjbG9uZURpcmVjdGl2ZXMoYU5vZGUuZGlyZWN0aXZlcywge1xuICAgICAgICAgICAgJ2Zvcic6IDFcbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIHRoaXMucGFyYW0gPSBhTm9kZS5kaXJlY3RpdmVzWydmb3InXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cblxuICAgIC8vICNbYmVnaW5dIHJldmVyc2VcbiAgICBpZiAocmV2ZXJzZVdhbGtlcikge1xuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICBlYWNoKFxuICAgICAgICAgICAgZXZhbEV4cHIodGhpcy5wYXJhbS52YWx1ZSwgdGhpcy5zY29wZSwgdGhpcy5vd25lciksXG4gICAgICAgICAgICBmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtU2NvcGUgPSBuZXcgRm9ySXRlbURhdGEobWUsIGl0ZW0sIGkpO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNyZWF0ZVJldmVyc2VOb2RlKG1lLml0ZW1BTm9kZSwgcmV2ZXJzZVdhbGtlciwgbWUsIGl0ZW1TY29wZSk7XG4gICAgICAgICAgICAgICAgbWUuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5fY3JlYXRlKCk7XG4gICAgICAgIGluc2VydEJlZm9yZSh0aGlzLmVsLCByZXZlcnNlV2Fsa2VyLnRhcmdldCwgcmV2ZXJzZVdhbGtlci5jdXJyZW50KTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG59XG5cblxuRm9yTm9kZS5wcm90b3R5cGUubm9kZVR5cGUgPSBOb2RlVHlwZS5GT1I7XG5Gb3JOb2RlLnByb3RvdHlwZS5fY3JlYXRlID0gbm9kZU93bkNyZWF0ZVN0dW1wO1xuRm9yTm9kZS5wcm90b3R5cGUuZGlzcG9zZSA9IG5vZGVPd25TaW1wbGVEaXNwb3NlO1xuXG4vKipcbiAqIOWwhuWFg+e0oGF0dGFjaOWIsOmhtemdoueahOihjOS4ulxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudEVsIOimgea3u+WKoOWIsOeahOeItuWFg+e0oFxuICogQHBhcmFtIHtIVE1MRWxlbWVudO+8nX0gYmVmb3JlRWwg6KaB5re75Yqg5Yiw5ZOq5Liq5YWD57Sg5LmL5YmNXG4gKi9cbkZvck5vZGUucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uIChwYXJlbnRFbCwgYmVmb3JlRWwpIHtcbiAgICB0aGlzLl9jcmVhdGUoKTtcbiAgICBpbnNlcnRCZWZvcmUodGhpcy5lbCwgcGFyZW50RWwsIGJlZm9yZUVsKTtcblxuICAgIC8vIHBhaW50IGxpc3RcbiAgICB2YXIgZWwgPSB0aGlzLmVsIHx8IHBhcmVudEVsLmZpcnN0Q2hpbGQ7XG4gICAgdmFyIGRhdGEgPSBldmFsRXhwcih0aGlzLnBhcmFtLnZhbHVlLCB0aGlzLnNjb3BlLCB0aGlzLm93bmVyKTtcbiAgICB2YXIgbGVuID0gZGF0YSAmJiBkYXRhLmxlbmd0aCB8fCAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gY3JlYXRlRm9yRGlyZWN0aXZlQ2hpbGQodGhpcywgZGF0YVtpXSwgaSk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIGNoaWxkLmF0dGFjaChwYXJlbnRFbCwgZWwpO1xuICAgIH1cbn07XG5cbi8qKlxuICog5bCG5YWD57Sg5LuO6aG16Z2i5LiK56e76Zmk55qE6KGM5Li6XG4gKi9cbkZvck5vZGUucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5saWZlQ3ljbGUuYXR0YWNoZWQpIHtcbiAgICAgICAgZWxlbWVudERpc3Bvc2VDaGlsZHJlbih0aGlzKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICByZW1vdmVFbCh0aGlzLmVsKTtcbiAgICAgICAgdGhpcy5saWZlQ3ljbGUgPSBMaWZlQ3ljbGUuZGV0YWNoZWQ7XG4gICAgfVxufTtcblxuLyogZXNsaW50LWRpc2FibGUgZmVjcy1tYXgtc3RhdGVtZW50cyAqL1xuXG4vKipcbiAqIOinhuWbvuabtOaWsOWHveaVsFxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNoYW5nZXMg5pWw5o2u5Y+Y5YyW5L+h5oGvXG4gKi9cbkZvck5vZGUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuXG4gICAgdmFyIG1lID0gdGhpcztcbiAgICAvLyDmjqfliLbliJfooajmm7TmlrDnrZbnlaXmmK/lkKbljp/moLfmm7TmlrDnmoTlj5jph49cbiAgICB2YXIgb3JpZ2luYWxVcGRhdGUgPSB0aGlzLmFOb2RlLmRpcmVjdGl2ZXMudHJhbnNpdGlvbjtcblxuXG4gICAgdmFyIG9sZENoaWxkcmVuTGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgdmFyIGNoaWxkcmVuQ2hhbmdlcyA9IG5ldyBBcnJheShvbGRDaGlsZHJlbkxlbik7XG5cbiAgICBmdW5jdGlvbiBwdXNoVG9DaGlsZHJlbkNoYW5nZXMoY2hhbmdlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGRyZW5DaGFuZ2VzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgKGNoaWxkcmVuQ2hhbmdlc1tpXSA9IGNoaWxkcmVuQ2hhbmdlc1tpXSB8fCBbXSkucHVzaChjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRpc3Bvc2VDaGlsZHJlbiA9IFtdO1xuXG5cbiAgICAvLyDliKTmlq3liJfooajmmK/lkKbniLblhYPntKDkuIvllK/kuIDnmoTlhYPntKBcbiAgICAvLyDlpoLmnpzmmK/nmoTor53vvIzlj6/ku6XlgZrkuIDkupvmm7TmlrDkvJjljJZcbiAgICB2YXIgcGFyZW50RWwgPSB0aGlzLmVsLnBhcmVudE5vZGU7XG4gICAgdmFyIHBhcmVudEZpcnN0Q2hpbGQgPSBwYXJlbnRFbC5maXJzdENoaWxkO1xuICAgIHZhciBwYXJlbnRMYXN0Q2hpbGQgPSBwYXJlbnRFbC5sYXN0Q2hpbGQ7XG4gICAgdmFyIGlzT25seVBhcmVudENoaWxkID0gb2xkQ2hpbGRyZW5MZW4gPiAwIC8vIOacieWtqeWtkOaXtlxuICAgICAgICAgICAgJiYgcGFyZW50Rmlyc3RDaGlsZCA9PT0gdGhpcy5jaGlsZHJlblswXS5lbFxuICAgICAgICAgICAgJiYgKHBhcmVudExhc3RDaGlsZCA9PT0gdGhpcy5lbCB8fCBwYXJlbnRMYXN0Q2hpbGQgPT09IHRoaXMuY2hpbGRyZW5bb2xkQ2hpbGRyZW5MZW4gLSAxXS5lbClcbiAgICAgICAgfHwgb2xkQ2hpbGRyZW5MZW4gPT09IDAgLy8g5peg5a2p5a2Q5pe2XG4gICAgICAgICAgICAmJiBwYXJlbnRGaXJzdENoaWxkID09PSB0aGlzLmVsXG4gICAgICAgICAgICAmJiBwYXJlbnRMYXN0Q2hpbGQgPT09IHRoaXMuZWw7XG5cbiAgICAvLyDmjqfliLbliJfooajmmK/lkKbmlbTkvZPmm7TmlrDnmoTlj5jph49cbiAgICB2YXIgaXNDaGlsZHJlblJlYnVpbGQ7XG5cbiAgICB2YXIgbmV3TGlzdCA9IGV2YWxFeHByKHRoaXMucGFyYW0udmFsdWUsIHRoaXMuc2NvcGUsIHRoaXMub3duZXIpO1xuICAgIHZhciBuZXdMZW4gPSBuZXdMaXN0ICYmIG5ld0xpc3QubGVuZ3RoIHx8IDA7XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZWRlY2xhcmUgKi9cbiAgICBmb3IgKHZhciBjSW5kZXggPSAwLCBjTGVuID0gY2hhbmdlcy5sZW5ndGg7IGNJbmRleCA8IGNMZW47IGNJbmRleCsrKSB7XG4gICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2NJbmRleF07XG4gICAgICAgIHZhciByZWxhdGlvbiA9IGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZS5leHByLCB0aGlzLnBhcmFtLnZhbHVlLCB0aGlzLnNjb3BlKTtcblxuICAgICAgICBpZiAoIXJlbGF0aW9uKSB7XG4gICAgICAgICAgICAvLyDml6DlhbPml7bvvIznm7TmjqXkvKDpgJLnu5nlrZDlhYPntKDmm7TmlrDvvIzliJfooajmnKzouqvkuI3pnIDopoHliqhcbiAgICAgICAgICAgIHB1c2hUb0NoaWxkcmVuQ2hhbmdlcyhjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlbGF0aW9uID4gMikge1xuICAgICAgICAgICAgLy8g5Y+Y5pu06KGo6L6+5byP5pivbGlzdOe7keWumuihqOi+vuW8j+eahOWtkOmhuVxuICAgICAgICAgICAgLy8g5Y+q6ZyA6KaB5a+555u45bqU55qE5a2Q6aG56L+b6KGM5pu05pawXG4gICAgICAgICAgICB2YXIgY2hhbmdlUGF0aHMgPSBjaGFuZ2UuZXhwci5wYXRocztcbiAgICAgICAgICAgIHZhciBmb3JMZW4gPSB0aGlzLnBhcmFtLnZhbHVlLnBhdGhzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VJbmRleCA9ICtldmFsRXhwcihjaGFuZ2VQYXRoc1tmb3JMZW5dLCB0aGlzLnNjb3BlLCB0aGlzLm93bmVyKTtcblxuICAgICAgICAgICAgaWYgKGlzTmFOKGNoYW5nZUluZGV4KSkge1xuICAgICAgICAgICAgICAgIHB1c2hUb0NoaWxkcmVuQ2hhbmdlcyhjaGFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBjaGFuZ2UudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZXhwcjogY3JlYXRlQWNjZXNzb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtLml0ZW0ucGF0aHMuY29uY2F0KGNoYW5nZVBhdGhzLnNsaWNlKGZvckxlbiArIDEpKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2hhbmdlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmRleDogY2hhbmdlLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBkZWxldGVDb3VudDogY2hhbmdlLmRlbGV0ZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb25zOiBjaGFuZ2UuaW5zZXJ0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uOiBjaGFuZ2Uub3B0aW9uXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIChjaGlsZHJlbkNoYW5nZXNbY2hhbmdlSW5kZXhdID0gY2hpbGRyZW5DaGFuZ2VzW2NoYW5nZUluZGV4XSB8fCBbXSlcbiAgICAgICAgICAgICAgICAgICAgLnB1c2goY2hhbmdlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2NoYW5nZUluZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlLnR5cGUgPT09IERhdGFDaGFuZ2VUeXBlLlNQTElDRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltjaGFuZ2VJbmRleF0uc2NvcGUuX3NwbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuZXhwcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXS5jb25jYXQoY2hhbmdlLmluZGV4LCBjaGFuZ2UuZGVsZXRlQ291bnQsIGNoYW5nZS5pbnNlcnRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHNpbGVudDogMSB9XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltjaGFuZ2VJbmRleF0uc2NvcGUuX3NldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuZXhwcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzaWxlbnQ6IDEgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSAhPT0gRGF0YUNoYW5nZVR5cGUuU1BMSUNFKSB7XG4gICAgICAgICAgICAvLyDlj5jmm7Tooajovr7lvI/mmK9saXN057uR5a6a6KGo6L6+5byP5pys6Lqr5oiW5q+N6aG555qE6YeN5paw6K6+5YC8XG4gICAgICAgICAgICAvLyDmraTml7bpnIDopoHmm7TmlrDmlbTkuKrliJfooahcblxuXG4gICAgICAgICAgICAvLyDogIHnmoTmr5TmlrDnmoTlpJrnmoTpg6jliIbvvIzmoIforrDpnIDopoFkaXNwb3NlXG4gICAgICAgICAgICBpZiAob2xkQ2hpbGRyZW5MZW4gPiBuZXdMZW4pIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NlQ2hpbGRyZW4gPSBkaXNwb3NlQ2hpbGRyZW4uY29uY2F0KHRoaXMuY2hpbGRyZW4uc2xpY2UobmV3TGVuKSk7XG5cbiAgICAgICAgICAgICAgICBjaGlsZHJlbkNoYW5nZXMgPSBjaGlsZHJlbkNoYW5nZXMuc2xpY2UoMCwgbmV3TGVuKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5zbGljZSgwLCBuZXdMZW4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDmlbTpobnlj5jmm7RcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3TGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAoY2hpbGRyZW5DaGFuZ2VzW2ldID0gY2hpbGRyZW5DaGFuZ2VzW2ldIHx8IFtdKS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YUNoYW5nZVR5cGUuU0VULFxuICAgICAgICAgICAgICAgICAgICBvcHRpb246IGNoYW5nZS5vcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGV4cHI6IGNyZWF0ZUFjY2Vzc29yKHRoaXMucGFyYW0uaXRlbS5wYXRocy5zbGljZSgwKSksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXdMaXN0W2ldXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyDlr7lsaXN05pu05LiK57qn5pWw5o2u55qE55u05o6l6K6+572uXG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aW9uIDwgMikge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbkNoYW5nZXNbaV0ucHVzaChjaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uc2NvcGUuX3NldChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW0uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0xpc3RbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7c2lsZW50OiAxfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpc0NoaWxkcmVuUmVidWlsZCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVsYXRpb24gPT09IDIgJiYgY2hhbmdlLnR5cGUgPT09IERhdGFDaGFuZ2VUeXBlLlNQTElDRSAmJiAhaXNDaGlsZHJlblJlYnVpbGQpIHtcbiAgICAgICAgICAgIC8vIOWPmOabtOihqOi+vuW8j+aYr2xpc3Tnu5Hlrprooajovr7lvI/mnKzouqvmlbDnu4TnmoRzcGxpY2Xmk43kvZxcbiAgICAgICAgICAgIC8vIOatpOaXtumcgOimgeWIoOmZpOmDqOWIhumhue+8jOWIm+W7uumDqOWIhumhuVxuICAgICAgICAgICAgdmFyIGNoYW5nZVN0YXJ0ID0gY2hhbmdlLmluZGV4O1xuICAgICAgICAgICAgdmFyIGRlbGV0ZUNvdW50ID0gY2hhbmdlLmRlbGV0ZUNvdW50O1xuICAgICAgICAgICAgdmFyIGluc2VydGlvbnNMZW4gPSBjaGFuZ2UuaW5zZXJ0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbmV3Q291bnQgPSBpbnNlcnRpb25zTGVuIC0gZGVsZXRlQ291bnQ7XG5cbiAgICAgICAgICAgIGlmIChuZXdDb3VudCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleENoYW5nZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YUNoYW5nZVR5cGUuU0VULFxuICAgICAgICAgICAgICAgICAgICBvcHRpb246IGNoYW5nZS5vcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGV4cHI6IHRoaXMucGFyYW0uaW5kZXhcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNoYW5nZVN0YXJ0ICsgZGVsZXRlQ291bnQ7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIChjaGlsZHJlbkNoYW5nZXNbaV0gPSBjaGlsZHJlbkNoYW5nZXNbaV0gfHwgW10pLnB1c2goaW5kZXhDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldICYmIHRoaXMuY2hpbGRyZW5baV0uc2NvcGUuX3NldChcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q2hhbmdlLmV4cHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpIC0gZGVsZXRlQ291bnQgKyBpbnNlcnRpb25zTGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAge3NpbGVudDogMX1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkZWxldGVMZW4gPSBkZWxldGVDb3VudDtcbiAgICAgICAgICAgIHdoaWxlIChkZWxldGVMZW4tLSkge1xuICAgICAgICAgICAgICAgIGlmIChkZWxldGVMZW4gPCBpbnNlcnRpb25zTGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gY2hhbmdlU3RhcnQgKyBkZWxldGVMZW47XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZVxuICAgICAgICAgICAgICAgICAgICAoY2hpbGRyZW5DaGFuZ2VzW2ldID0gY2hpbGRyZW5DaGFuZ2VzW2ldIHx8IFtdKS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFDaGFuZ2VUeXBlLlNFVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbjogY2hhbmdlLm9wdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHI6IGNyZWF0ZUFjY2Vzc29yKHRoaXMucGFyYW0uaXRlbS5wYXRocy5zbGljZSgwKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2hhbmdlLmluc2VydGlvbnNbZGVsZXRlTGVuXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uc2NvcGUuX3NldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmluc2VydGlvbnNbZGVsZXRlTGVuXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2lsZW50OiAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld0NvdW50IDwgMCkge1xuICAgICAgICAgICAgICAgIGRpc3Bvc2VDaGlsZHJlbiA9IGRpc3Bvc2VDaGlsZHJlbi5jb25jYXQodGhpcy5jaGlsZHJlbi5zcGxpY2UoY2hhbmdlU3RhcnQgKyBpbnNlcnRpb25zTGVuLCAtbmV3Q291bnQpKTtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbkNoYW5nZXMuc3BsaWNlKGNoYW5nZVN0YXJ0ICsgaW5zZXJ0aW9uc0xlbiwgLW5ld0NvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5ld0NvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBzcGxpY2VBcmdzID0gW2NoYW5nZVN0YXJ0ICsgZGVsZXRlQ291bnQsIDBdLmNvbmNhdChuZXcgQXJyYXkobmV3Q291bnQpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZS5hcHBseSh0aGlzLmNoaWxkcmVuLCBzcGxpY2VBcmdzKTtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbkNoYW5nZXMuc3BsaWNlLmFwcGx5KGNoaWxkcmVuQ2hhbmdlcywgc3BsaWNlQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbmV3Q2hpbGRyZW5MZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcblxuICAgIC8vIOagh+iusCBsZW5ndGgg5piv5ZCm5Y+R55Sf5Y+Y5YyWXG4gICAgaWYgKG5ld0NoaWxkcmVuTGVuICE9PSBvbGRDaGlsZHJlbkxlbikge1xuICAgICAgICB2YXIgbGVuZ3RoQ2hhbmdlID0ge1xuICAgICAgICAgICAgdHlwZTogRGF0YUNoYW5nZVR5cGUuU0VULFxuICAgICAgICAgICAgb3B0aW9uOiB7fSxcbiAgICAgICAgICAgIGV4cHI6IGNyZWF0ZUFjY2Vzc29yKFxuICAgICAgICAgICAgICAgIHRoaXMucGFyYW0udmFsdWUucGF0aHMuY29uY2F0KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2xlbmd0aCdcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjaGFuZ2VzSXNJbkRhdGFSZWYoW2xlbmd0aENoYW5nZV0sIHRoaXMuYU5vZGUuaG90c3BvdC5kYXRhKSkge1xuICAgICAgICAgICAgcHVzaFRvQ2hpbGRyZW5DaGFuZ2VzKGxlbmd0aENoYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmuIXpmaTlupTor6XlubLmjonnmoQgY2hpbGRcbiAgICB0aGlzLl9kb0NyZWF0ZUFuZFVwZGF0ZSA9IGRvQ3JlYXRlQW5kVXBkYXRlO1xuXG4gICAgLy8g6L+Z6YeM5LiN55SoZ2V0VHJhbnNpdGlvbu+8jGdldFRyYW5zaXRpb27lkoxzY29wZeebuOWFs++8jGZvcuWSjGZvckl0ZW3nmoRzY29wZeaYr+S4jeWQjOeahFxuICAgIC8vIOaJgOS7pWdldFRyYW5zaXRpb27nu5PmnpzmnKzouqvkuZ/mmK/kuI3kuIDoh7TnmoTjgILkuI3lpoLnm7TmjqXliKTmlq3mjIfku6TmmK/lkKblrZjlnKjvvIzlpoLmnpzlrZjlnKjlsLHkuI3ov5vlhaXmmrTlipvmuIXpmaTmqKHlvI9cbiAgICAvLyB2YXIgdmlvbGVudENsZWFyID0gaXNPbmx5UGFyZW50Q2hpbGQgJiYgbmV3Q2hpbGRyZW5MZW4gPT09IDAgJiYgIWVsZW1lbnRHZXRUcmFuc2l0aW9uKG1lKTtcbiAgICB2YXIgdmlvbGVudENsZWFyID0gIW9yaWdpbmFsVXBkYXRlICYmIGlzT25seVBhcmVudENoaWxkICYmIG5ld0NoaWxkcmVuTGVuID09PSAwO1xuXG4gICAgdmFyIGRpc3Bvc2VkQ2hpbGRDb3VudCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXNwb3NlQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRpc3Bvc2VDaGlsZCA9IGRpc3Bvc2VDaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGRpc3Bvc2VDaGlsZCkge1xuICAgICAgICAgICAgZGlzcG9zZUNoaWxkLl9vbmRpc3Bvc2VkID0gY2hpbGREaXNwb3NlZDtcbiAgICAgICAgICAgIGRpc3Bvc2VDaGlsZC5kaXNwb3NlKHZpb2xlbnRDbGVhciwgdmlvbGVudENsZWFyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoaWxkRGlzcG9zZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2aW9sZW50Q2xlYXIpIHtcbiAgICAgICAgLy8gY2xvbmVOb2RlICsgcmVwbGFjZUNoaWxkIGlzIGZhc3RlclxuICAgICAgICAvLyBwYXJlbnRFbC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdmFyIHJlcGxhY2VOb2RlID0gcGFyZW50RWwuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgICAgcGFyZW50RWwucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocmVwbGFjZU5vZGUsIHBhcmVudEVsKTtcbiAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGhpcy5pZCk7XG4gICAgICAgIHJlcGxhY2VOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuICAgIH1cblxuICAgIGlmIChkaXNwb3NlQ2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRvQ3JlYXRlQW5kVXBkYXRlKCk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjaGlsZERpc3Bvc2VkKCkge1xuICAgICAgICBkaXNwb3NlZENoaWxkQ291bnQrKztcbiAgICAgICAgaWYgKGRpc3Bvc2VkQ2hpbGRDb3VudCA9PT0gZGlzcG9zZUNoaWxkcmVuLmxlbmd0aFxuICAgICAgICAgICAgJiYgZG9DcmVhdGVBbmRVcGRhdGUgPT09IG1lLl9kb0NyZWF0ZUFuZFVwZGF0ZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGRvQ3JlYXRlQW5kVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb0NyZWF0ZUFuZFVwZGF0ZSgpIHtcbiAgICAgICAgbWUuX2RvQ3JlYXRlQW5kVXBkYXRlID0gbnVsbDtcbiAgICAgICAgaWYgKHZpb2xlbnRDbGVhcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgYmVmb3JlRWwgPSBtZS5lbDtcblxuICAgICAgICAvLyDlr7nnm7jlupTnmoTpobnov5vooYzmm7TmlrBcbiAgICAgICAgaWYgKG9sZENoaWxkcmVuTGVuID09PSAwICYmIGlzT25seVBhcmVudENoaWxkKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0NoaWxkcmVuTGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBtZS5jaGlsZHJlbltpXSA9IGNyZWF0ZUZvckRpcmVjdGl2ZUNoaWxkKG1lLCBuZXdMaXN0W2ldLCBpKTtcbiAgICAgICAgICAgICAgICBtZS5jaGlsZHJlbltpXS5hdHRhY2gocGFyZW50RWwsIGJlZm9yZUVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIOWmguaenOS4jWF0dGFjaGVk5YiZ55u05o6l5Yib5bu677yM5aaC5p6c5a2Y5Zyo5YiZ6LCD55So5pu05paw5Ye95pWwXG4gICAgICAgICAgICB2YXIgaiA9IC0xO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbkxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbWUuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5DaGFuZ2VzW2ldICYmIGNoaWxkLl91cGRhdGUoY2hpbGRyZW5DaGFuZ2VzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqIDwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaiA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlRWwgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCBuZXdDaGlsZHJlbkxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hpbGQgPSBtZS5jaGlsZHJlbltqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZUVsID0gbmV4dENoaWxkLnNlbCB8fCBuZXh0Q2hpbGQuZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBtZS5jaGlsZHJlbltpXSA9IGNyZWF0ZUZvckRpcmVjdGl2ZUNoaWxkKG1lLCBuZXdMaXN0W2ldLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgbWUuY2hpbGRyZW5baV0uYXR0YWNoKHBhcmVudEVsLCBiZWZvcmVFbCB8fCBtZS5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBGb3JOb2RlO1xuXG5cbi8qKlxuICogQGZpbGUg5riF5rSX5p2h5Lu2IGFOb2RlXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBjcmVhdGVBTm9kZSA9IHJlcXVpcmUoJy4uL3BhcnNlci9jcmVhdGUtYS1ub2RlJyk7XG4vLyB2YXIgY2xvbmVEaXJlY3RpdmVzID0gcmVxdWlyZSgnLi4vcGFyc2VyL2Nsb25lLWRpcmVjdGl2ZXMnKTtcblxuXG4vKipcbiAqIOa4hea0l+adoeS7tiBhTm9kZe+8jOi/lOWbnue6r+WHgOaXoOadoeS7tuaMh+S7pOeahCBhTm9kZVxuICpcbiAqIEBwYXJhbSB7QU5vZGV9IGFOb2RlIOadoeS7tuiKgueCueWvueixoVxuICogQHJldHVybiB7QU5vZGV9XG4gKi9cbmZ1bmN0aW9uIHJpbnNlQ29uZEFOb2RlKGFOb2RlKSB7XG4gICAgdmFyIGNsZWFyQU5vZGUgPSBjcmVhdGVBTm9kZSh7XG4gICAgICAgIGNoaWxkcmVuOiBhTm9kZS5jaGlsZHJlbixcbiAgICAgICAgcHJvcHM6IGFOb2RlLnByb3BzLFxuICAgICAgICBldmVudHM6IGFOb2RlLmV2ZW50cyxcbiAgICAgICAgdGFnTmFtZTogYU5vZGUudGFnTmFtZSxcbiAgICAgICAgdmFyczogYU5vZGUudmFycyxcbiAgICAgICAgaG90c3BvdDogYU5vZGUuaG90c3BvdCxcbiAgICAgICAgZGlyZWN0aXZlczogY2xvbmVEaXJlY3RpdmVzKGFOb2RlLmRpcmVjdGl2ZXMsIHtcbiAgICAgICAgICAgICdpZic6IDEsXG4gICAgICAgICAgICAnZWxzZSc6IDEsXG4gICAgICAgICAgICAnZWxpZic6IDFcbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIHJldHVybiBjbGVhckFOb2RlO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByaW5zZUNvbmRBTm9kZTtcblxuXG4vKipcbiAqIEBmaWxlIGlmIOaMh+S7pOiKgueCueexu1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcbi8vIHZhciBndWlkID0gcmVxdWlyZSgnLi4vdXRpbC9ndWlkJyk7XG4vLyB2YXIgaW5zZXJ0QmVmb3JlID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pbnNlcnQtYmVmb3JlJyk7XG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtZXhwcicpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcbi8vIHZhciByaW5zZUNvbmRBTm9kZSA9IHJlcXVpcmUoJy4vcmluc2UtY29uZC1hbm9kZScpO1xuLy8gdmFyIGNyZWF0ZU5vZGUgPSByZXF1aXJlKCcuL2NyZWF0ZS1ub2RlJyk7XG4vLyB2YXIgY3JlYXRlUmV2ZXJzZU5vZGUgPSByZXF1aXJlKCcuL2NyZWF0ZS1yZXZlcnNlLW5vZGUnKTtcbi8vIHZhciBub2RlT3duQ3JlYXRlU3R1bXAgPSByZXF1aXJlKCcuL25vZGUtb3duLWNyZWF0ZS1zdHVtcCcpO1xuLy8gdmFyIGVsZW1lbnRVcGRhdGVDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC11cGRhdGUtY2hpbGRyZW4nKTtcbi8vIHZhciBub2RlT3duU2ltcGxlRGlzcG9zZSA9IHJlcXVpcmUoJy4vbm9kZS1vd24tc2ltcGxlLWRpc3Bvc2UnKTtcblxuLyoqXG4gKiBpZiDmjIfku6ToioLngrnnsbtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYU5vZGUg5oq96LGh6IqC54K5XG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu2546v5aKDXG4gKiBAcGFyYW0ge01vZGVsPX0gc2NvcGUg5omA5bGe5pWw5o2u546v5aKDXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCDniLbkurLoioLngrlcbiAqIEBwYXJhbSB7RE9NQ2hpbGRyZW5XYWxrZXI/fSByZXZlcnNlV2Fsa2VyIOWtkOWFg+e0oOmBjeWOhuWvueixoVxuICovXG5mdW5jdGlvbiBJZk5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50LCByZXZlcnNlV2Fsa2VyKSB7XG4gICAgdGhpcy5hTm9kZSA9IGFOb2RlO1xuICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5wYXJlbnRDb21wb25lbnQgPSBwYXJlbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFRcbiAgICAgICAgPyBwYXJlbnRcbiAgICAgICAgOiBwYXJlbnQucGFyZW50Q29tcG9uZW50O1xuXG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICB0aGlzLmNvbmQgPSB0aGlzLmFOb2RlLmRpcmVjdGl2ZXNbJ2lmJ10udmFsdWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG5cbiAgICAvLyAjW2JlZ2luXSByZXZlcnNlXG4gICAgaWYgKHJldmVyc2VXYWxrZXIpIHtcbiAgICAgICAgaWYgKGV2YWxFeHByKHRoaXMuY29uZCwgdGhpcy5zY29wZSwgdGhpcy5vd25lcikpIHtcbiAgICAgICAgICAgIHRoaXMuZWxzZUluZGV4ID0gLTE7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuWzBdID0gY3JlYXRlUmV2ZXJzZU5vZGUoXG4gICAgICAgICAgICAgICAgcmluc2VDb25kQU5vZGUoYU5vZGUpLFxuICAgICAgICAgICAgICAgIHJldmVyc2VXYWxrZXIsXG4gICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgICAgICBlYWNoKGFOb2RlLmVsc2VzLCBmdW5jdGlvbiAoZWxzZUFOb2RlLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBlbGlmID0gZWxzZUFOb2RlLmRpcmVjdGl2ZXMuZWxpZjtcblxuICAgICAgICAgICAgICAgIGlmICghZWxpZiB8fCBlbGlmICYmIGV2YWxFeHByKGVsaWYudmFsdWUsIG1lLnNjb3BlLCBtZS5vd25lcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbWUuZWxzZUluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIG1lLmNoaWxkcmVuWzBdID0gY3JlYXRlUmV2ZXJzZU5vZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICByaW5zZUNvbmRBTm9kZShlbHNlQU5vZGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZVdhbGtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NyZWF0ZSgpO1xuICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5lbCwgcmV2ZXJzZVdhbGtlci50YXJnZXQsIHJldmVyc2VXYWxrZXIuY3VycmVudCk7XG4gICAgfVxuICAgIC8vICNbZW5kXVxufVxuXG5JZk5vZGUucHJvdG90eXBlLm5vZGVUeXBlID0gTm9kZVR5cGUuSUY7XG5cbklmTm9kZS5wcm90b3R5cGUuX2NyZWF0ZSA9IG5vZGVPd25DcmVhdGVTdHVtcDtcbklmTm9kZS5wcm90b3R5cGUuZGlzcG9zZSA9IG5vZGVPd25TaW1wbGVEaXNwb3NlO1xuXG5JZk5vZGUucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uIChwYXJlbnRFbCwgYmVmb3JlRWwpIHtcbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHZhciBlbHNlSW5kZXg7XG4gICAgdmFyIGNoaWxkO1xuXG4gICAgaWYgKGV2YWxFeHByKHRoaXMuY29uZCwgdGhpcy5zY29wZSwgdGhpcy5vd25lcikpIHtcbiAgICAgICAgY2hpbGQgPSBjcmVhdGVOb2RlKHJpbnNlQ29uZEFOb2RlKG1lLmFOb2RlKSwgbWUpO1xuICAgICAgICBlbHNlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVhY2gobWUuYU5vZGUuZWxzZXMsIGZ1bmN0aW9uIChlbHNlQU5vZGUsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZWxpZiA9IGVsc2VBTm9kZS5kaXJlY3RpdmVzLmVsaWY7XG5cbiAgICAgICAgICAgIGlmICghZWxpZiB8fCBlbGlmICYmIGV2YWxFeHByKGVsaWYudmFsdWUsIG1lLnNjb3BlLCBtZS5vd25lcikpIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGNyZWF0ZU5vZGUocmluc2VDb25kQU5vZGUoZWxzZUFOb2RlKSwgbWUpO1xuICAgICAgICAgICAgICAgIGVsc2VJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIG1lLmNoaWxkcmVuWzBdID0gY2hpbGQ7XG4gICAgICAgIGNoaWxkLmF0dGFjaChwYXJlbnRFbCwgYmVmb3JlRWwpO1xuICAgICAgICBtZS5lbHNlSW5kZXggPSBlbHNlSW5kZXg7XG4gICAgfVxuXG5cbiAgICB0aGlzLl9jcmVhdGUoKTtcbiAgICBpbnNlcnRCZWZvcmUodGhpcy5lbCwgcGFyZW50RWwsIGJlZm9yZUVsKTtcbn07XG5cblxuLyoqXG4gKiDop4blm77mm7TmlrDlh73mlbBcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjaGFuZ2VzIOaVsOaNruWPmOWMluS/oeaBr1xuICovXG5JZk5vZGUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgIHZhciBtZSA9IHRoaXM7XG4gICAgdmFyIGNoaWxkQU5vZGUgPSBtZS5hTm9kZTtcbiAgICB2YXIgZWxzZUluZGV4O1xuXG4gICAgaWYgKGV2YWxFeHByKHRoaXMuY29uZCwgdGhpcy5zY29wZSwgdGhpcy5vd25lcikpIHtcbiAgICAgICAgZWxzZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlYWNoKG1lLmFOb2RlLmVsc2VzLCBmdW5jdGlvbiAoZWxzZUFOb2RlLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGVsaWYgPSBlbHNlQU5vZGUuZGlyZWN0aXZlcy5lbGlmO1xuXG4gICAgICAgICAgICBpZiAoZWxpZiAmJiBldmFsRXhwcihlbGlmLnZhbHVlLCBtZS5zY29wZSwgbWUub3duZXIpIHx8ICFlbGlmKSB7XG4gICAgICAgICAgICAgICAgZWxzZUluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgY2hpbGRBTm9kZSA9IGVsc2VBTm9kZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbHNlSW5kZXggPT09IG1lLmVsc2VJbmRleCkge1xuICAgICAgICBlbGVtZW50VXBkYXRlQ2hpbGRyZW4obWUsIGNoYW5nZXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGNoaWxkID0gbWUuY2hpbGRyZW5bMF07XG4gICAgICAgIG1lLmNoaWxkcmVuID0gW107XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgY2hpbGQuX29uZGlzcG9zZWQgPSBuZXdDaGlsZDtcbiAgICAgICAgICAgIGNoaWxkLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld0NoaWxkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtZS5lbHNlSW5kZXggPSBlbHNlSW5kZXg7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV3Q2hpbGQoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxzZUluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY3JlYXRlTm9kZShyaW5zZUNvbmRBTm9kZShjaGlsZEFOb2RlKSwgbWUpO1xuICAgICAgICAgICAgLy8gdmFyIHBhcmVudEVsID0gZ2V0Tm9kZVN0dW1wUGFyZW50KG1lKTtcbiAgICAgICAgICAgIGNoaWxkLmF0dGFjaChtZS5lbC5wYXJlbnROb2RlLCBtZS5lbCk7XG5cbiAgICAgICAgICAgIG1lLmNoaWxkcmVuWzBdID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBJZk5vZGU7XG5cblxuLyoqXG4gKiBAZmlsZSB0ZW1wbGF0ZSDoioLngrnnsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBlYWNoID0gcmVxdWlyZSgnLi4vdXRpbC9lYWNoJyk7XG4vLyB2YXIgZ3VpZCA9IHJlcXVpcmUoJy4uL3V0aWwvZ3VpZCcpO1xuLy8gdmFyIGluc2VydEJlZm9yZSA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaW5zZXJ0LWJlZm9yZScpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcbi8vIHZhciBMaWZlQ3ljbGUgPSByZXF1aXJlKCcuL2xpZmUtY3ljbGUnKTtcbi8vIHZhciBub2RlRGlzcG9zZSA9IHJlcXVpcmUoJy4vbm9kZS1kaXNwb3NlJyk7XG4vLyB2YXIgY3JlYXRlUmV2ZXJzZU5vZGUgPSByZXF1aXJlKCcuL2NyZWF0ZS1yZXZlcnNlLW5vZGUnKTtcbi8vIHZhciBlbGVtZW50RGlzcG9zZUNoaWxkcmVuID0gcmVxdWlyZSgnLi9lbGVtZW50LWRpc3Bvc2UtY2hpbGRyZW4nKTtcbi8vIHZhciBlbGVtZW50T3duVG9QaGFzZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tdG8tcGhhc2UnKTtcbi8vIHZhciBlbGVtZW50VXBkYXRlQ2hpbGRyZW4gPSByZXF1aXJlKCcuL2VsZW1lbnQtdXBkYXRlLWNoaWxkcmVuJyk7XG4vLyB2YXIgbm9kZU93bk9ubHlDaGlsZHJlbkF0dGFjaCA9IHJlcXVpcmUoJy4vbm9kZS1vd24tb25seS1jaGlsZHJlbi1hdHRhY2gnKTtcblxuLyoqXG4gKiB0ZW1wbGF0ZSDoioLngrnnsbtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYU5vZGUg5oq96LGh6IqC54K5XG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu2546v5aKDXG4gKiBAcGFyYW0ge01vZGVsPX0gc2NvcGUg5omA5bGe5pWw5o2u546v5aKDXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCDniLbkurLoioLngrlcbiAqIEBwYXJhbSB7RE9NQ2hpbGRyZW5XYWxrZXI/fSByZXZlcnNlV2Fsa2VyIOWtkOWFg+e0oOmBjeWOhuWvueixoVxuICovXG5mdW5jdGlvbiBUZW1wbGF0ZU5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50LCByZXZlcnNlV2Fsa2VyKSB7XG4gICAgdGhpcy5hTm9kZSA9IGFOb2RlO1xuICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5wYXJlbnRDb21wb25lbnQgPSBwYXJlbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFRcbiAgICAgICAgPyBwYXJlbnRcbiAgICAgICAgOiBwYXJlbnQucGFyZW50Q29tcG9uZW50O1xuXG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcbiAgICB0aGlzLmxpZmVDeWNsZSA9IExpZmVDeWNsZS5zdGFydDtcbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAvLyAjW2JlZ2luXSByZXZlcnNlXG4gICAgaWYgKHJldmVyc2VXYWxrZXIpIHtcbiAgICAgICAgdGhpcy5zZWwgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRoaXMuaWQpO1xuICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5zZWwsIHJldmVyc2VXYWxrZXIudGFyZ2V0LCByZXZlcnNlV2Fsa2VyLmN1cnJlbnQpO1xuXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIGVhY2godGhpcy5hTm9kZS5jaGlsZHJlbiwgZnVuY3Rpb24gKGFOb2RlQ2hpbGQpIHtcbiAgICAgICAgICAgIG1lLmNoaWxkcmVuLnB1c2goY3JlYXRlUmV2ZXJzZU5vZGUoYU5vZGVDaGlsZCwgcmV2ZXJzZVdhbGtlciwgbWUpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGhpcy5pZCk7XG4gICAgICAgIGluc2VydEJlZm9yZSh0aGlzLmVsLCByZXZlcnNlV2Fsa2VyLnRhcmdldCwgcmV2ZXJzZVdhbGtlci5jdXJyZW50KTtcblxuICAgICAgICB0aGlzLl90b1BoYXNlKCdhdHRhY2hlZCcpO1xuICAgIH1cbiAgICAvLyAjW2VuZF1cbn1cblxuXG5cblRlbXBsYXRlTm9kZS5wcm90b3R5cGUubm9kZVR5cGUgPSBOb2RlVHlwZS5UUEw7XG5cblRlbXBsYXRlTm9kZS5wcm90b3R5cGUuYXR0YWNoID0gbm9kZU93bk9ubHlDaGlsZHJlbkF0dGFjaDtcblxuLyoqXG4gKiDplIDmr4Hph4rmlL5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub0RldGFjaCDmmK/lkKbkuI3opoHmioroioLngrnku45kb23np7vpmaRcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vVHJhbnNpdGlvbiDmmK/lkKbkuI3mmL7npLrov4fmuKHliqjnlLvmlYjmnpxcbiAqL1xuVGVtcGxhdGVOb2RlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKG5vRGV0YWNoLCBub1RyYW5zaXRpb24pIHtcbiAgICBlbGVtZW50RGlzcG9zZUNoaWxkcmVuKHRoaXMsIG5vRGV0YWNoLCBub1RyYW5zaXRpb24pO1xuICAgIG5vZGVEaXNwb3NlKHRoaXMpO1xufTtcblxuXG5UZW1wbGF0ZU5vZGUucHJvdG90eXBlLl90b1BoYXNlID0gZWxlbWVudE93blRvUGhhc2U7XG5cbi8qKlxuICog6KeG5Zu+5pu05paw5Ye95pWwXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY2hhbmdlcyDmlbDmja7lj5jljJbkv6Hmga9cbiAqL1xuVGVtcGxhdGVOb2RlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICBlbGVtZW50VXBkYXRlQ2hpbGRyZW4odGhpcywgY2hhbmdlcyk7XG59O1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBUZW1wbGF0ZU5vZGU7XG5cblxuLyoqXG4gKiBAZmlsZSDlr7nlhYPntKDnmoTlrZDoioLngrnov5vooYzlj43op6NcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcbi8vIHZhciBET01DaGlsZHJlbldhbGtlciA9IHJlcXVpcmUoJy4vZG9tLWNoaWxkcmVuLXdhbGtlcicpO1xuLy8gdmFyIGNyZWF0ZVJldmVyc2VOb2RlID0gcmVxdWlyZSgnLi9jcmVhdGUtcmV2ZXJzZS1ub2RlJyk7XG5cbi8vICNbYmVnaW5dIHJldmVyc2VcblxuLyoqXG4gKiDlr7nlhYPntKDnmoTlrZDoioLngrnov5vooYzlj43op6NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCDlhYPntKBcbiAqL1xuZnVuY3Rpb24gcmV2ZXJzZUVsZW1lbnRDaGlsZHJlbihlbGVtZW50KSB7XG4gICAgdmFyIGh0bWxEaXJlY3RpdmUgPSBlbGVtZW50LmFOb2RlLmRpcmVjdGl2ZXMuaHRtbDtcblxuICAgIGlmICghaHRtbERpcmVjdGl2ZSkge1xuICAgICAgICB2YXIgcmV2ZXJzZVdhbGtlciA9IG5ldyBET01DaGlsZHJlbldhbGtlcihlbGVtZW50LmVsKTtcblxuICAgICAgICBlYWNoKGVsZW1lbnQuYU5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChhTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNoaWxkcmVuLnB1c2goY3JlYXRlUmV2ZXJzZU5vZGUoYU5vZGVDaGlsZCwgcmV2ZXJzZVdhbGtlciwgZWxlbWVudCkpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyAjW2VuZF1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmV2ZXJzZUVsZW1lbnRDaGlsZHJlbjtcblxuXG4vKipcbiAqIEBmaWxlIOWkhOeQhuWFg+e0oOeahOWxnuaAp+aTjeS9nFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGdldFByb3BIYW5kbGVyID0gcmVxdWlyZSgnLi9nZXQtcHJvcC1oYW5kbGVyJyk7XG5cbi8qKlxuICog5aSE55CG5YWD57Sg5bGe5oCn5pON5L2cXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQg5YWD57Sg5a+56LGhXG4gKiBAcGFyYW0geyp9IHZhbHVlIOWxnuaAp+WAvFxuICogQHBhcmFtIHtPYmplY3R9IHByb3Ag5bGe5oCn5L+h5oGv5a+56LGhXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZVByb3AoZWxlbWVudCwgdmFsdWUsIHByb3ApIHtcbiAgICB2YXIgbmFtZSA9IHByb3AubmFtZTtcbiAgICBnZXRQcm9wSGFuZGxlcihlbGVtZW50LnRhZ05hbWUsIG5hbWUpLnByb3AoZWxlbWVudC5lbCwgdmFsdWUsIG5hbWUsIGVsZW1lbnQsIHByb3ApO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBoYW5kbGVQcm9wO1xuXG5cbi8qKlxuICogQGZpbGUg5Yib5bu66IqC54K55a+55bqU55qEIEhUTUxFbGVtZW50IOS4u+WFg+e0oFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtZXhwcicpO1xuLy8gdmFyIGNyZWF0ZUVsID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9jcmVhdGUtZWwnKTtcbi8vIHZhciBoYW5kbGVQcm9wID0gcmVxdWlyZSgnLi9oYW5kbGUtcHJvcCcpO1xuLy8gdmFyIExpZmVDeWNsZSA9IHJlcXVpcmUoJy4vbGlmZS1jeWNsZScpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcblxudmFyIGVtcHR5UHJvcFdoZW5DcmVhdGUgPSB7XG4gICAgJ2NsYXNzJzogMSxcbiAgICAnc3R5bGUnOiAxLFxuICAgICdpZCc6IDFcbn07XG5cbi8qKlxuICog5Yib5bu66IqC54K55a+55bqU55qEIEhUTUxFbGVtZW50IOS4u+WFg+e0oFxuICovXG5mdW5jdGlvbiBlbGVtZW50T3duQ3JlYXRlKCkge1xuICAgIGlmICghdGhpcy5saWZlQ3ljbGUuY3JlYXRlZCkge1xuICAgICAgICB0aGlzLmxpZmVDeWNsZSA9IExpZmVDeWNsZS5wYWludGluZztcblxuICAgICAgICB2YXIgaXNDb21wb25lbnQgPSB0aGlzLm5vZGVUeXBlID09PSBOb2RlVHlwZS5DTVBUO1xuICAgICAgICB2YXIgc291cmNlTm9kZSA9IHRoaXMuYU5vZGUuaG90c3BvdC5zb3VyY2VOb2RlO1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLmFOb2RlLnByb3BzO1xuXG4gICAgICAgIGlmIChzb3VyY2VOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmVsID0gc291cmNlTm9kZS5jbG9uZU5vZGUoKTtcbiAgICAgICAgICAgIHByb3BzID0gdGhpcy5hTm9kZS5ob3RzcG90LmR5bmFtaWNQcm9wcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWwgPSBjcmVhdGVFbCh0aGlzLnRhZ05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwcm9wcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpc0NvbXBvbmVudFxuICAgICAgICAgICAgICAgID8gZXZhbEV4cHIocHJvcC5leHByLCB0aGlzLmRhdGEsIHRoaXMpXG4gICAgICAgICAgICAgICAgOiBldmFsRXhwcihwcm9wLmV4cHIsIHRoaXMuc2NvcGUsIHRoaXMub3duZXIpO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgfHwgIWVtcHR5UHJvcFdoZW5DcmVhdGVbcHJvcC5uYW1lXSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZVByb3AodGhpcywgdmFsdWUsIHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdG9QaGFzZSgnY3JlYXRlZCcpO1xuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWxlbWVudE93bkNyZWF0ZTtcblxuXG4vKipcbiAqIEBmaWxlIOWwhuWFg+e0oGF0dGFjaOWIsOmhtemdolxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGNyZWF0ZU5vZGUgPSByZXF1aXJlKCcuL2NyZWF0ZS1ub2RlJyk7XG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtZXhwcicpO1xuLy8gdmFyIGluc2VydEJlZm9yZSA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaW5zZXJ0LWJlZm9yZScpO1xuXG4vKipcbiAqIOWwhuWFg+e0oGF0dGFjaOWIsOmhtemdolxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IOWFg+e0oOiKgueCuVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50RWwg6KaB5re75Yqg5Yiw55qE54i25YWD57SgXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW5077ydfSBiZWZvcmVFbCDopoHmt7vliqDliLDlk6rkuKrlhYPntKDkuYvliY1cbiAqL1xuZnVuY3Rpb24gZWxlbWVudEF0dGFjaChlbGVtZW50LCBwYXJlbnRFbCwgYmVmb3JlRWwpIHtcbiAgICBlbGVtZW50Ll9jcmVhdGUoKTtcbiAgICBpbnNlcnRCZWZvcmUoZWxlbWVudC5lbCwgcGFyZW50RWwsIGJlZm9yZUVsKTtcblxuICAgIGlmICghZWxlbWVudC5fY29udGVudFJlYWR5KSB7XG4gICAgICAgIHZhciBodG1sRGlyZWN0aXZlID0gZWxlbWVudC5hTm9kZS5kaXJlY3RpdmVzLmh0bWw7XG5cbiAgICAgICAgaWYgKGh0bWxEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZWwuaW5uZXJIVE1MID0gZXZhbEV4cHIoaHRtbERpcmVjdGl2ZS52YWx1ZSwgZWxlbWVudC5zY29wZSwgZWxlbWVudC5vd25lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgYU5vZGVDaGlsZHJlbiA9IGVsZW1lbnQuYU5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFOb2RlQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjcmVhdGVOb2RlKGFOb2RlQ2hpbGRyZW5baV0sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgY2hpbGQuYXR0YWNoKGVsZW1lbnQuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5fY29udGVudFJlYWR5ID0gMTtcbiAgICB9XG59XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWxlbWVudEF0dGFjaDtcblxuXG4vKipcbiAqIEBmaWxlIOWwhuWFg+e0oGF0dGFjaOWIsOmhtemdolxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgZWxlbWVudEF0dGFjaCA9IHJlcXVpcmUoJy4vZWxlbWVudC1hdHRhY2gnKTtcblxuLyoqXG4gKiDlsIblhYPntKBhdHRhY2jliLDpobXpnaJcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRFbCDopoHmt7vliqDliLDnmoTniLblhYPntKBcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnTvvJ19IGJlZm9yZUVsIOimgea3u+WKoOWIsOWTquS4quWFg+e0oOS5i+WJjVxuICovXG5mdW5jdGlvbiBlbGVtZW50T3duQXR0YWNoKHBhcmVudEVsLCBiZWZvcmVFbCkge1xuICAgIGlmICghdGhpcy5saWZlQ3ljbGUuYXR0YWNoZWQpIHtcbiAgICAgICAgZWxlbWVudEF0dGFjaCh0aGlzLCBwYXJlbnRFbCwgYmVmb3JlRWwpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZCgpO1xuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWxlbWVudE93bkF0dGFjaDtcblxuXG4vKipcbiAqIEBmaWxlIOiOt+WPliBlbGVtZW50IOeahCB0cmFuc2l0aW9uIOaOp+WItuWvueixoVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGV2YWxBcmdzID0gcmVxdWlyZSgnLi4vcnVudGltZS9ldmFsLWFyZ3MnKTtcbi8vIHZhciBmaW5kTWV0aG9kID0gcmVxdWlyZSgnLi4vcnVudGltZS9maW5kLW1ldGhvZCcpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcblxuLyoqXG4gKiDojrflj5YgZWxlbWVudCDnmoQgdHJhbnNpdGlvbiDmjqfliLblr7nosaFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCDlhYPntKBcbiAqIEByZXR1cm4ge09iamVjdD99XG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRHZXRUcmFuc2l0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgYU5vZGUgPSBlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlVHlwZS5DTVBUID8gZWxlbWVudC5naXZlbkFOb2RlIDogZWxlbWVudC5hTm9kZTtcbiAgICB2YXIgZGlyZWN0aXZlID0gYU5vZGUgJiYgYU5vZGUuZGlyZWN0aXZlcy50cmFuc2l0aW9uO1xuICAgIHZhciBvd25lciA9IGVsZW1lbnQub3duZXI7XG5cbiAgICB2YXIgdHJhbnNpdGlvbjtcbiAgICBpZiAoZGlyZWN0aXZlICYmIG93bmVyKSB7XG4gICAgICAgIHRyYW5zaXRpb24gPSBmaW5kTWV0aG9kKG93bmVyLCBkaXJlY3RpdmUudmFsdWUubmFtZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0cmFuc2l0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uID0gdHJhbnNpdGlvbi5hcHBseShcbiAgICAgICAgICAgICAgICBvd25lcixcbiAgICAgICAgICAgICAgICBldmFsQXJncyhkaXJlY3RpdmUudmFsdWUuYXJncywgZWxlbWVudC5zY29wZSwgb3duZXIpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYW5zaXRpb24gfHwgZWxlbWVudC50cmFuc2l0aW9uO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbGVtZW50R2V0VHJhbnNpdGlvbjtcblxuXG4vKipcbiAqIEBmaWxlIOWFg+e0oOiKgueCueaJp+ihjGxlYXZl6KGM5Li6XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgZWxlbWVudEdldFRyYW5zaXRpb24gPSByZXF1aXJlKCcuL2VsZW1lbnQtZ2V0LXRyYW5zaXRpb24nKTtcblxuXG4vKipcbiAqIOWFg+e0oOiKgueCueaJp+ihjGxlYXZl6KGM5Li6XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQg5YWD57SgXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRMZWF2ZShlbGVtZW50KSB7XG4gICAgdmFyIGxpZmVDeWNsZSA9IGVsZW1lbnQubGlmZUN5Y2xlO1xuICAgIGlmIChsaWZlQ3ljbGUubGVhdmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuZGlzcG9zZU5vVHJhbnNpdGlvbikge1xuICAgICAgICBlbGVtZW50Ll9kb25lTGVhdmUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uID0gZWxlbWVudEdldFRyYW5zaXRpb24oZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdHJhbnNpdGlvbi5sZWF2ZSkge1xuICAgICAgICAgICAgZWxlbWVudC5fdG9QaGFzZSgnbGVhdmluZycpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5sZWF2ZShlbGVtZW50LmVsLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5fZG9uZUxlYXZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuX2RvbmVMZWF2ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbGVtZW50TGVhdmU7XG5cblxuLyoqXG4gKiBAZmlsZSDlsIblhYPntKDku47pobXpnaLkuIrnp7vpmaRcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBlbGVtZW50TGVhdmUgPSByZXF1aXJlKCcuL2VsZW1lbnQtbGVhdmUnKTtcblxuLyoqXG4gKiDlsIblhYPntKDku47pobXpnaLkuIrnp7vpmaRcbiAqL1xuZnVuY3Rpb24gZWxlbWVudE93bkRldGFjaCgpIHtcbiAgICBlbGVtZW50TGVhdmUodGhpcyk7XG59XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWxlbWVudE93bkRldGFjaDtcblxuXG4vKipcbiAqIEBmaWxlIOmUgOavgemHiuaUvuWFg+e0oFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVsZW1lbnRMZWF2ZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1sZWF2ZScpO1xuXG4vKipcbiAqIOmUgOavgemHiuaUvuWFg+e0oFxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vRGV0YWNoIOaYr+WQpuS4jeimgeaKiuiKgueCueS7jmRvbeenu+mZpFxuICogQHBhcmFtIHtib29sZWFuPX0gbm9UcmFuc2l0aW9uIOaYr+WQpuS4jeaYvuekuui/h+a4oeWKqOeUu+aViOaenFxuICovXG5mdW5jdGlvbiBlbGVtZW50T3duRGlzcG9zZShub0RldGFjaCwgbm9UcmFuc2l0aW9uKSB7XG4gICAgdGhpcy5sZWF2ZURpc3Bvc2UgPSAxO1xuICAgIHRoaXMuZGlzcG9zZU5vRGV0YWNoID0gbm9EZXRhY2g7XG4gICAgdGhpcy5kaXNwb3NlTm9UcmFuc2l0aW9uID0gbm9UcmFuc2l0aW9uO1xuXG4gICAgZWxlbWVudExlYXZlKHRoaXMpO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbGVtZW50T3duRGlzcG9zZTtcblxuXG4vKipcbiAqIEBmaWxlIOS4uuWFg+e0oOeahCBlbCDnu5Hlrprkuovku7ZcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBvbiA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvb24nKTtcblxuLyoqXG4gKiDkuLrlhYPntKDnmoQgZWwg57uR5a6a5LqL5Lu2XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUg5LqL5Lu25ZCNXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciDnm5HlkKzlmahcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FwdHVyZSDmmK/lkKbmmK/mjZXojrfpmLbmrrXop6blj5FcbiAqL1xuZnVuY3Rpb24gZWxlbWVudE93bk9uRWwobmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhcHR1cmUgPSAhIWNhcHR1cmU7XG4gICAgICAgIHRoaXMuX2VsRm5zLnB1c2goW25hbWUsIGxpc3RlbmVyLCBjYXB0dXJlXSk7XG4gICAgICAgIG9uKHRoaXMuZWwsIG5hbWUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnRPd25PbkVsO1xuXG5cbi8qKlxuICogQGZpbGUgIOS6i+S7tue7keWumuS4jeWtmOWcqOeahCB3YXJuaW5nXG4gKiBAYXV0aG9yIHZhcnNoYSh3YW5nc2h1b25wdUBnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcblxuLy8gI1tiZWdpbl0gZXJyb3Jcbi8qKlxuICog5LqL5Lu257uR5a6a5LiN5a2Y5Zyo55qEIHdhcm5pbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnRCaW5kIOS6i+S7tue7keWumuWvueixoVxuICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOaJgOWxnueahOe7hOS7tuWvueixoVxuICovXG5mdW5jdGlvbiB3YXJuRXZlbnRMaXN0ZW5NZXRob2QoZXZlbnRCaW5kLCBvd25lcikge1xuICAgIHZhciB2YWxpZCA9IHRydWU7XG4gICAgdmFyIG1ldGhvZCA9IG93bmVyO1xuICAgIGVhY2goZXZlbnRCaW5kLmV4cHIubmFtZS5wYXRocywgZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgaWYgKCFwYXRoLnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBtZXRob2QgPSBtZXRob2RbcGF0aC52YWx1ZV07XG4gICAgICAgIHZhbGlkID0gISFtZXRob2Q7XG4gICAgICAgIHJldHVybiB2YWxpZDtcbiAgICB9KTtcblxuICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgdmFyIHBhdGhzID0gW107XG4gICAgICAgIGVhY2goZXZlbnRCaW5kLmV4cHIubmFtZS5wYXRocywgZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgICAgIHBhdGhzLnB1c2gocGF0aC52YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdbU0FOIFdBUk5JTkddICcgKyBldmVudEJpbmQubmFtZSArICcgbGlzdGVuIGZhaWwsXCInICsgcGF0aHMuam9pbignLicpICsgJ1wiIG5vdCBleGlzdCc7XG5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09ICdvYmplY3QnICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgIH1cbn1cbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB3YXJuRXZlbnRMaXN0ZW5NZXRob2Q7XG5cblxuLyoqXG4gKiBAZmlsZSDlrozmiJDlhYPntKAgYXR0YWNoZWQg5ZCO55qE6KGM5Li6XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBiaW5kID0gcmVxdWlyZSgnLi4vdXRpbC9iaW5kJyk7XG4vLyB2YXIgZW1wdHkgPSByZXF1aXJlKCcuLi91dGlsL2VtcHR5Jyk7XG4vLyB2YXIgaXNCcm93c2VyID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pcy1icm93c2VyJyk7XG4vLyB2YXIgdHJpZ2dlciA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvdHJpZ2dlcicpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcbi8vIHZhciBlbGVtZW50R2V0VHJhbnNpdGlvbiA9IHJlcXVpcmUoJy4vZWxlbWVudC1nZXQtdHJhbnNpdGlvbicpO1xuLy8gdmFyIGV2ZW50RGVjbGFyYXRpb25MaXN0ZW5lciA9IHJlcXVpcmUoJy4vZXZlbnQtZGVjbGFyYXRpb24tbGlzdGVuZXInKTtcbi8vIHZhciBnZXRQcm9wSGFuZGxlciA9IHJlcXVpcmUoJy4vZ2V0LXByb3AtaGFuZGxlcicpO1xuLy8gdmFyIHdhcm5FdmVudExpc3Rlbk1ldGhvZCA9IHJlcXVpcmUoJy4vd2Fybi1ldmVudC1saXN0ZW4tbWV0aG9kJyk7XG5cbi8qKlxuICog5Y+M57uR6L6T5YWl5qGGQ29tcG9zaXRpb25FbmTkuovku7bnm5HlkKzlh73mlbBcbiAqXG4gKiBAaW5uZXJcbiAqL1xuZnVuY3Rpb24gaW5wdXRPbkNvbXBvc2l0aW9uRW5kKCkge1xuICAgIGlmICghdGhpcy5jb21wb3NpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY29tcG9zaW5nID0gMDtcblxuICAgIHRyaWdnZXIodGhpcywgJ2lucHV0Jyk7XG59XG5cbi8qKlxuICog5Y+M57uR6L6T5YWl5qGGQ29tcG9zaXRpb25TdGFydOS6i+S7tuebkeWQrOWHveaVsFxuICpcbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBpbnB1dE9uQ29tcG9zaXRpb25TdGFydCgpIHtcbiAgICB0aGlzLmNvbXBvc2luZyA9IDE7XG59XG5cbmZ1bmN0aW9uIHhQcm9wT3V0cHV0ZXIoeFByb3AsIGRhdGEpIHtcbiAgICBnZXRQcm9wSGFuZGxlcih0aGlzLnRhZ05hbWUsIHhQcm9wLm5hbWUpLm91dHB1dCh0aGlzLCB4UHJvcCwgZGF0YSk7XG59XG5cbmZ1bmN0aW9uIGlucHV0WFByb3BPdXRwdXRlcihlbGVtZW50LCB4UHJvcCwgZGF0YSkge1xuICAgIHZhciBvdXRwdXRlciA9IGJpbmQoeFByb3BPdXRwdXRlciwgZWxlbWVudCwgeFByb3AsIGRhdGEpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIXRoaXMuY29tcG9zaW5nKSB7XG4gICAgICAgICAgICBvdXRwdXRlcihlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKlxuICog5a6M5oiQ5YWD57SgIGF0dGFjaGVkIOWQjueahOihjOS4ulxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IOWFg+e0oOiKgueCuVxuICovXG5mdW5jdGlvbiBlbGVtZW50T3duQXR0YWNoZWQoKSB7XG4gICAgdGhpcy5fdG9QaGFzZSgnY3JlYXRlZCcpO1xuXG4gICAgdmFyIGlzQ29tcG9uZW50ID0gdGhpcy5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuQ01QVDtcbiAgICB2YXIgZGF0YSA9IGlzQ29tcG9uZW50ID8gdGhpcy5kYXRhIDogdGhpcy5zY29wZTtcblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlZGVjbGFyZSAqL1xuXG4gICAgLy8g5aSE55CG6Ieq6Lqr5Y+Y5YyW5pe25Y+M5ZCR57uR5a6a55qE6YC76L6RXG4gICAgdmFyIHhQcm9wcyA9IHRoaXMuYU5vZGUuaG90c3BvdC54UHJvcHM7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB4UHJvcHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciB4UHJvcCA9IHhQcm9wc1tpXTtcblxuICAgICAgICBzd2l0Y2ggKHhQcm9wLm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3ZhbHVlJzpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnB1dCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Jyb3dzZXIgJiYgd2luZG93LkNvbXBvc2l0aW9uRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVsKCdjaGFuZ2UnLCBpbnB1dE9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRWwoJ2NvbXBvc2l0aW9uc3RhcnQnLCBpbnB1dE9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FbCgnY29tcG9zaXRpb25lbmQnLCBpbnB1dE9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnb25pbnB1dCcgaW4gdGhpcy5lbCkgPyAnaW5wdXQnIDogJ3Byb3BlcnR5Y2hhbmdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFhQcm9wT3V0cHV0ZXIodGhpcywgeFByb3AsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FbCgnY2hhbmdlJywgYmluZCh4UHJvcE91dHB1dGVyLCB0aGlzLCB4UHJvcCwgZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdjaGVja2VkJzpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnB1dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZWwudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRWwoJ2NsaWNrJywgYmluZCh4UHJvcE91dHB1dGVyLCB0aGlzLCB4UHJvcCwgZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGJpbmQgZXZlbnRzXG4gICAgdmFyIGV2ZW50cyA9IGlzQ29tcG9uZW50XG4gICAgICAgID8gdGhpcy5hTm9kZS5ldmVudHMuY29uY2F0KHRoaXMubmF0aXZlRXZlbnRzKVxuICAgICAgICA6IHRoaXMuYU5vZGUuZXZlbnRzO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBldmVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBldmVudEJpbmQgPSBldmVudHNbaV07XG4gICAgICAgIHZhciBvd25lciA9IGlzQ29tcG9uZW50ID8gdGhpcyA6IHRoaXMub3duZXI7XG5cbiAgICAgICAgLy8g5Yik5pat5piv5ZCm5pivbmF0aXZlRXZlbnTvvIzkuIvpnaLnmoR3YXJu5pa55rOV5ZKM5LqL5Lu257uR5a6a6YO96ZyA6KaBXG4gICAgICAgIC8vIOS+neatpOaMh+WummV2ZW50QmluZC5leHByLm5hbWXkvY3kuo5vd25lcui/mOaYr293bmVyLm93bmVy5LiKXG4gICAgICAgIGlmIChldmVudEJpbmQubW9kaWZpZXIubmF0aXZlKSB7XG4gICAgICAgICAgICBvd25lciA9IG93bmVyLm93bmVyO1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuc2NvcGUgfHwgb3duZXIuZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgICAgIHdhcm5FdmVudExpc3Rlbk1ldGhvZChldmVudEJpbmQsIG93bmVyKTtcbiAgICAgICAgLy8gI1tlbmRdXG5cbiAgICAgICAgdGhpcy5fb25FbChcbiAgICAgICAgICAgIGV2ZW50QmluZC5uYW1lLFxuICAgICAgICAgICAgYmluZChcbiAgICAgICAgICAgICAgICBldmVudERlY2xhcmF0aW9uTGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgb3duZXIsXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGV2ZW50QmluZC5tb2RpZmllci5jYXB0dXJlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fdG9QaGFzZSgnYXR0YWNoZWQnKTtcblxuXG4gICAgaWYgKHRoaXMuX2lzSW5pdEZyb21FbCkge1xuICAgICAgICB0aGlzLl9pc0luaXRGcm9tRWwgPSBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uID0gZWxlbWVudEdldFRyYW5zaXRpb24odGhpcyk7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uICYmIHRyYW5zaXRpb24uZW50ZXIpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uZW50ZXIodGhpcy5lbCwgZW1wdHkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbGVtZW50T3duQXR0YWNoZWQ7XG5cblxuLyoqXG4gKiBAZmlsZSDplIDmr4HlhYPntKDoioLngrlcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIHVuID0gcmVxdWlyZSgnLi4vYnJvd3Nlci91bicpO1xuLy8gdmFyIHJlbW92ZUVsID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9yZW1vdmUtZWwnKTtcbi8vIHZhciBlbGVtZW50RGlzcG9zZUNoaWxkcmVuID0gcmVxdWlyZSgnLi9lbGVtZW50LWRpc3Bvc2UtY2hpbGRyZW4nKTtcbi8vIHZhciBub2RlRGlzcG9zZSA9IHJlcXVpcmUoJy4vbm9kZS1kaXNwb3NlJyk7XG5cbi8qKlxuICog6ZSA5q+B5YWD57Sg6IqC54K5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQg6KaB6ZSA5q+B55qE5YWD57Sg6IqC54K5XG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMg6ZSA5q+B6KGM5Li655qE5Y+C5pWwXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnREaXNwb3NlKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50RGlzcG9zZUNoaWxkcmVuKGVsZW1lbnQsIDEsIDEpO1xuXG4gICAgLy8gZWwg5LqL5Lu26Kej57uRXG4gICAgdmFyIGxlbiA9IGVsZW1lbnQuX2VsRm5zLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgdmFyIGZuID0gZWxlbWVudC5fZWxGbnNbbGVuXTtcbiAgICAgICAgdW4oZWxlbWVudC5lbCwgZm5bMF0sIGZuWzFdLCBmblsyXSk7XG4gICAgfVxuICAgIGVsZW1lbnQuX2VsRm5zID0gbnVsbDtcblxuXG4gICAgLy8g5aaC5p6c5rKh5pyJcGFyZW5077yM6K+05piO5piv5LiA5Liqcm9vdCBjb21wb25lbnTvvIzkuIDlrpropoHku45kb23moJHkuK1yZW1vdmVcbiAgICBpZiAoIWVsZW1lbnQuZGlzcG9zZU5vRGV0YWNoIHx8ICFlbGVtZW50LnBhcmVudCkge1xuICAgICAgICByZW1vdmVFbChlbGVtZW50LmVsKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5fdG9QaGFzZSkge1xuICAgICAgICBlbGVtZW50Ll90b1BoYXNlKCdkZXRhY2hlZCcpO1xuICAgIH1cblxuICAgIG5vZGVEaXNwb3NlKGVsZW1lbnQpO1xufVxuXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnREaXNwb3NlO1xuXG5cbi8qKlxuICogQGZpbGUg5Yid5aeL5YyWIGVsZW1lbnQg6IqC54K555qEIHRhZ05hbWUg5aSE55CGXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgaWVPbGRUaGFuOSA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaWUtb2xkLXRoYW4tOScpO1xuXG4vKipcbiAqIOWIneWni+WMliBlbGVtZW50IOiKgueCueeahCB0YWdOYW1lIOWkhOeQhlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIOiKgueCueWvueixoVxuICovXG5mdW5jdGlvbiBlbGVtZW50SW5pdFRhZ05hbWUobm9kZSkge1xuICAgIG5vZGUudGFnTmFtZSA9IG5vZGUudGFnTmFtZSB8fCBub2RlLmFOb2RlLnRhZ05hbWUgfHwgJ2Rpdic7XG5cbiAgICAvLyAjW2JlZ2luXSBhbGx1YVxuICAgIC8vIGllOC0g5LiN5pSv5oyBaW5uZXJIVE1M6L6T5Ye66Ieq5a6a5LmJ5qCH562+XG4gICAgaWYgKGllT2xkVGhhbjkgJiYgbm9kZS50YWdOYW1lLmluZGV4T2YoJy0nKSA+IDApIHtcbiAgICAgICAgbm9kZS50YWdOYW1lID0gJ2Rpdic7XG4gICAgfVxuICAgIC8vICNbZW5kXVxufVxuXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnRJbml0VGFnTmFtZTtcblxuXG4vKipcbiAqIEBmaWxlIOe7mSBkZXZ0b29sIOWPkemAmuefpea2iOaBr1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGlzQnJvd3NlciA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaXMtYnJvd3NlcicpO1xuXG4vLyAjW2JlZ2luXSBkZXZ0b29sXG52YXIgc2FuNGRldnRvb2w7XG5cbi8qKlxuICog57uZIGRldnRvb2wg5Y+R6YCa55+l5raI5oGvXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUg5raI5oGv5ZCN56ewXG4gKiBAcGFyYW0geyp9IGFyZyDmtojmga/lj4LmlbBcbiAqL1xuZnVuY3Rpb24gZW1pdERldnRvb2wobmFtZSwgYXJnKSB7XG4gICAgaWYgKGlzQnJvd3NlciAmJiBzYW40ZGV2dG9vbCAmJiBzYW40ZGV2dG9vbC5kZWJ1ZyAmJiB3aW5kb3cuX19zYW5fZGV2dG9vbF9fKSB7XG4gICAgICAgIHdpbmRvdy5fX3Nhbl9kZXZ0b29sX18uZW1pdChuYW1lLCBhcmcpO1xuICAgIH1cbn1cblxuZW1pdERldnRvb2wuc3RhcnQgPSBmdW5jdGlvbiAobWFpbikge1xuICAgIHNhbjRkZXZ0b29sID0gbWFpbjtcbiAgICBlbWl0RGV2dG9vbCgnc2FuJywgbWFpbik7XG59O1xuLy8gI1tlbmRdXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVtaXREZXZ0b29sO1xuXG5cbi8qKlxuICogQGZpbGUg57uE5Lu257G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgYmluZCA9IHJlcXVpcmUoJy4uL3V0aWwvYmluZCcpO1xuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcbi8vIHZhciBndWlkID0gcmVxdWlyZSgnLi4vdXRpbC9ndWlkJyk7XG4vLyB2YXIgZXh0ZW5kID0gcmVxdWlyZSgnLi4vdXRpbC9leHRlbmQnKTtcbi8vIHZhciBuZXh0VGljayA9IHJlcXVpcmUoJy4uL3V0aWwvbmV4dC10aWNrJyk7XG4vLyB2YXIgZW1pdERldnRvb2wgPSByZXF1aXJlKCcuLi91dGlsL2VtaXQtZGV2dG9vbCcpO1xuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi4vcGFyc2VyL2V4cHItdHlwZScpO1xuLy8gdmFyIHBhcnNlRXhwciA9IHJlcXVpcmUoJy4uL3BhcnNlci9wYXJzZS1leHByJyk7XG4vLyB2YXIgY3JlYXRlQWNjZXNzb3IgPSByZXF1aXJlKCcuLi9wYXJzZXIvY3JlYXRlLWFjY2Vzc29yJyk7XG4vLyB2YXIgcG9zdFByb3AgPSByZXF1aXJlKCcuLi9wYXJzZXIvcG9zdC1wcm9wJyk7XG4vLyB2YXIgcmVtb3ZlRWwgPSByZXF1aXJlKCcuLi9icm93c2VyL3JlbW92ZS1lbCcpO1xuLy8gdmFyIERhdGEgPSByZXF1aXJlKCcuLi9ydW50aW1lL2RhdGEnKTtcbi8vIHZhciBldmFsRXhwciA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZXZhbC1leHByJyk7XG4vLyB2YXIgY2hhbmdlRXhwckNvbXBhcmUgPSByZXF1aXJlKCcuLi9ydW50aW1lL2NoYW5nZS1leHByLWNvbXBhcmUnKTtcbi8vIHZhciBjb21waWxlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9jb21waWxlLWNvbXBvbmVudCcpO1xuLy8gdmFyIGNvbXBvbmVudFByZWhlYXQgPSByZXF1aXJlKCcuL2NvbXBvbmVudC1wcmVoZWF0Jyk7XG4vLyB2YXIgTGlmZUN5Y2xlID0gcmVxdWlyZSgnLi9saWZlLWN5Y2xlJyk7XG4vLyB2YXIgZ2V0QU5vZGVQcm9wID0gcmVxdWlyZSgnLi9nZXQtYS1ub2RlLXByb3AnKTtcbi8vIHZhciBpc0RhdGFDaGFuZ2VCeUVsZW1lbnQgPSByZXF1aXJlKCcuL2lzLWRhdGEtY2hhbmdlLWJ5LWVsZW1lbnQnKTtcbi8vIHZhciBldmVudERlY2xhcmF0aW9uTGlzdGVuZXIgPSByZXF1aXJlKCcuL2V2ZW50LWRlY2xhcmF0aW9uLWxpc3RlbmVyJyk7XG4vLyB2YXIgcmV2ZXJzZUVsZW1lbnRDaGlsZHJlbiA9IHJlcXVpcmUoJy4vcmV2ZXJzZS1lbGVtZW50LWNoaWxkcmVuJyk7XG4vLyB2YXIgY2FtZWxDb21wb25lbnRCaW5kcyA9IHJlcXVpcmUoJy4vY2FtZWwtY29tcG9uZW50LWJpbmRzJyk7XG4vLyB2YXIgTm9kZVR5cGUgPSByZXF1aXJlKCcuL25vZGUtdHlwZScpO1xuLy8gdmFyIGVsZW1lbnRJbml0VGFnTmFtZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1pbml0LXRhZy1uYW1lJyk7XG4vLyB2YXIgZWxlbWVudE93bkF0dGFjaGVkID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1hdHRhY2hlZCcpO1xuLy8gdmFyIGVsZW1lbnREaXNwb3NlID0gcmVxdWlyZSgnLi9lbGVtZW50LWRpc3Bvc2UnKTtcbi8vIHZhciBlbGVtZW50VXBkYXRlQ2hpbGRyZW4gPSByZXF1aXJlKCcuL2VsZW1lbnQtdXBkYXRlLWNoaWxkcmVuJyk7XG4vLyB2YXIgZWxlbWVudE93bk9uRWwgPSByZXF1aXJlKCcuL2VsZW1lbnQtb3duLW9uLWVsJyk7XG4vLyB2YXIgZWxlbWVudE93bkNyZWF0ZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tY3JlYXRlJyk7XG4vLyB2YXIgZWxlbWVudE93bkF0dGFjaCA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tYXR0YWNoJyk7XG4vLyB2YXIgZWxlbWVudE93bkRldGFjaCA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tZGV0YWNoJyk7XG4vLyB2YXIgZWxlbWVudE93bkRpc3Bvc2UgPSByZXF1aXJlKCcuL2VsZW1lbnQtb3duLWRpc3Bvc2UnKTtcbi8vIHZhciB3YXJuRXZlbnRMaXN0ZW5NZXRob2QgPSByZXF1aXJlKCcuL3dhcm4tZXZlbnQtbGlzdGVuLW1ldGhvZCcpO1xuLy8gdmFyIGVsZW1lbnREaXNwb3NlQ2hpbGRyZW4gPSByZXF1aXJlKCcuL2VsZW1lbnQtZGlzcG9zZS1jaGlsZHJlbicpO1xuLy8gdmFyIGVsZW1lbnRBdHRhY2ggPSByZXF1aXJlKCcuL2VsZW1lbnQtYXR0YWNoJyk7XG4vLyB2YXIgaGFuZGxlUHJvcCA9IHJlcXVpcmUoJy4vaGFuZGxlLXByb3AnKTtcbi8vIHZhciBjcmVhdGVEYXRhVHlwZXNDaGVja2VyID0gcmVxdWlyZSgnLi4vdXRpbC9jcmVhdGUtZGF0YS10eXBlcy1jaGVja2VyJyk7XG5cblxuXG4vKipcbiAqIOe7hOS7tuexu1xuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMg5Yid5aeL5YyW5Y+C5pWwXG4gKi9cbmZ1bmN0aW9uIENvbXBvbmVudChvcHRpb25zKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHRoaXMubGlmZUN5Y2xlID0gTGlmZUN5Y2xlLnN0YXJ0O1xuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB0aGlzLl9lbEZucyA9IFtdO1xuICAgIHRoaXMubGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5zbG90Q2hpbGRyZW4gPSBbXTtcblxuICAgIHZhciBjbGF6eiA9IHRoaXMuY29uc3RydWN0b3I7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB0aGlzLmZpbHRlcnMgfHwgY2xhenouZmlsdGVycyB8fCB7fTtcbiAgICB0aGlzLmNvbXB1dGVkID0gdGhpcy5jb21wdXRlZCB8fCBjbGF6ei5jb21wdXRlZCB8fCB7fTtcbiAgICB0aGlzLm1lc3NhZ2VzID0gdGhpcy5tZXNzYWdlcyB8fCBjbGF6ei5tZXNzYWdlcyB8fCB7fTtcbiAgICB0aGlzLnN1YlRhZyA9IG9wdGlvbnMuc3ViVGFnO1xuXG4gICAgLy8gY29tcGlsZVxuICAgIGNvbXBpbGVDb21wb25lbnQoY2xhenopO1xuICAgIGNvbXBvbmVudFByZWhlYXQoY2xhenopO1xuXG4gICAgdmFyIG1lID0gdGhpcztcbiAgICB2YXIgcHJvdG9BTm9kZSA9IGNsYXp6LnByb3RvdHlwZS5hTm9kZTtcblxuICAgIG1lLmdpdmVuQU5vZGUgPSBvcHRpb25zLmFOb2RlO1xuICAgIG1lLmdpdmVuTmFtZWRTbG90QmluZHMgPSBbXTtcbiAgICBtZS5naXZlblNsb3RzID0ge1xuICAgICAgICBuYW1lZDoge31cbiAgICB9O1xuXG4gICAgdGhpcy5vd25lciA9IG9wdGlvbnMub3duZXI7XG4gICAgdGhpcy5zY29wZSA9IG9wdGlvbnMuc2NvcGU7XG4gICAgdGhpcy5lbCA9IG9wdGlvbnMuZWw7XG5cbiAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnRDb21wb25lbnQgPSBwYXJlbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFRcbiAgICAgICAgICAgID8gcGFyZW50XG4gICAgICAgICAgICA6IHBhcmVudCAmJiBwYXJlbnQucGFyZW50Q29tcG9uZW50O1xuICAgIH1cblxuICAgIHRoaXMuaWQgPSBndWlkKCk7XG5cbiAgICAvLyAjW2JlZ2luXSByZXZlcnNlXG4gICAgaWYgKHRoaXMuZWwpIHtcbiAgICAgICAgdmFyIGZpcnN0Q29tbWVudE5vZGUgPSB0aGlzLmVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChmaXJzdENvbW1lbnROb2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgICAgICBmaXJzdENvbW1lbnROb2RlID0gZmlyc3RDb21tZW50Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaXJzdENvbW1lbnROb2RlICYmIGZpcnN0Q29tbWVudE5vZGUubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgICAgIHZhciBzdHVtcE1hdGNoID0gZmlyc3RDb21tZW50Tm9kZS5kYXRhLm1hdGNoKC9eXFxzKnMtZGF0YTooW1xcc1xcU10rKT8kLyk7XG4gICAgICAgICAgICBpZiAoc3R1bXBNYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhciBzdHVtcFRleHQgPSBzdHVtcE1hdGNoWzFdO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsbCBjb21wb25lbnQgZGF0YVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IChuZXcgRnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICdyZXR1cm4gJyArIHN0dW1wVGV4dC5yZXBsYWNlKC9eW1xcc1xcbl0qLywgJycpXG4gICAgICAgICAgICAgICAgKSkoKTtcblxuICAgICAgICAgICAgICAgIGlmIChmaXJzdENvbW1lbnROb2RlLnByZXZpb3VzU2libGluZykge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVFbChmaXJzdENvbW1lbnROb2RlLnByZXZpb3VzU2libGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbW92ZUVsKGZpcnN0Q29tbWVudE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vICNbZW5kXVxuXG4gICAgLy8gbmF0aXZl5LqL5Lu25pWw57uEXG4gICAgdGhpcy5uYXRpdmVFdmVudHMgPSBbXTtcblxuICAgIGlmICh0aGlzLmdpdmVuQU5vZGUpIHtcbiAgICAgICAgLy8g57uE5Lu26L+Q6KGM5pe25Lyg5YWl55qE57uT5p6E77yM5YGac2xvdOino+aekFxuICAgICAgICB0aGlzLl9jcmVhdGVHaXZlblNsb3RzKCk7XG5cbiAgICAgICAgZWFjaCh0aGlzLmdpdmVuQU5vZGUuZXZlbnRzLCBmdW5jdGlvbiAoZXZlbnRCaW5kKSB7XG4gICAgICAgICAgICAvLyDkv53lrZjlvZPliY3lrp7kvovnmoRuYXRpdmXkuovku7bvvIzkuIvpnaLliJvlu7phTm9kZeaXtuWAmeWBmuWQiOW5tlxuICAgICAgICAgICAgaWYgKGV2ZW50QmluZC5tb2RpZmllci5uYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBtZS5uYXRpdmVFdmVudHMucHVzaChldmVudEJpbmQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgICAgIHdhcm5FdmVudExpc3Rlbk1ldGhvZChldmVudEJpbmQsIG9wdGlvbnMub3duZXIpO1xuICAgICAgICAgICAgLy8gI1tlbmRdXG5cbiAgICAgICAgICAgIG1lLm9uKFxuICAgICAgICAgICAgICAgIGV2ZW50QmluZC5uYW1lLFxuICAgICAgICAgICAgICAgIGJpbmQoZXZlbnREZWNsYXJhdGlvbkxpc3RlbmVyLCBvcHRpb25zLm93bmVyLCBldmVudEJpbmQsIDEsIG9wdGlvbnMuc2NvcGUpLFxuICAgICAgICAgICAgICAgIGV2ZW50QmluZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50YWdOYW1lID0gcHJvdG9BTm9kZS50YWdOYW1lIHx8IG1lLmdpdmVuQU5vZGUudGFnTmFtZTtcbiAgICAgICAgdGhpcy5iaW5kcyA9IGNhbWVsQ29tcG9uZW50QmluZHModGhpcy5naXZlbkFOb2RlLnByb3BzKTtcbiAgICB9XG5cbiAgICB0aGlzLl90b1BoYXNlKCdjb21waWxlZCcpO1xuXG4gICAgLy8gaW5pdCBkYXRhXG4gICAgdGhpcy5kYXRhID0gbmV3IERhdGEoXG4gICAgICAgIGV4dGVuZChcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLmluaXREYXRhID09PSAnZnVuY3Rpb24nICYmIHRoaXMuaW5pdERhdGEoKSB8fCB7fSxcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YVxuICAgICAgICApXG4gICAgKTtcblxuICAgIGVsZW1lbnRJbml0VGFnTmFtZSh0aGlzKTtcblxuICAgIGVhY2godGhpcy5iaW5kcywgZnVuY3Rpb24gKGJpbmQpIHtcbiAgICAgICAgcG9zdFByb3AoYmluZCk7XG5cbiAgICAgICAgaWYgKG1lLnNjb3BlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBldmFsRXhwcihiaW5kLmV4cHIsIG1lLnNjb3BlLCBtZS5vd25lcik7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Vjb21mZS9zYW4vaXNzdWVzLzE5MVxuICAgICAgICAgICAgICAgIG1lLmRhdGEuc2V0KGJpbmQubmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIC8vIOWcqOWIneWni+WMliArIOaVsOaNrue7keWumuWQju+8jOW8gOWni+aVsOaNruagoemqjFxuICAgIC8vIE5PVEU6IOWPquWcqOW8gOWPkeeJiOacrOS4rei/m+ihjOWxnuaAp+agoemqjFxuICAgIHZhciBkYXRhVHlwZXMgPSB0aGlzLmRhdGFUeXBlcyB8fCBjbGF6ei5kYXRhVHlwZXM7XG4gICAgaWYgKGRhdGFUeXBlcykge1xuICAgICAgICB2YXIgZGF0YVR5cGVDaGVja2VyID0gY3JlYXRlRGF0YVR5cGVzQ2hlY2tlcihcbiAgICAgICAgICAgIGRhdGFUeXBlcyxcbiAgICAgICAgICAgIHRoaXMuc3ViVGFnIHx8IHRoaXMubmFtZSB8fCBjbGF6ei5uYW1lXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZGF0YS5zZXRUeXBlQ2hlY2tlcihkYXRhVHlwZUNoZWNrZXIpO1xuICAgICAgICB0aGlzLmRhdGEuY2hlY2tEYXRhVHlwZXMoKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICB0aGlzLmNvbXB1dGVkRGVwcyA9IHt9O1xuICAgIC8qIGVzbGludC1kaXNhYmxlIGd1YXJkLWZvci1pbiAqL1xuICAgIGZvciAodmFyIGV4cHIgaW4gdGhpcy5jb21wdXRlZCkge1xuICAgICAgICBpZiAoIXRoaXMuY29tcHV0ZWREZXBzW2V4cHJdKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxjQ29tcHV0ZWQoZXhwcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBndWFyZC1mb3ItaW4gKi9cblxuICAgIGlmICghdGhpcy5kYXRhQ2hhbmdlcikge1xuICAgICAgICB0aGlzLmRhdGFDaGFuZ2VyID0gYmluZCh0aGlzLl9kYXRhQ2hhbmdlciwgdGhpcyk7XG4gICAgICAgIHRoaXMuZGF0YS5saXN0ZW4odGhpcy5kYXRhQ2hhbmdlcik7XG4gICAgfVxuICAgIHRoaXMuX3RvUGhhc2UoJ2luaXRlZCcpO1xuXG4gICAgLy8gI1tiZWdpbl0gcmV2ZXJzZVxuICAgIGlmICh0aGlzLmVsKSB7XG4gICAgICAgIHJldmVyc2VFbGVtZW50Q2hpbGRyZW4odGhpcyk7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkKCk7XG4gICAgfVxuXG4gICAgdmFyIHdhbGtlciA9IG9wdGlvbnMucmV2ZXJzZVdhbGtlcjtcbiAgICBpZiAod2Fsa2VyKSB7XG4gICAgICAgIHZhciBjdXJyZW50Tm9kZSA9IHdhbGtlci5jdXJyZW50O1xuICAgICAgICBpZiAoY3VycmVudE5vZGUgJiYgY3VycmVudE5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZWwgPSBjdXJyZW50Tm9kZTtcbiAgICAgICAgICAgIHdhbGtlci5nb05leHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldmVyc2VFbGVtZW50Q2hpbGRyZW4odGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYXR0YWNoZWQoKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG59XG5cblxuXG5Db21wb25lbnQucHJvdG90eXBlLmdldENvbXBvbmVudFR5cGUgPSBmdW5jdGlvbiAoYU5vZGUpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzW2FOb2RlLnRhZ05hbWVdO1xufTtcblxuLyoqXG4gKiDliJ3lp4vljJbliJvlu7rnu4Tku7blpJbpg6jkvKDlhaXnmoTmj5Lmp73lr7nosaFcbiAqXG4gKiBAcHJvdGVjdGVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuX2NyZWF0ZUdpdmVuU2xvdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1lID0gdGhpcztcbiAgICBtZS5naXZlblNsb3RzLm5hbWVkID0ge307XG5cbiAgICAvLyDnu4Tku7bov5DooYzml7bkvKDlhaXnmoTnu5PmnoTvvIzlgZpzbG906Kej5p6QXG4gICAgbWUuZ2l2ZW5BTm9kZSAmJiBtZS5zY29wZSAmJiBlYWNoKG1lLmdpdmVuQU5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICB2YXIgdGFyZ2V0O1xuXG4gICAgICAgIHZhciBzbG90QmluZCA9ICFjaGlsZC50ZXh0RXhwciAmJiBnZXRBTm9kZVByb3AoY2hpbGQsICdzbG90Jyk7XG4gICAgICAgIGlmIChzbG90QmluZCkge1xuICAgICAgICAgICAgIW1lLmdpdmVuU2xvdEluaXRlZCAmJiBtZS5naXZlbk5hbWVkU2xvdEJpbmRzLnB1c2goc2xvdEJpbmQpO1xuXG4gICAgICAgICAgICB2YXIgc2xvdE5hbWUgPSBldmFsRXhwcihzbG90QmluZC5leHByLCBtZS5zY29wZSwgbWUub3duZXIpO1xuICAgICAgICAgICAgdGFyZ2V0ID0gbWUuZ2l2ZW5TbG90cy5uYW1lZFtzbG90TmFtZV07XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IG1lLmdpdmVuU2xvdHMubmFtZWRbc2xvdE5hbWVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW1lLmdpdmVuU2xvdEluaXRlZCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gbWUuZ2l2ZW5TbG90cy5ub25hbWU7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IG1lLmdpdmVuU2xvdHMubm9uYW1lID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQgJiYgdGFyZ2V0LnB1c2goY2hpbGQpO1xuICAgIH0pO1xuXG4gICAgbWUuZ2l2ZW5TbG90SW5pdGVkID0gdHJ1ZTtcbn07XG5cbi8qKlxuICog57G75Z6L5qCH6K+GXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5ub2RlVHlwZSA9IE5vZGVUeXBlLkNNUFQ7XG5cbi8qKlxuICog5Zyo5LiL5LiA5Liq5pu05paw5ZGo5pyf6L+Q6KGM5Ye95pWwXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4g6KaB6L+Q6KGM55qE5Ye95pWwXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUubmV4dFRpY2sgPSBuZXh0VGljaztcblxuLyogZXNsaW50LWRpc2FibGUgb3BlcmF0b3ItbGluZWJyZWFrICovXG4vKipcbiAqIOS9v+iKgueCueWIsOi+vuebuOW6lOeahOeUn+WRveWRqOacn1xuICpcbiAqIEBwcm90ZWN0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOeUn+WRveWRqOacn+WQjeensFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLl9jYWxsSG9vayA9XG5Db21wb25lbnQucHJvdG90eXBlLl90b1BoYXNlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIXRoaXMubGlmZUN5Y2xlW25hbWVdKSB7XG4gICAgICAgIHRoaXMubGlmZUN5Y2xlID0gTGlmZUN5Y2xlW25hbWVdIHx8IHRoaXMubGlmZUN5Y2xlO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXNbbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOmAmuefpWRldnRvb2xcbiAgICAgICAgLy8gI1tiZWdpbl0gZGV2dG9vbFxuICAgICAgICBlbWl0RGV2dG9vbCgnY29tcC0nICsgbmFtZSwgdGhpcyk7XG4gICAgICAgIC8vICNbZW5kXVxuICAgIH1cbn07XG4vKiBlc2xpbnQtZW5hYmxlIG9wZXJhdG9yLWxpbmVicmVhayAqL1xuXG5cbi8qKlxuICog5re75Yqg5LqL5Lu255uR5ZCs5ZmoXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUg5LqL5Lu25ZCNXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciDnm5HlkKzlmahcbiAqIEBwYXJhbSB7c3RyaW5nP30gZGVjbGFyYXRpb24g5aOw5piO5byPXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgbGlzdGVuZXIsIGRlY2xhcmF0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyc1tuYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW25hbWVdLnB1c2goe2ZuOiBsaXN0ZW5lciwgZGVjbGFyYXRpb246IGRlY2xhcmF0aW9ufSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiDnp7vpmaTkuovku7bnm5HlkKzlmahcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSDkuovku7blkI1cbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBsaXN0ZW5lciDnm5HlkKzlmahcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS51biA9IGZ1bmN0aW9uIChuYW1lLCBsaXN0ZW5lcikge1xuICAgIHZhciBuYW1lTGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbmFtZV07XG4gICAgdmFyIGxlbiA9IG5hbWVMaXN0ZW5lcnMgJiYgbmFtZUxpc3RlbmVycy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCBsaXN0ZW5lciA9PT0gbmFtZUxpc3RlbmVyc1tsZW5dLmZuKSB7XG4gICAgICAgICAgICBuYW1lTGlzdGVuZXJzLnNwbGljZShsZW4sIDEpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuXG4vKipcbiAqIOa0vuWPkeS6i+S7tlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOS6i+S7tuWQjVxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IOS6i+S7tuWvueixoVxuICovXG5Db21wb25lbnQucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbiAobmFtZSwgZXZlbnQpIHtcbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIGVhY2godGhpcy5saXN0ZW5lcnNbbmFtZV0sIGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lci5mbi5jYWxsKG1lLCBldmVudCk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIOiuoeeulyBjb21wdXRlZCDlsZ7mgKfnmoTlgLxcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXB1dGVkRXhwciBjb21wdXRlZOihqOi+vuW8j+S4slxuICovXG5Db21wb25lbnQucHJvdG90eXBlLl9jYWxjQ29tcHV0ZWQgPSBmdW5jdGlvbiAoY29tcHV0ZWRFeHByKSB7XG4gICAgdmFyIGNvbXB1dGVkRGVwcyA9IHRoaXMuY29tcHV0ZWREZXBzW2NvbXB1dGVkRXhwcl07XG4gICAgaWYgKCFjb21wdXRlZERlcHMpIHtcbiAgICAgICAgY29tcHV0ZWREZXBzID0gdGhpcy5jb21wdXRlZERlcHNbY29tcHV0ZWRFeHByXSA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMuZGF0YS5zZXQoY29tcHV0ZWRFeHByLCB0aGlzLmNvbXB1dGVkW2NvbXB1dGVkRXhwcl0uY2FsbCh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGdldDogYmluZChmdW5jdGlvbiAoZXhwcikge1xuICAgICAgICAgICAgICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgICAgICAgICAgICAgaWYgKCFleHByKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gY2FsbCBnZXQgbWV0aG9kIGluIGNvbXB1dGVkIG5lZWQgYXJndW1lbnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gI1tlbmRdXG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvbXB1dGVkRGVwc1tleHByXSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZERlcHNbZXhwcl0gPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXB1dGVkW2V4cHJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxjQ29tcHV0ZWQoZXhwcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhdGNoKGV4cHIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGNDb21wdXRlZChjb21wdXRlZEV4cHIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldChleHByKTtcbiAgICAgICAgICAgIH0sIHRoaXMpXG4gICAgICAgIH1cbiAgICB9KSk7XG59O1xuXG4vKipcbiAqIOa0vuWPkea2iOaBr1xuICog57uE5Lu25Y+v5Lul5rS+5Y+R5raI5oGv77yM5raI5oGv5bCG5rK/552A57uE5Lu25qCR5ZCR5LiK5Lyg6YCS77yM55u05Yiw6YGH5LiK56ys5LiA5Liq5aSE55CG5raI5oGv55qE57uE5Lu2XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUg5raI5oGv5ZCN56ewXG4gKiBAcGFyYW0geyo/fSB2YWx1ZSDmtojmga/lgLxcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBwYXJlbnRDb21wb25lbnQgPSB0aGlzLnBhcmVudENvbXBvbmVudDtcblxuICAgIHdoaWxlIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gcGFyZW50Q29tcG9uZW50Lm1lc3NhZ2VzW25hbWVdIHx8IHBhcmVudENvbXBvbmVudC5tZXNzYWdlc1snKiddO1xuICAgICAgICBpZiAodHlwZW9mIHJlY2VpdmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZWNlaXZlci5jYWxsKFxuICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB7dGFyZ2V0OiB0aGlzLCB2YWx1ZTogdmFsdWUsIG5hbWU6IG5hbWV9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJlbnRDb21wb25lbnQgPSBwYXJlbnRDb21wb25lbnQucGFyZW50Q29tcG9uZW50O1xuICAgIH1cbn07XG5cbi8qKlxuICog6I635Y+W57uE5Lu25YaF6YOo55qEIHNsb3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgc2xvdOWQjeensO+8jOepuuS4umRlZmF1bHQgc2xvdFxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuc2xvdCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBtZSA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBjaGlsZHJlblRyYXZlcnNhbChjaGlsZHJlbikge1xuICAgICAgICBlYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuU0xPVCAmJiBjaGlsZC5vd25lciA9PT0gbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaXNOYW1lZCAmJiBjaGlsZC5uYW1lID09PSBuYW1lXG4gICAgICAgICAgICAgICAgICAgIHx8ICFjaGlsZC5pc05hbWVkICYmICFuYW1lXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlblRyYXZlcnNhbChjaGlsZC5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoaWxkcmVuVHJhdmVyc2FsKHRoaXMuY2hpbGRyZW4pO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIOiOt+WPluW4puaciSBzYW4tcmVmIOaMh+S7pOeahOWtkOe7hOS7tuW8leeUqFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOWtkOe7hOS7tueahOW8leeUqOWQjVxuICogQHJldHVybiB7Q29tcG9uZW50fVxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHJlZlRhcmdldDtcbiAgICB2YXIgb3duZXIgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gY2hpbGRyZW5UcmF2ZXJzYWwoY2hpbGRyZW4pIHtcbiAgICAgICAgZWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBlbGVtZW50VHJhdmVyc2FsKGNoaWxkKTtcbiAgICAgICAgICAgIHJldHVybiAhcmVmVGFyZ2V0O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbGVtZW50VHJhdmVyc2FsKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcbiAgICAgICAgaWYgKG5vZGVUeXBlID09PSBOb2RlVHlwZS5URVhUKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudC5vd25lciA9PT0gb3duZXIpIHtcbiAgICAgICAgICAgIHZhciByZWY7XG4gICAgICAgICAgICBzd2l0Y2ggKGVsZW1lbnQubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIE5vZGVUeXBlLkVMRU06XG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IGVsZW1lbnQuYU5vZGUuZGlyZWN0aXZlcy5yZWY7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWYgJiYgZXZhbEV4cHIocmVmLnZhbHVlLCBlbGVtZW50LnNjb3BlLCBvd25lcikgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZlRhcmdldCA9IGVsZW1lbnQuZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIE5vZGVUeXBlLkNNUFQ6XG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IGVsZW1lbnQuZ2l2ZW5BTm9kZS5kaXJlY3RpdmVzLnJlZjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZiAmJiBldmFsRXhwcihyZWYudmFsdWUsIGVsZW1lbnQuc2NvcGUsIG93bmVyKSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmVGFyZ2V0ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAhcmVmVGFyZ2V0ICYmIGNoaWxkcmVuVHJhdmVyc2FsKGVsZW1lbnQuc2xvdENoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgICFyZWZUYXJnZXQgJiYgY2hpbGRyZW5UcmF2ZXJzYWwoZWxlbWVudC5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgY2hpbGRyZW5UcmF2ZXJzYWwodGhpcy5jaGlsZHJlbik7XG5cbiAgICByZXR1cm4gcmVmVGFyZ2V0O1xufTtcblxuXG4vKipcbiAqIOinhuWbvuabtOaWsOWHveaVsFxuICpcbiAqIEBwYXJhbSB7QXJyYXk/fSBjaGFuZ2VzIOaVsOaNruWPmOWMluS/oeaBr1xuICovXG5Db21wb25lbnQucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgIGlmICh0aGlzLmxpZmVDeWNsZS5kaXNwb3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1lID0gdGhpcztcblxuXG4gICAgdmFyIG5lZWRSZWxvYWRGb3JTbG90ID0gZmFsc2U7XG4gICAgdGhpcy5fbm90aWZ5TmVlZFJlbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbmVlZFJlbG9hZEZvclNsb3QgPSB0cnVlO1xuICAgIH07XG5cbiAgICBpZiAoY2hhbmdlcykge1xuICAgICAgICBlYWNoKGNoYW5nZXMsIGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VFeHByID0gY2hhbmdlLmV4cHI7XG5cbiAgICAgICAgICAgIGVhY2gobWUuYmluZHMsIGZ1bmN0aW9uIChiaW5kSXRlbSkge1xuICAgICAgICAgICAgICAgIHZhciByZWxhdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgc2V0RXhwciA9IGJpbmRJdGVtLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZUV4cHIgPSBiaW5kSXRlbS5leHByO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0RhdGFDaGFuZ2VCeUVsZW1lbnQoY2hhbmdlLCBtZSwgc2V0RXhwcilcbiAgICAgICAgICAgICAgICAgICAgJiYgKHJlbGF0aW9uID0gY2hhbmdlRXhwckNvbXBhcmUoY2hhbmdlRXhwciwgdXBkYXRlRXhwciwgbWUuc2NvcGUpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVsYXRpb24gPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFeHByID0gY3JlYXRlQWNjZXNzb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5TVFJJTkcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2V0RXhwclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5jb25jYXQoY2hhbmdlRXhwci5wYXRocy5zbGljZSh1cGRhdGVFeHByLnBhdGhzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVFeHByID0gY2hhbmdlRXhwcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG1lLmRhdGEuc2V0KHNldEV4cHIsIGV2YWxFeHByKHVwZGF0ZUV4cHIsIG1lLnNjb3BlLCBtZS5vd25lciksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZS5vd25lci5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWFjaChtZS5naXZlbk5hbWVkU2xvdEJpbmRzLCBmdW5jdGlvbiAoYmluZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBuZWVkUmVsb2FkRm9yU2xvdCA9IG5lZWRSZWxvYWRGb3JTbG90IHx8IGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZUV4cHIsIGJpbmRJdGVtLmV4cHIsIG1lLnNjb3BlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIW5lZWRSZWxvYWRGb3JTbG90O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChuZWVkUmVsb2FkRm9yU2xvdCkge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlR2l2ZW5TbG90cygpO1xuICAgICAgICAgICAgdGhpcy5fcmVwYWludENoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2xvdENoaWxkcmVuTGVuID0gdGhpcy5zbG90Q2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKHNsb3RDaGlsZHJlbkxlbi0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNsb3RDaGlsZCA9IHRoaXMuc2xvdENoaWxkcmVuW3Nsb3RDaGlsZHJlbkxlbl07XG5cbiAgICAgICAgICAgICAgICBpZiAoc2xvdENoaWxkLmxpZmVDeWNsZS5kaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsb3RDaGlsZHJlbi5zcGxpY2Uoc2xvdENoaWxkcmVuTGVuLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2xvdENoaWxkLmlzSW5zZXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xvdENoaWxkLl91cGRhdGUoY2hhbmdlcywgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRhdGFDaGFuZ2VzID0gdGhpcy5kYXRhQ2hhbmdlcztcbiAgICBpZiAoZGF0YUNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy5kYXRhQ2hhbmdlcyA9IG51bGw7XG4gICAgICAgIGVhY2godGhpcy5hTm9kZS5ob3RzcG90LmR5bmFtaWNQcm9wcywgZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIGVhY2goZGF0YUNoYW5nZXMsIGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlRXhwckNvbXBhcmUoY2hhbmdlLmV4cHIsIHByb3AuZXhwciwgbWUuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgfHwgcHJvcC5oaW50RXhwciAmJiBjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2UuZXhwciwgcHJvcC5oaW50RXhwciwgbWUuZGF0YSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUHJvcChtZSwgZXZhbEV4cHIocHJvcC5leHByLCBtZS5kYXRhLCBtZSksIHByb3ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVsZW1lbnRVcGRhdGVDaGlsZHJlbih0aGlzLCBkYXRhQ2hhbmdlcyk7XG4gICAgICAgIGlmIChuZWVkUmVsb2FkRm9yU2xvdCkge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlR2l2ZW5TbG90cygpO1xuICAgICAgICAgICAgdGhpcy5fcmVwYWludENoaWxkcmVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90b1BoYXNlKCd1cGRhdGVkJyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3duZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUJpbmR4T3duZXIoZGF0YUNoYW5nZXMpO1xuICAgICAgICAgICAgdGhpcy5vd25lci5fdXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9ub3RpZnlOZWVkUmVsb2FkID0gbnVsbDtcbn07XG5cbkNvbXBvbmVudC5wcm90b3R5cGUuX3VwZGF0ZUJpbmR4T3duZXIgPSBmdW5jdGlvbiAoZGF0YUNoYW5nZXMpIHtcbiAgICB2YXIgbWUgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMub3duZXIpIHtcbiAgICAgICAgZWFjaChkYXRhQ2hhbmdlcywgZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICAgICAgZWFjaChtZS5iaW5kcywgZnVuY3Rpb24gKGJpbmRJdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoYW5nZUV4cHIgPSBjaGFuZ2UuZXhwcjtcbiAgICAgICAgICAgICAgICBpZiAoYmluZEl0ZW0ueFxuICAgICAgICAgICAgICAgICAgICAmJiAhaXNEYXRhQ2hhbmdlQnlFbGVtZW50KGNoYW5nZSwgbWUub3duZXIpXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZUV4cHIsIHBhcnNlRXhwcihiaW5kSXRlbS5uYW1lKSwgbWUuZGF0YSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVNjb3BlRXhwciA9IGJpbmRJdGVtLmV4cHI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VFeHByLnBhdGhzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlRXhwciA9IGNyZWF0ZUFjY2Vzc29yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRJdGVtLmV4cHIucGF0aHMuY29uY2F0KGNoYW5nZUV4cHIucGF0aHMuc2xpY2UoMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbWUuc2NvcGUuc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2NvcGVFeHByLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZhbEV4cHIoY2hhbmdlRXhwciwgbWUuZGF0YSwgbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbWUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3A6IGJpbmRJdGVtLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICog6YeN5paw57uY5Yi257uE5Lu255qE5YaF5a65XG4gKiDlvZMgZHluYW1pYyBzbG90IG5hbWUg5Y+R55Sf5Y+Y5pu05oiWIHNsb3Qg5Yy56YWN5Y+R55Sf5Y+Y5YyW5pe277yM6YeN5paw57uY5Yi2XG4gKiDlnKjnu4Tku7bnuqfliKvph43nu5jmnInngrnnspfmmrTvvIzkvYbmmK/og73kv53or4Hop4blm77nu5PmnpzmraPnoa7mgKdcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5fcmVwYWludENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuICAgIGVsZW1lbnREaXNwb3NlQ2hpbGRyZW4odGhpcywgMCwgMSk7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgdGhpcy5fY29udGVudFJlYWR5ID0gMDtcbiAgICB0aGlzLnNsb3RDaGlsZHJlbiA9IFtdO1xuICAgIGVsZW1lbnRBdHRhY2godGhpcyk7XG59O1xuXG5cbi8qKlxuICog57uE5Lu25YaF6YOo55uR5ZCs5pWw5o2u5Y+Y5YyW55qE5Ye95pWwXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjaGFuZ2Ug5pWw5o2u5Y+Y5YyW5L+h5oGvXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuX2RhdGFDaGFuZ2VyID0gZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgIGlmICh0aGlzLmxpZmVDeWNsZS5wYWludGluZyB8fCB0aGlzLmxpZmVDeWNsZS5jcmVhdGVkKSB7XG4gICAgICAgIGlmICghdGhpcy5kYXRhQ2hhbmdlcykge1xuICAgICAgICAgICAgbmV4dFRpY2sodGhpcy5fdXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5nZXMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZXMucHVzaChjaGFuZ2UpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmxpZmVDeWNsZS5pbml0ZWQgJiYgdGhpcy5vd25lcikge1xuICAgICAgICB0aGlzLl91cGRhdGVCaW5keE93bmVyKFtjaGFuZ2VdKTtcbiAgICB9XG59O1xuXG5cbi8qKlxuICog55uR5ZCs57uE5Lu255qE5pWw5o2u5Y+Y5YyWXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFOYW1lIOWPmOWMlueahOaVsOaNrumhuVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIg55uR5ZCs5Ye95pWwXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbiAoZGF0YU5hbWUsIGxpc3RlbmVyKSB7XG4gICAgdmFyIGRhdGFFeHByID0gcGFyc2VFeHByKGRhdGFOYW1lKTtcblxuICAgIHRoaXMuZGF0YS5saXN0ZW4oYmluZChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICAgIGlmIChjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2UuZXhwciwgZGF0YUV4cHIsIHRoaXMuZGF0YSkpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgZXZhbEV4cHIoZGF0YUV4cHIsIHRoaXMuZGF0YSwgdGhpcyksIGNoYW5nZSk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKSk7XG59O1xuXG4vKipcbiAqIOe7hOS7tumUgOavgeeahOihjOS4ulxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOmUgOavgeihjOS4uueahOWPguaVsFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UgPSBlbGVtZW50T3duRGlzcG9zZTtcblxuQ29tcG9uZW50LnByb3RvdHlwZS5fZG9uZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmxlYXZlRGlzcG9zZSkge1xuICAgICAgICBpZiAoIXRoaXMubGlmZUN5Y2xlLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICAvLyDov5nph4zkuI3nlKjmjKjkuKrosIPnlKggZGlzcG9zZSDkuobvvIzlm6DkuLogY2hpbGRyZW4g6YeK5pS+6ZO+5Lya6LCD55So55qEXG4gICAgICAgICAgICB0aGlzLnNsb3RDaGlsZHJlbiA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuZGF0YS51bmxpc3RlbigpO1xuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFuZ2VzID0gbnVsbDtcblxuICAgICAgICAgICAgZWxlbWVudERpc3Bvc2UoXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VOb0RldGFjaCxcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VOb1RyYW5zaXRpb25cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycyA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuZ2l2ZW5BTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdpdmVuU2xvdHMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5naXZlbk5hbWVkU2xvdEJpbmRzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmxpZmVDeWNsZS5hdHRhY2hlZCkge1xuICAgICAgICByZW1vdmVFbCh0aGlzLmVsKTtcbiAgICAgICAgdGhpcy5fdG9QaGFzZSgnZGV0YWNoZWQnKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOWujOaIkOe7hOS7tiBhdHRhY2hlZCDlkI7nmoTooYzkuLpcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCDlhYPntKDoioLngrlcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5fYXR0YWNoZWQgPSBlbGVtZW50T3duQXR0YWNoZWQ7XG5cbkNvbXBvbmVudC5wcm90b3R5cGUuYXR0YWNoID0gZWxlbWVudE93bkF0dGFjaDtcbkNvbXBvbmVudC5wcm90b3R5cGUuZGV0YWNoID0gZWxlbWVudE93bkRldGFjaDtcbkNvbXBvbmVudC5wcm90b3R5cGUuX2NyZWF0ZSA9IGVsZW1lbnRPd25DcmVhdGU7XG5Db21wb25lbnQucHJvdG90eXBlLl9vbkVsID0gZWxlbWVudE93bk9uRWw7XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gQ29tcG9uZW50O1xuXG5cbi8qKlxuICogQGZpbGUg5Yib5bu657uE5Lu257G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9jb21wb25lbnQnKTtcbi8vIHZhciBpbmhlcml0cyA9IHJlcXVpcmUoJy4uL3V0aWwvaW5oZXJpdHMnKTtcblxuLyoqXG4gKiDliJvlu7rnu4Tku7bnsbtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8g57uE5Lu257G755qE5pa55rOV6KGoXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KHByb3RvKSB7XG4gICAgLy8g5aaC5p6c5Lyg5YWl5LiA5Liq5LiN5pivIHNhbiBjb21wb25lbnQg55qEIGNvbnN0cnVjdG9y77yM55u05o6l6L+U5Zue5LiN5piv57uE5Lu25p6E6YCg5Ye95pWwXG4gICAgLy8g6L+Z56eN5Zy65pmv5a+86Ie055qE6ZSZ6K+vIHNhbiDkuI3kuojogIPomZFcbiAgICBpZiAodHlwZW9mIHByb3RvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBwcm90bztcbiAgICB9XG5cbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIGlmICh0eXBlb2YgcHJvdG8gIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBGQVRBTF0gcGFyYW0gbXVzdCBiZSBhIHBsYWluIG9iamVjdC4nKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICBmdW5jdGlvbiBDb21wb25lbnRDbGFzcyhvcHRpb24pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICBDb21wb25lbnQuY2FsbCh0aGlzLCBvcHRpb24pO1xuICAgIH1cblxuICAgIENvbXBvbmVudENsYXNzLnByb3RvdHlwZSA9IHByb3RvO1xuICAgIGluaGVyaXRzKENvbXBvbmVudENsYXNzLCBDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIENvbXBvbmVudENsYXNzO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVDb21wb25lbnQ7XG5cblxuLyoqXG4gKiBAZmlsZSDnvJbor5Hnu4Tku7bnsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIGNyZWF0ZUFOb2RlID0gcmVxdWlyZSgnLi4vcGFyc2VyL2NyZWF0ZS1hLW5vZGUnKTtcbi8vIHZhciBwYXJzZVRlbXBsYXRlID0gcmVxdWlyZSgnLi4vcGFyc2VyL3BhcnNlLXRlbXBsYXRlJyk7XG4vLyB2YXIgcGFyc2VUZXh0ID0gcmVxdWlyZSgnLi4vcGFyc2VyL3BhcnNlLXRleHQnKTtcbi8vIHZhciBkZWZpbmVDb21wb25lbnQgPSByZXF1aXJlKCcuL2RlZmluZS1jb21wb25lbnQnKTtcblxuXG4vKipcbiAqIOe8luivkee7hOS7tuexu+OAgumihOino+aekHRlbXBsYXRl5ZKMY29tcG9uZW50c1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IENvbXBvbmVudENsYXNzIOe7hOS7tuexu1xuICovXG5mdW5jdGlvbiBjb21waWxlQ29tcG9uZW50KENvbXBvbmVudENsYXNzKSB7XG4gICAgdmFyIHByb3RvID0gQ29tcG9uZW50Q2xhc3MucHJvdG90eXBlO1xuXG4gICAgLy8gcHJlIGRlZmluZSBjb21wb25lbnRzIGNsYXNzXG4gICAgaWYgKCFwcm90by5oYXNPd25Qcm9wZXJ0eSgnX2NtcHRSZWFkeScpKSB7XG4gICAgICAgIHByb3RvLmNvbXBvbmVudHMgPSBDb21wb25lbnRDbGFzcy5jb21wb25lbnRzIHx8IHByb3RvLmNvbXBvbmVudHMgfHwge307XG4gICAgICAgIHZhciBjb21wb25lbnRzID0gcHJvdG8uY29tcG9uZW50cztcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gY29tcG9uZW50cykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50Q2xhc3MgPSBjb21wb25lbnRzW2tleV07XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50c1trZXldID0gZGVmaW5lQ29tcG9uZW50KGNvbXBvbmVudENsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBvbmVudENsYXNzID09PSAnc2VsZicpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzW2tleV0gPSBDb21wb25lbnRDbGFzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RvLl9jbXB0UmVhZHkgPSAxO1xuICAgIH1cblxuXG4gICAgLy8gcHJlIGNvbXBpbGUgdGVtcGxhdGVcbiAgICBpZiAoIXByb3RvLmhhc093blByb3BlcnR5KCdhTm9kZScpKSB7XG4gICAgICAgIHByb3RvLmFOb2RlID0gY3JlYXRlQU5vZGUoKTtcblxuICAgICAgICB2YXIgdHBsID0gQ29tcG9uZW50Q2xhc3MudGVtcGxhdGUgfHwgcHJvdG8udGVtcGxhdGU7XG4gICAgICAgIGlmICh0cGwpIHtcbiAgICAgICAgICAgIHZhciBhTm9kZSA9IHBhcnNlVGVtcGxhdGUodHBsLCB7XG4gICAgICAgICAgICAgICAgdHJpbVdoaXRlc3BhY2U6IHByb3RvLnRyaW1XaGl0ZXNwYWNlIHx8IENvbXBvbmVudENsYXNzLnRyaW1XaGl0ZXNwYWNlLFxuICAgICAgICAgICAgICAgIGRlbGltaXRlcnM6IHByb3RvLmRlbGltaXRlcnMgfHwgQ29tcG9uZW50Q2xhc3MuZGVsaW1pdGVyc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgZmlyc3RDaGlsZCA9IGFOb2RlLmNoaWxkcmVuWzBdO1xuXG4gICAgICAgICAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgICAgICAgICAgaWYgKGFOb2RlLmNoaWxkcmVuLmxlbmd0aCAhPT0gMSB8fCBmaXJzdENoaWxkLnRleHRFeHByKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEZBVEFMXSB0ZW1wbGF0ZSBtdXN0IGhhdmUgYSByb290IGVsZW1lbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAjW2VuZF1cblxuICAgICAgICAgICAgcHJvdG8uYU5vZGUgPSBmaXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKGZpcnN0Q2hpbGQudGFnTmFtZSA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAgICAgICAgIGZpcnN0Q2hpbGQudGFnTmFtZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb21wb25lbnRQcm9wRXh0cmEgPSB7XG4gICAgICAgICAgICAgICAgJ2NsYXNzJzoge25hbWU6ICdjbGFzcycsIGV4cHI6IHBhcnNlVGV4dCgne3tjbGFzcyB8IF9jbGFzcyB8IF9zZXAoXCIgXCIpfX0nKX0sXG4gICAgICAgICAgICAgICAgJ3N0eWxlJzoge25hbWU6ICdzdHlsZScsIGV4cHI6IHBhcnNlVGV4dCgne3tzdHlsZSB8IF9zdHlsZSB8IF9zZXAoXCI7XCIpfX0nKX0sXG4gICAgICAgICAgICAgICAgJ2lkJzoge25hbWU6ICdpZCcsIGV4cHI6IHBhcnNlVGV4dCgne3tpZH19Jyl9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbGVuID0gZmlyc3RDaGlsZC5wcm9wcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IGZpcnN0Q2hpbGQucHJvcHNbbGVuXTtcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmEgPSBjb21wb25lbnRQcm9wRXh0cmFbcHJvcC5uYW1lXTtcblxuICAgICAgICAgICAgICAgIGlmIChleHRyYSkge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdENoaWxkLnByb3BzLnNwbGljZShsZW4sIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wRXh0cmFbcHJvcC5uYW1lXSA9IHByb3A7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AubmFtZSAhPT0gJ2lkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC5leHByLnNlZ3MucHVzaChleHRyYS5leHByLnNlZ3NbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC5leHByLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlyc3RDaGlsZC5wcm9wcy5wdXNoKFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BFeHRyYVsnY2xhc3MnXSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wRXh0cmEuc3R5bGUsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcEV4dHJhLmlkXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjb21waWxlQ29tcG9uZW50O1xuXG5cbi8qKlxuICogQGZpbGUg57uE5Lu26aKE54OtXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvZXhwci10eXBlJyk7XG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIGNyZWF0ZUVsID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9jcmVhdGUtZWwnKTtcbi8vIHZhciBnZXRQcm9wSGFuZGxlciA9IHJlcXVpcmUoJy4vZ2V0LXByb3AtaGFuZGxlcicpO1xuLy8gdmFyIGdldEFOb2RlUHJvcCA9IHJlcXVpcmUoJy4vZ2V0LWEtbm9kZS1wcm9wJyk7XG4vLyB2YXIgaXNCcm93c2VyID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pcy1icm93c2VyJyk7XG5cbi8qKlxuICog57uE5Lu26aKE54Ot77yM5YiG5p6Q57uE5Lu2YU5vZGXnmoTmlbDmja7lvJXnlKjnrYnkv6Hmga9cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb21wb25lbnRDbGFzcyDnu4Tku7bnsbtcbiAqL1xuZnVuY3Rpb24gY29tcG9uZW50UHJlaGVhdChDb21wb25lbnRDbGFzcykge1xuICAgIHZhciBzdGFjayA9IFtdO1xuXG4gICAgZnVuY3Rpb24gcmVjb3JkSG90c3BvdERhdGEocmVmcywgbm90Q29udGVudERhdGEpIHtcbiAgICAgICAgdmFyIGxlbiA9IHN0YWNrLmxlbmd0aDtcbiAgICAgICAgZWFjaChzdGFjaywgZnVuY3Rpb24gKGFOb2RlLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKCFub3RDb250ZW50RGF0YSB8fCBpbmRleCAhPT0gbGVuIC0gMSkge1xuICAgICAgICAgICAgICAgIGVhY2gocmVmcywgZnVuY3Rpb24gKHJlZikge1xuICAgICAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90LmRhdGFbcmVmXSA9IDE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYW5hbHlzZUFOb2RlSG90c3BvdChhTm9kZSkge1xuICAgICAgICBpZiAoIWFOb2RlLmhvdHNwb3QpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goYU5vZGUpO1xuXG5cbiAgICAgICAgICAgIGlmIChhTm9kZS50ZXh0RXhwcikge1xuICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QgPSB7ZGF0YToge319O1xuICAgICAgICAgICAgICAgIHJlY29yZEhvdHNwb3REYXRhKGFuYWx5c2VFeHByRGF0YUhvdHNwb3QoYU5vZGUudGV4dEV4cHIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VOb2RlO1xuICAgICAgICAgICAgICAgIGlmIChpc0Jyb3dzZXIgJiYgYU5vZGUudGFnTmFtZSAmJiAhL14odGVtcGxhdGV8c2xvdHxzZWxlY3R8aW5wdXR8b3B0aW9uKSQvaS50ZXN0KGFOb2RlLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZU5vZGUgPSBjcmVhdGVFbChhTm9kZS50YWdOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90ID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgZHluYW1pY1Byb3BzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgeFByb3BzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VOb2RlOiBzb3VyY2VOb2RlXG4gICAgICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICAgICAgLy8gPT09IGFuYWx5c2UgaG90c3BvdCBkYXRhOiBzdGFydFxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUudmFycywgZnVuY3Rpb24gKHZhckl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkSG90c3BvdERhdGEoYW5hbHlzZUV4cHJEYXRhSG90c3BvdCh2YXJJdGVtLmV4cHIpKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUucHJvcHMsIGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZEhvdHNwb3REYXRhKGFuYWx5c2VFeHByRGF0YUhvdHNwb3QocHJvcC5leHByKSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBndWFyZC1mb3ItaW4gKi9cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYU5vZGUuZGlyZWN0aXZlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gYU5vZGUuZGlyZWN0aXZlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZWNvcmRIb3RzcG90RGF0YShhbmFseXNlRXhwckRhdGFIb3RzcG90KGRpcmVjdGl2ZS52YWx1ZSksIGtleSAhPT0gJ2h0bWwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBndWFyZC1mb3ItaW4gKi9cblxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUuZWxzZXMsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBhbmFseXNlQU5vZGVIb3RzcG90KGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBhbmFseXNlQU5vZGVIb3RzcG90KGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyA9PT0gYW5hbHlzZSBob3RzcG90IGRhdGE6IGVuZFxuXG5cbiAgICAgICAgICAgICAgICAvLyA9PT0gYW5hbHlzZSBob3RzcG90IHByb3BzOiBzdGFydFxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUucHJvcHMsIGZ1bmN0aW9uIChwcm9wLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90LnByb3BzW3Byb3AubmFtZV0gPSBpbmRleDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcC5uYW1lID09PSAnaWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wLmlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QuaWRQcm9wID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QuZHluYW1pY1Byb3BzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcC5leHByLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJvcEhhbmRsZXIoYU5vZGUudGFnTmFtZSwgcHJvcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucHJvcChzb3VyY2VOb2RlLCBwcm9wLmV4cHIudmFsdWUsIHByb3AubmFtZSwgYU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QueFByb3BzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90LmR5bmFtaWNQcm9wcy5wdXNoKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZSDkuIvvvIzlpoLmnpwgb3B0aW9uIOayoeaciSB2YWx1ZSDlsZ7mgKfvvIxzZWxlY3QudmFsdWUgPSB4eCDmk43kvZzkuI3kvJrpgInkuK0gb3B0aW9uXG4gICAgICAgICAgICAgICAgLy8g5omA5Lul5rKh5pyJ6K6+572uIHZhbHVlIOaXtu+8jOm7mOiupOaKiiBvcHRpb24g55qE5YaF5a655L2c5Li6IHZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKGFOb2RlLnRhZ05hbWUgPT09ICdvcHRpb24nXG4gICAgICAgICAgICAgICAgICAgICYmICFnZXRBTm9kZVByb3AoYU5vZGUsICd2YWx1ZScpXG4gICAgICAgICAgICAgICAgICAgICYmIGFOb2RlLmNoaWxkcmVuWzBdXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVByb3AgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAndmFsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcjogYU5vZGUuY2hpbGRyZW5bMF0udGV4dEV4cHJcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYU5vZGUucHJvcHMucHVzaCh2YWx1ZVByb3ApO1xuICAgICAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90LmR5bmFtaWNQcm9wcy5wdXNoKHZhbHVlUHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QucHJvcHMudmFsdWUgPSBhTm9kZS5wcm9wcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA9PT0gYW5hbHlzZSBob3RzcG90IHByb3BzOiBlbmRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmFseXNlQU5vZGVIb3RzcG90KENvbXBvbmVudENsYXNzLnByb3RvdHlwZS5hTm9kZSk7XG59XG5cbi8qKlxuICog5YiG5p6Q6KGo6L6+5byP55qE5pWw5o2u5byV55SoXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGV4cHIg6KaB5YiG5p6Q55qE6KGo6L6+5byPXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gYW5hbHlzZUV4cHJEYXRhSG90c3BvdChleHByKSB7XG4gICAgdmFyIHJlZnMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGFuYWx5c2VFeHBycyhleHBycykge1xuICAgICAgICBlYWNoKGV4cHJzLCBmdW5jdGlvbiAoZXhwcikge1xuICAgICAgICAgICAgcmVmcyA9IHJlZnMuY29uY2F0KGFuYWx5c2VFeHByRGF0YUhvdHNwb3QoZXhwcikpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGV4cHIudHlwZSkge1xuICAgICAgICBjYXNlIEV4cHJUeXBlLkFDQ0VTU09SOlxuICAgICAgICAgICAgdmFyIHBhdGhzID0gZXhwci5wYXRocztcbiAgICAgICAgICAgIHJlZnMucHVzaChwYXRoc1swXS52YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChwYXRocy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKHBhdGhzWzBdLnZhbHVlICsgJy4nICsgKHBhdGhzWzFdLnZhbHVlIHx8ICcqJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhbmFseXNlRXhwcnMocGF0aHMuc2xpY2UoMSkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFeHByVHlwZS5VTkFSWTpcbiAgICAgICAgICAgIHJldHVybiBhbmFseXNlRXhwckRhdGFIb3RzcG90KGV4cHIuZXhwcik7XG5cbiAgICAgICAgY2FzZSBFeHByVHlwZS5URVhUOlxuICAgICAgICBjYXNlIEV4cHJUeXBlLkJJTkFSWTpcbiAgICAgICAgY2FzZSBFeHByVHlwZS5URVJUSUFSWTpcbiAgICAgICAgICAgIGFuYWx5c2VFeHBycyhleHByLnNlZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFeHByVHlwZS5JTlRFUlA6XG4gICAgICAgICAgICByZWZzID0gYW5hbHlzZUV4cHJEYXRhSG90c3BvdChleHByLmV4cHIpO1xuXG4gICAgICAgICAgICBlYWNoKGV4cHIuZmlsdGVycywgZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICAgICAgICAgIGFuYWx5c2VFeHBycyhmaWx0ZXIubmFtZS5wYXRocyk7XG4gICAgICAgICAgICAgICAgYW5hbHlzZUV4cHJzKGZpbHRlci5hcmdzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBicmVhaztcblxuICAgIH1cblxuICAgIHJldHVybiByZWZzO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjb21wb25lbnRQcmVoZWF0O1xuXG5cbi8qKlxuICogQGZpbGUg5bCGIGJpbmRzIOeahCBuYW1lIOS7jiBrZWJhYmNhc2Ug6L2s5o2i5oiQIGNhbWVsY2FzZVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGtlYmFiMmNhbWVsID0gcmVxdWlyZSgnLi4vdXRpbC9rZWJhYjJjYW1lbCcpO1xuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcblxuLyoqXG4gKiDlsIYgYmluZHMg55qEIG5hbWUg5LuOIGtlYmFiY2FzZSDovazmjaLmiJAgY2FtZWxjYXNlXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYmluZHMgYmluZHPpm4blkIhcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiBjYW1lbENvbXBvbmVudEJpbmRzKGJpbmRzKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGVhY2goYmluZHMsIGZ1bmN0aW9uIChiaW5kKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGtlYmFiMmNhbWVsKGJpbmQubmFtZSksXG4gICAgICAgICAgICBleHByOiBiaW5kLmV4cHIsXG4gICAgICAgICAgICB4OiBiaW5kLngsXG4gICAgICAgICAgICByYXc6IGJpbmQucmF3XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY2FtZWxDb21wb25lbnRCaW5kcztcblxuXG4vKipcbiAqIEBmaWxlIOe8luivkea6kOeggeeahCBoZWxwZXIg5pa55rOV6ZuG5ZCIXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi4vcGFyc2VyL2V4cHItdHlwZScpO1xuXG4vLyAjW2JlZ2luXSBzc3Jcbi8vIFxuLy8gLyoqXG4vLyAgKiDnvJbor5HmupDnoIHnmoQgaGVscGVyIOaWueazlembhuWQiOWvueixoVxuLy8gICovXG4vLyB2YXIgY29tcGlsZUV4cHJTb3VyY2UgPSB7XG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDlrZfnrKbkuLLlrZfpnaLljJZcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug6ZyA6KaB5a2X6Z2i5YyW55qE5a2X56ym5LiyXG4vLyAgICAgICogQHJldHVybiB7c3RyaW5nfSDlrZfnrKbkuLLlrZfpnaLljJbnu5Pmnpxcbi8vICAgICAgKi9cbi8vICAgICBzdHJpbmdMaXRlcmFsaXplOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgIHJldHVybiAnXCInXG4vLyAgICAgICAgICAgICArIHNvdXJjZVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHg1Qy9nLCAnXFxcXFxcXFwnKVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJylcbi8vICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx4MEEvZywgJ1xcXFxuJylcbi8vICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx4MDkvZywgJ1xcXFx0Jylcbi8vICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx4MEQvZywgJ1xcXFxyJylcbi8vICAgICAgICAgICAgICAgICAvLyAucmVwbGFjZSggL1xceDA4L2csICdcXFxcYicgKVxuLy8gICAgICAgICAgICAgICAgIC8vIC5yZXBsYWNlKCAvXFx4MEMvZywgJ1xcXFxmJyApXG4vLyAgICAgICAgICAgICArICdcIic7XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOeUn+aIkOaVsOaNruiuv+mXruihqOi+vuW8j+S7o+eggVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtPYmplY3Q/fSBhY2Nlc3NvckV4cHIgYWNjZXNzb3Looajovr7lvI/lr7nosaFcbi8vICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4vLyAgICAgICovXG4vLyAgICAgZGF0YUFjY2VzczogZnVuY3Rpb24gKGFjY2Vzc29yRXhwcikge1xuLy8gICAgICAgICB2YXIgY29kZSA9ICdjb21wb25lbnRDdHguZGF0YSc7XG4vLyAgICAgICAgIGlmIChhY2Nlc3NvckV4cHIpIHtcbi8vICAgICAgICAgICAgIGVhY2goYWNjZXNzb3JFeHByLnBhdGhzLCBmdW5jdGlvbiAocGF0aCkge1xuLy8gICAgICAgICAgICAgICAgIGlmIChwYXRoLnR5cGUgPT09IEV4cHJUeXBlLkFDQ0VTU09SKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gJ1snICsgY29tcGlsZUV4cHJTb3VyY2UuZGF0YUFjY2VzcyhwYXRoKSArICddJztcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHBhdGgudmFsdWUpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gJy4nICsgcGF0aC52YWx1ZTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlICs9ICdbJyArIHBhdGgudmFsdWUgKyAnXSc7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHJldHVybiBjb2RlO1xuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnlJ/miJDmj5LlgLzku6PnoIFcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnRlcnBFeHByIOaPkuWAvOihqOi+vuW8j+WvueixoVxuLy8gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbi8vICAgICAgKi9cbi8vICAgICBpbnRlcnA6IGZ1bmN0aW9uIChpbnRlcnBFeHByKSB7XG4vLyAgICAgICAgIHZhciBjb2RlID0gY29tcGlsZUV4cHJTb3VyY2UuZXhwcihpbnRlcnBFeHByLmV4cHIpO1xuLy8gXG4vLyBcbi8vICAgICAgICAgZWFjaChpbnRlcnBFeHByLmZpbHRlcnMsIGZ1bmN0aW9uIChmaWx0ZXIpIHtcbi8vICAgICAgICAgICAgIGNvZGUgPSAnY29tcG9uZW50Q3R4LmNhbGxGaWx0ZXIoXCInICsgZmlsdGVyLm5hbWUucGF0aHNbMF0udmFsdWUgKyAnXCIsIFsnICsgY29kZTtcbi8vICAgICAgICAgICAgIGVhY2goZmlsdGVyLmFyZ3MsIGZ1bmN0aW9uIChhcmcpIHtcbi8vICAgICAgICAgICAgICAgICBjb2RlICs9ICcsICcgKyBjb21waWxlRXhwclNvdXJjZS5leHByKGFyZyk7XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICAgIGNvZGUgKz0gJ10pJztcbi8vICAgICAgICAgfSk7XG4vLyBcbi8vICAgICAgICAgaWYgKCFpbnRlcnBFeHByLm9yaWdpbmFsKSB7XG4vLyAgICAgICAgICAgICByZXR1cm4gJ2VzY2FwZUhUTUwoJyArIGNvZGUgKyAnKSc7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICByZXR1cm4gY29kZTtcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgLyoqXG4vLyAgICAgICog55Sf5oiQ5paH5pys54mH5q615Luj56CBXG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gdGV4dEV4cHIg5paH5pys54mH5q616KGo6L6+5byP5a+56LGhXG4vLyAgICAgICogQHJldHVybiB7c3RyaW5nfVxuLy8gICAgICAqL1xuLy8gICAgIHRleHQ6IGZ1bmN0aW9uICh0ZXh0RXhwcikge1xuLy8gICAgICAgICBpZiAodGV4dEV4cHIuc2Vncy5sZW5ndGggPT09IDApIHtcbi8vICAgICAgICAgICAgIHJldHVybiAnXCJcIic7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICB2YXIgY29kZSA9ICcnO1xuLy8gXG4vLyAgICAgICAgIGVhY2godGV4dEV4cHIuc2VncywgZnVuY3Rpb24gKHNlZykge1xuLy8gICAgICAgICAgICAgdmFyIHNlZ0NvZGUgPSBjb21waWxlRXhwclNvdXJjZS5leHByKHNlZyk7XG4vLyAgICAgICAgICAgICBjb2RlICs9IGNvZGUgPyAnICsgJyArIHNlZ0NvZGUgOiBzZWdDb2RlO1xuLy8gICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICByZXR1cm4gY29kZTtcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgLyoqXG4vLyAgICAgICog5LqM5YWD6KGo6L6+5byP5pON5L2c56ym5pig5bCE6KGoXG4vLyAgICAgICpcbi8vICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuLy8gICAgICAqL1xuLy8gICAgIGJpbmFyeU9wOiB7XG4vLyAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4vLyAgICAgICAgIDQzOiAnKycsXG4vLyAgICAgICAgIDQ1OiAnLScsXG4vLyAgICAgICAgIDQyOiAnKicsXG4vLyAgICAgICAgIDQ3OiAnLycsXG4vLyAgICAgICAgIDYwOiAnPCcsXG4vLyAgICAgICAgIDYyOiAnPicsXG4vLyAgICAgICAgIDc2OiAnJiYnLFxuLy8gICAgICAgICA5NDogJyE9Jyxcbi8vICAgICAgICAgMTIxOiAnPD0nLFxuLy8gICAgICAgICAxMjI6ICc9PScsXG4vLyAgICAgICAgIDEyMzogJz49Jyxcbi8vICAgICAgICAgMTU1OiAnIT09Jyxcbi8vICAgICAgICAgMTgzOiAnPT09Jyxcbi8vICAgICAgICAgMjQ4OiAnfHwnXG4vLyAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbi8vICAgICB9LFxuLy8gXG4vLyAgICAgLyoqXG4vLyAgICAgICog55Sf5oiQ6KGo6L6+5byP5Luj56CBXG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXhwciDooajovr7lvI/lr7nosaFcbi8vICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4vLyAgICAgICovXG4vLyAgICAgZXhwcjogZnVuY3Rpb24gKGV4cHIpIHtcbi8vICAgICAgICAgc3dpdGNoIChleHByLnR5cGUpIHtcbi8vICAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuVU5BUlk6XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICchJyArIGNvbXBpbGVFeHByU291cmNlLmV4cHIoZXhwci5leHByKTtcbi8vIFxuLy8gICAgICAgICAgICAgY2FzZSBFeHByVHlwZS5CSU5BUlk6XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVFeHByU291cmNlLmV4cHIoZXhwci5zZWdzWzBdKVxuLy8gICAgICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmJpbmFyeU9wW2V4cHIub3BlcmF0b3JdXG4vLyAgICAgICAgICAgICAgICAgICAgICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihleHByLnNlZ3NbMV0pO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlIEV4cHJUeXBlLlRFUlRJQVJZOlxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlRXhwclNvdXJjZS5leHByKGV4cHIuc2Vnc1swXSlcbi8vICAgICAgICAgICAgICAgICAgICAgKyAnPycgKyBjb21waWxlRXhwclNvdXJjZS5leHByKGV4cHIuc2Vnc1sxXSlcbi8vICAgICAgICAgICAgICAgICAgICAgKyAnOicgKyBjb21waWxlRXhwclNvdXJjZS5leHByKGV4cHIuc2Vnc1syXSk7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuU1RSSU5HOlxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlRXhwclNvdXJjZS5zdHJpbmdMaXRlcmFsaXplKGV4cHIubGl0ZXJhbCB8fCBleHByLnZhbHVlKTtcbi8vIFxuLy8gICAgICAgICAgICAgY2FzZSBFeHByVHlwZS5OVU1CRVI6XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cHIudmFsdWU7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuQk9PTDpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZXhwci52YWx1ZSA/ICd0cnVlJyA6ICdmYWxzZSc7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuQUNDRVNTT1I6XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVFeHByU291cmNlLmRhdGFBY2Nlc3MoZXhwcik7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuSU5URVJQOlxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlRXhwclNvdXJjZS5pbnRlcnAoZXhwcik7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuVEVYVDpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGlsZUV4cHJTb3VyY2UudGV4dChleHByKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vIH07XG4vLyAjW2VuZF1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY29tcGlsZUV4cHJTb3VyY2U7XG5cblxuLyoqXG4gKiBAZmlsZSDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXLnsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBlYWNoID0gcmVxdWlyZSgnLi4vdXRpbC9lYWNoJyk7XG4vLyB2YXIgY29tcGlsZUV4cHJTb3VyY2UgPSByZXF1aXJlKCcuL2NvbXBpbGUtZXhwci1zb3VyY2UnKTtcblxuXG4vLyAjW2JlZ2luXSBzc3Jcbi8vIC8qKlxuLy8gICog57yW6K+R5rqQ56CB55qE5Lit6Ze0YnVmZmVy57G7XG4vLyAgKlxuLy8gICogQGNsYXNzXG4vLyAgKi9cbi8vIGZ1bmN0aW9uIENvbXBpbGVTb3VyY2VCdWZmZXIoKSB7XG4vLyAgICAgdGhpcy5zZWdzID0gW107XG4vLyB9XG4vLyBcbi8vIC8qKlxuLy8gICog5re75Yqg5Y6f5aeL5Luj56CB77yM5bCG5Y6f5bCB5LiN5Yqo6L6T5Ye6XG4vLyAgKlxuLy8gICogQHBhcmFtIHtzdHJpbmd9IGNvZGUg5Y6f5aeL5Luj56CBXG4vLyAgKi9cbi8vIENvbXBpbGVTb3VyY2VCdWZmZXIucHJvdG90eXBlLmFkZFJhdyA9IGZ1bmN0aW9uIChjb2RlKSB7XG4vLyAgICAgdGhpcy5zZWdzLnB1c2goe1xuLy8gICAgICAgICB0eXBlOiAnUkFXJyxcbi8vICAgICAgICAgY29kZTogY29kZVxuLy8gICAgIH0pO1xuLy8gfTtcbi8vIFxuLy8gLyoqXG4vLyAgKiDmt7vliqDooqvmi7zmjqXkuLpodG1s55qE5Y6f5aeL5Luj56CBXG4vLyAgKlxuLy8gICogQHBhcmFtIHtzdHJpbmd9IGNvZGUg5Y6f5aeL5Luj56CBXG4vLyAgKi9cbi8vIENvbXBpbGVTb3VyY2VCdWZmZXIucHJvdG90eXBlLmpvaW5SYXcgPSBmdW5jdGlvbiAoY29kZSkge1xuLy8gICAgIHRoaXMuc2Vncy5wdXNoKHtcbi8vICAgICAgICAgdHlwZTogJ0pPSU5fUkFXJyxcbi8vICAgICAgICAgY29kZTogY29kZVxuLy8gICAgIH0pO1xuLy8gfTtcbi8vIFxuLy8gLyoqXG4vLyAgKiDmt7vliqByZW5kZXJlcuaWueazleeahOi1t+Wni+a6kOeggVxuLy8gICovXG4vLyBDb21waWxlU291cmNlQnVmZmVyLnByb3RvdHlwZS5hZGRSZW5kZXJlclN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuLy8gICAgIHRoaXMuYWRkUmF3KCdmdW5jdGlvbiAoZGF0YSwgcGFyZW50Q3R4LCBnaXZlblNsb3RzKSB7Jyk7XG4vLyAgICAgdGhpcy5hZGRSYXcoJ3ZhciBodG1sID0gXCJcIjsnKTtcbi8vIH07XG4vLyBcbi8vIC8qKlxuLy8gICog5re75YqgcmVuZGVyZXLmlrnms5XnmoTnu5PmnZ/mupDnoIFcbi8vICAqL1xuLy8gQ29tcGlsZVNvdXJjZUJ1ZmZlci5wcm90b3R5cGUuYWRkUmVuZGVyZXJFbmQgPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgdGhpcy5hZGRSYXcoJ3JldHVybiBodG1sOycpO1xuLy8gICAgIHRoaXMuYWRkUmF3KCd9Jyk7XG4vLyB9O1xuLy8gXG4vLyAvKipcbi8vICAqIOa3u+WKoOiiq+aLvOaOpeS4umh0bWznmoTpnZnmgIHlrZfnrKbkuLJcbi8vICAqXG4vLyAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIOiiq+aLvOaOpeeahOWtl+espuS4slxuLy8gICovXG4vLyBDb21waWxlU291cmNlQnVmZmVyLnByb3RvdHlwZS5qb2luU3RyaW5nID0gZnVuY3Rpb24gKHN0cikge1xuLy8gICAgIHRoaXMuc2Vncy5wdXNoKHtcbi8vICAgICAgICAgc3RyOiBzdHIsXG4vLyAgICAgICAgIHR5cGU6ICdKT0lOX1NUUklORydcbi8vICAgICB9KTtcbi8vIH07XG4vLyBcbi8vIC8qKlxuLy8gICog5re75Yqg6KKr5ou85o6l5Li6aHRtbOeahOaVsOaNruiuv+mXrlxuLy8gICpcbi8vICAqIEBwYXJhbSB7T2JqZWN0P30gYWNjZXNzb3Ig5pWw5o2u6K6/6Zeu6KGo6L6+5byP5a+56LGhXG4vLyAgKi9cbi8vIENvbXBpbGVTb3VyY2VCdWZmZXIucHJvdG90eXBlLmpvaW5EYXRhU3RyaW5naWZ5ID0gZnVuY3Rpb24gKCkge1xuLy8gICAgIHRoaXMuc2Vncy5wdXNoKHtcbi8vICAgICAgICAgdHlwZTogJ0pPSU5fREFUQV9TVFJJTkdJRlknXG4vLyAgICAgfSk7XG4vLyB9O1xuLy8gXG4vLyAvKipcbi8vICAqIOa3u+WKoOiiq+aLvOaOpeS4umh0bWznmoTooajovr7lvI9cbi8vICAqXG4vLyAgKiBAcGFyYW0ge09iamVjdH0gZXhwciDooajovr7lvI/lr7nosaFcbi8vICAqL1xuLy8gQ29tcGlsZVNvdXJjZUJ1ZmZlci5wcm90b3R5cGUuam9pbkV4cHIgPSBmdW5jdGlvbiAoZXhwcikge1xuLy8gICAgIHRoaXMuc2Vncy5wdXNoKHtcbi8vICAgICAgICAgZXhwcjogZXhwcixcbi8vICAgICAgICAgdHlwZTogJ0pPSU5fRVhQUidcbi8vICAgICB9KTtcbi8vIH07XG4vLyBcbi8vIC8qKlxuLy8gICog55Sf5oiQ57yW6K+R5ZCO5Luj56CBXG4vLyAgKlxuLy8gICogQHJldHVybiB7c3RyaW5nfVxuLy8gICovXG4vLyBDb21waWxlU291cmNlQnVmZmVyLnByb3RvdHlwZS50b0NvZGUgPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgdmFyIGNvZGUgPSBbXTtcbi8vICAgICB2YXIgdGVtcCA9ICcnO1xuLy8gXG4vLyAgICAgZnVuY3Rpb24gZ2VuU3RyTGl0ZXJhbCgpIHtcbi8vICAgICAgICAgaWYgKHRlbXApIHtcbi8vICAgICAgICAgICAgIGNvZGUucHVzaCgnaHRtbCArPSAnICsgY29tcGlsZUV4cHJTb3VyY2Uuc3RyaW5nTGl0ZXJhbGl6ZSh0ZW1wKSArICc7Jyk7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICB0ZW1wID0gJyc7XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZWFjaCh0aGlzLnNlZ3MsIGZ1bmN0aW9uIChzZWcpIHtcbi8vICAgICAgICAgaWYgKHNlZy50eXBlID09PSAnSk9JTl9TVFJJTkcnKSB7XG4vLyAgICAgICAgICAgICB0ZW1wICs9IHNlZy5zdHI7XG4vLyAgICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICBnZW5TdHJMaXRlcmFsKCk7XG4vLyAgICAgICAgIHN3aXRjaCAoc2VnLnR5cGUpIHtcbi8vICAgICAgICAgICAgIGNhc2UgJ0pPSU5fREFUQV9TVFJJTkdJRlknOlxuLy8gICAgICAgICAgICAgICAgIGNvZGUucHVzaCgnaHRtbCArPSBzdHJpbmdpZmllci5hbnkoJyArIGNvbXBpbGVFeHByU291cmNlLmRhdGFBY2Nlc3MoKSArICcpOycpO1xuLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlICdKT0lOX0VYUFInOlxuLy8gICAgICAgICAgICAgICAgIGNvZGUucHVzaCgnaHRtbCArPSAnICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihzZWcuZXhwcikgKyAnOycpO1xuLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlICdKT0lOX1JBVyc6XG4vLyAgICAgICAgICAgICAgICAgY29kZS5wdXNoKCdodG1sICs9ICcgKyBzZWcuY29kZSArICc7Jyk7XG4vLyAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgJ1JBVyc6XG4vLyAgICAgICAgICAgICAgICAgY29kZS5wdXNoKHNlZy5jb2RlKTtcbi8vICAgICAgICAgICAgICAgICBicmVhaztcbi8vIFxuLy8gICAgICAgICB9XG4vLyAgICAgfSk7XG4vLyBcbi8vICAgICBnZW5TdHJMaXRlcmFsKCk7XG4vLyBcbi8vICAgICByZXR1cm4gY29kZS5qb2luKCdcXG4nKTtcbi8vIH07XG4vLyBcbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBDb21waWxlU291cmNlQnVmZmVyO1xuXG5cbi8qKlxuICogQGZpbGUg5bCG57uE5Lu257yW6K+R5oiQIHJlbmRlciDmlrnms5XnmoQganMg5rqQ56CBXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBlYWNoID0gcmVxdWlyZSgnLi4vdXRpbC9lYWNoJyk7XG4vLyB2YXIgZ3VpZCA9IHJlcXVpcmUoJy4uL3V0aWwvZ3VpZCcpO1xuLy8gdmFyIHBhcnNlRXhwciA9IHJlcXVpcmUoJy4uL3BhcnNlci9wYXJzZS1leHByJyk7XG4vLyB2YXIgY3JlYXRlQU5vZGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvY3JlYXRlLWEtbm9kZScpO1xuLy8gdmFyIGNsb25lRGlyZWN0aXZlcyA9IHJlcXVpcmUoJy4uL3BhcnNlci9jbG9uZS1kaXJlY3RpdmVzJyk7XG4vLyB2YXIgYXV0b0Nsb3NlVGFncyA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvYXV0by1jbG9zZS10YWdzJyk7XG4vLyB2YXIgQ29tcGlsZVNvdXJjZUJ1ZmZlciA9IHJlcXVpcmUoJy4vY29tcGlsZS1zb3VyY2UtYnVmZmVyJyk7XG4vLyB2YXIgY29tcGlsZUV4cHJTb3VyY2UgPSByZXF1aXJlKCcuL2NvbXBpbGUtZXhwci1zb3VyY2UnKTtcbi8vIHZhciByaW5zZUNvbmRBTm9kZSA9IHJlcXVpcmUoJy4vcmluc2UtY29uZC1hbm9kZScpO1xuLy8gdmFyIGdldEFOb2RlUHJvcCA9IHJlcXVpcmUoJy4vZ2V0LWEtbm9kZS1wcm9wJyk7XG5cbi8vICNbYmVnaW5dIHNzclxuLy8gXG4vLyAvKipcbi8vICAqIOeUn+aIkOW6j+WIl+WMluaXtui1t+Wni+ahqeeahGh0bWxcbi8vICAqXG4vLyAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSDmoannsbvlnovmoIfor4Zcbi8vICAqIEBwYXJhbSB7c3RyaW5nP30gY29udGVudCDmoanlhoXnmoTlhoXlrrlcbi8vICAqIEByZXR1cm4ge3N0cmluZ31cbi8vICAqL1xuLy8gZnVuY3Rpb24gc2VyaWFsaXplU3R1bXAodHlwZSwgY29udGVudCkge1xuLy8gICAgIHJldHVybiAnPCEtLXMtJyArIHR5cGUgKyAoY29udGVudCA/ICc6JyArIGNvbnRlbnQgOiAnJykgKyAnLS0+Jztcbi8vIH1cbi8vIFxuLy8gLyoqXG4vLyAgKiDnlJ/miJDluo/liJfljJbml7bnu5PmnZ/moannmoRodG1sXG4vLyAgKlxuLy8gICogQHBhcmFtIHtzdHJpbmd9IHR5cGUg5qGp57G75Z6L5qCH6K+GXG4vLyAgKiBAcmV0dXJuIHtzdHJpbmd9XG4vLyAgKi9cbi8vIGZ1bmN0aW9uIHNlcmlhbGl6ZVN0dW1wRW5kKHR5cGUpIHtcbi8vICAgICByZXR1cm4gJzwhLS0vcy0nICsgdHlwZSArICctLT4nO1xuLy8gfVxuLy8gXG4vLyAvKipcbi8vICAqIGVsZW1lbnQg55qE57yW6K+R5pa55rOV6ZuG5ZCI5a+56LGhXG4vLyAgKlxuLy8gICogQGlubmVyXG4vLyAgKi9cbi8vIHZhciBlbGVtZW50U291cmNlQ29tcGlsZXIgPSB7XG4vLyBcbi8vICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtcGFyYW1zICovXG4vLyAgICAgLyoqXG4vLyAgICAgICog57yW6K+R5YWD57Sg5qCH562+5aS0XG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBpbGVTb3VyY2VCdWZmZXJ9IHNvdXJjZUJ1ZmZlciDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXJcbi8vICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSDmoIfnrb7lkI1cbi8vICAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyDlsZ7mgKfliJfooahcbi8vICAgICAgKiBAcGFyYW0ge3N0cmluZz99IGV4dHJhUHJvcCDpop3lpJbnmoTlsZ7mgKfkuLJcbi8vICAgICAgKiBAcGFyYW0ge2Jvb2xlYW4/fSBpc0Nsb3NlIOaYr+WQpumXreWQiFxuLy8gICAgICAqL1xuLy8gICAgIHRhZ1N0YXJ0OiBmdW5jdGlvbiAoc291cmNlQnVmZmVyLCB0YWdOYW1lLCBwcm9wcywgZXh0cmFQcm9wLCBpc0Nsb3NlKSB7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKCc8JyArIHRhZ05hbWUpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuam9pblN0cmluZyhleHRyYVByb3AgfHwgJycpO1xuLy8gXG4vLyAgICAgICAgIC8vIGluZGV4IGxpc3Rcbi8vICAgICAgICAgdmFyIHByb3BzSW5kZXggPSB7fTtcbi8vICAgICAgICAgZWFjaChwcm9wcywgZnVuY3Rpb24gKHByb3ApIHtcbi8vICAgICAgICAgICAgIHByb3BzSW5kZXhbcHJvcC5uYW1lXSA9IHByb3A7XG4vLyAgICAgICAgIH0pO1xuLy8gXG4vLyAgICAgICAgIGVhY2gocHJvcHMsIGZ1bmN0aW9uIChwcm9wKSB7XG4vLyAgICAgICAgICAgICBpZiAocHJvcC5uYW1lID09PSAnc2xvdCcpIHtcbi8vICAgICAgICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgIGlmIChwcm9wLm5hbWUgPT09ICd2YWx1ZScpIHtcbi8vICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZ05hbWUpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCckc2VsZWN0VmFsdWUgPSAnXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBjb21waWxlRXhwclNvdXJjZS5leHByKHByb3AuZXhwcilcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICcgfHwgXCJcIjsnXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ29wdGlvbic6XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCckb3B0aW9uVmFsdWUgPSAnXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBjb21waWxlRXhwclNvdXJjZS5leHByKHByb3AuZXhwcilcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICc7J1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhbHVlXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdpZiAoJG9wdGlvblZhbHVlICE9IG51bGwpIHsnKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luUmF3KCdcIiB2YWx1ZT1cXFxcXCJcIiArICRvcHRpb25WYWx1ZSArIFwiXFxcXFwiXCInKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ30nKTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZWN0ZWRcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ2lmICgkb3B0aW9uVmFsdWUgPT09ICRzZWxlY3RWYWx1ZSkgeycpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5TdHJpbmcoJyBzZWxlY3RlZCcpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgc3dpdGNoIChwcm9wLm5hbWUpIHtcbi8vICAgICAgICAgICAgICAgICBjYXNlICdyZWFkb25seSc6XG4vLyAgICAgICAgICAgICAgICAgY2FzZSAnZGlzYWJsZWQnOlxuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ211bHRpcGxlJzpcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AucmF3ID09PSAnJykge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5TdHJpbmcoJyAnICsgcHJvcC5uYW1lKTtcbi8vICAgICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luUmF3KCdib29sQXR0ckZpbHRlcihcIicgKyBwcm9wLm5hbWUgKyAnXCIsICdcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIocHJvcC5leHByKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJyknXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tlZCc6XG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICh0YWdOYW1lID09PSAnaW5wdXQnKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVQcm9wID0gcHJvcHNJbmRleC52YWx1ZTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZUNvZGUgPSBjb21waWxlRXhwclNvdXJjZS5leHByKHZhbHVlUHJvcC5leHByKTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlUHJvcCkge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcHNJbmRleC50eXBlLnJhdykge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdpZiAoY29udGFpbnMoJ1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihwcm9wLmV4cHIpXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnLCAnXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyB2YWx1ZUNvZGVcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICcpKSB7J1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKCcgY2hlY2tlZCcpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyBcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnaWYgKCdcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIocHJvcC5leHByKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJyA9PT0gJ1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgdmFsdWVDb2RlXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnKSB7J1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKCcgY2hlY2tlZCcpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AuYXR0cikge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5TdHJpbmcoJyAnICsgcHJvcC5hdHRyKTtcbi8vICAgICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luUmF3KCdhdHRyRmlsdGVyKFwiJyArIHByb3AubmFtZSArICdcIiwgJ1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKHByb3AueCA/ICdlc2NhcGVIVE1MKCcgOiAnJylcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIocHJvcC5leHByKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKHByb3AueCA/ICcpJyA6ICcnKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJyknXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuam9pblN0cmluZyhpc0Nsb3NlID8gJy8+JyA6ICc+Jyk7XG4vLyAgICAgfSxcbi8vICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1wYXJhbXMgKi9cbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOe8luivkeWFg+e0oOmXreWQiFxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtDb21waWxlU291cmNlQnVmZmVyfSBzb3VyY2VCdWZmZXIg57yW6K+R5rqQ56CB55qE5Lit6Ze0YnVmZmVyXG4vLyAgICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUg5qCH562+5ZCNXG4vLyAgICAgICovXG4vLyAgICAgdGFnRW5kOiBmdW5jdGlvbiAoc291cmNlQnVmZmVyLCB0YWdOYW1lKSB7XG4vLyAgICAgICAgIGlmICghYXV0b0Nsb3NlVGFnc1t0YWdOYW1lXSkge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5TdHJpbmcoJzwvJyArIHRhZ05hbWUgKyAnPicpO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdzZWxlY3QnKSB7XG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCckc2VsZWN0VmFsdWUgPSBudWxsOycpO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdvcHRpb24nKSB7XG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCckb3B0aW9uVmFsdWUgPSBudWxsOycpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOe8luivkeWFg+e0oOWGheWuuVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtDb21waWxlU291cmNlQnVmZmVyfSBzb3VyY2VCdWZmZXIg57yW6K+R5rqQ56CB55qE5Lit6Ze0YnVmZmVyXG4vLyAgICAgICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg5YWD57Sg55qE5oq96LGh6IqC54K55L+h5oGvXG4vLyAgICAgICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOaJgOWxnue7hOS7tuWunuS+i+eOr+Wig1xuLy8gICAgICAqL1xuLy8gICAgIGlubmVyOiBmdW5jdGlvbiAoc291cmNlQnVmZmVyLCBhTm9kZSwgb3duZXIpIHtcbi8vICAgICAgICAgLy8gaW5uZXIgY29udGVudFxuLy8gICAgICAgICBpZiAoYU5vZGUudGFnTmFtZSA9PT0gJ3RleHRhcmVhJykge1xuLy8gICAgICAgICAgICAgdmFyIHZhbHVlUHJvcCA9IGdldEFOb2RlUHJvcChhTm9kZSwgJ3ZhbHVlJyk7XG4vLyAgICAgICAgICAgICBpZiAodmFsdWVQcm9wKSB7XG4vLyAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5SYXcoJ2VzY2FwZUhUTUwoJ1xuLy8gICAgICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIodmFsdWVQcm9wLmV4cHIpXG4vLyAgICAgICAgICAgICAgICAgICAgICsgJyknXG4vLyAgICAgICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgcmV0dXJuO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgdmFyIGh0bWxEaXJlY3RpdmUgPSBhTm9kZS5kaXJlY3RpdmVzLmh0bWw7XG4vLyAgICAgICAgIGlmIChodG1sRGlyZWN0aXZlKSB7XG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuam9pbkV4cHIoaHRtbERpcmVjdGl2ZS52YWx1ZSk7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgZWxzZSB7XG4vLyAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuLy8gICAgICAgICAgICAgZWFjaChhTm9kZS5jaGlsZHJlbiwgZnVuY3Rpb24gKGFOb2RlQ2hpbGQpIHtcbi8vICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KGFOb2RlQ29tcGlsZXIuY29tcGlsZShhTm9kZUNoaWxkLCBzb3VyY2VCdWZmZXIsIG93bmVyKSk7XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vIH07XG4vLyBcbi8vIC8qKlxuLy8gICogQU5vZGUg55qE57yW6K+R5pa55rOV6ZuG5ZCI5a+56LGhXG4vLyAgKlxuLy8gICogQGlubmVyXG4vLyAgKi9cbi8vIHZhciBhTm9kZUNvbXBpbGVyID0ge1xuLy8gXG4vLyAgICAgLyoqXG4vLyAgICAgICog57yW6K+R6IqC54K5XG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDmir3osaHoioLngrlcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBpbGVTb3VyY2VCdWZmZXJ9IHNvdXJjZUJ1ZmZlciDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXJcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu25a6e5L6L546v5aKDXG4vLyAgICAgICogQHBhcmFtIHtPYmplY3R9IGV4dHJhIOe8luivkeaJgOmcgOeahOS4gOS6m+mineWkluS/oeaBr1xuLy8gICAgICAqL1xuLy8gICAgIGNvbXBpbGU6IGZ1bmN0aW9uIChhTm9kZSwgc291cmNlQnVmZmVyLCBvd25lciwgZXh0cmEpIHtcbi8vICAgICAgICAgZXh0cmEgPSBleHRyYSB8fCB7fTtcbi8vICAgICAgICAgdmFyIGNvbXBpbGVNZXRob2QgPSAnY29tcGlsZUVsZW1lbnQnO1xuLy8gXG4vLyAgICAgICAgIGlmIChhTm9kZS50ZXh0RXhwcikge1xuLy8gICAgICAgICAgICAgY29tcGlsZU1ldGhvZCA9ICdjb21waWxlVGV4dCc7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgZWxzZSBpZiAoYU5vZGUuZGlyZWN0aXZlc1snaWYnXSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuLy8gICAgICAgICAgICAgY29tcGlsZU1ldGhvZCA9ICdjb21waWxlSWYnO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2UgaWYgKGFOb2RlLmRpcmVjdGl2ZXNbJ2ZvciddKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4vLyAgICAgICAgICAgICBjb21waWxlTWV0aG9kID0gJ2NvbXBpbGVGb3InO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2UgaWYgKGFOb2RlLnRhZ05hbWUgPT09ICdzbG90Jykge1xuLy8gICAgICAgICAgICAgY29tcGlsZU1ldGhvZCA9ICdjb21waWxlU2xvdCc7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgZWxzZSBpZiAoYU5vZGUudGFnTmFtZSA9PT0gJ3RlbXBsYXRlJykge1xuLy8gICAgICAgICAgICAgY29tcGlsZU1ldGhvZCA9ICdjb21waWxlVGVtcGxhdGUnO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2Uge1xuLy8gICAgICAgICAgICAgdmFyIENvbXBvbmVudFR5cGUgPSBvd25lci5nZXRDb21wb25lbnRUeXBlKGFOb2RlKTtcbi8vICAgICAgICAgICAgIGlmIChDb21wb25lbnRUeXBlKSB7XG4vLyAgICAgICAgICAgICAgICAgY29tcGlsZU1ldGhvZCA9ICdjb21waWxlQ29tcG9uZW50Jztcbi8vICAgICAgICAgICAgICAgICBleHRyYS5Db21wb25lbnRDbGFzcyA9IENvbXBvbmVudFR5cGU7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICBhTm9kZUNvbXBpbGVyW2NvbXBpbGVNZXRob2RdKGFOb2RlLCBzb3VyY2VCdWZmZXIsIG93bmVyLCBleHRyYSk7XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOe8luivkeaWh+acrOiKgueCuVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg6IqC54K55a+56LGhXG4vLyAgICAgICogQHBhcmFtIHtDb21waWxlU291cmNlQnVmZmVyfSBzb3VyY2VCdWZmZXIg57yW6K+R5rqQ56CB55qE5Lit6Ze0YnVmZmVyXG4vLyAgICAgICovXG4vLyAgICAgY29tcGlsZVRleHQ6IGZ1bmN0aW9uIChhTm9kZSwgc291cmNlQnVmZmVyKSB7XG4vLyAgICAgICAgIGlmIChhTm9kZS50ZXh0RXhwci5vcmlnaW5hbCkge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5TdHJpbmcoc2VyaWFsaXplU3R1bXAoJ3RleHQnKSk7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuam9pbkV4cHIoYU5vZGUudGV4dEV4cHIpO1xuLy8gXG4vLyAgICAgICAgIGlmIChhTm9kZS50ZXh0RXhwci5vcmlnaW5hbCkge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5TdHJpbmcoc2VyaWFsaXplU3R1bXBFbmQoJ3RleHQnKSk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9LFxuLy8gXG4vLyAgICAgLyoqXG4vLyAgICAgICog57yW6K+RdGVtcGxhdGXoioLngrlcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7QU5vZGV9IGFOb2RlIOiKgueCueWvueixoVxuLy8gICAgICAqIEBwYXJhbSB7Q29tcGlsZVNvdXJjZUJ1ZmZlcn0gc291cmNlQnVmZmVyIOe8luivkea6kOeggeeahOS4remXtGJ1ZmZlclxuLy8gICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBvd25lciDmiYDlsZ7nu4Tku7blrp7kvovnjq/looNcbi8vICAgICAgKi9cbi8vICAgICBjb21waWxlVGVtcGxhdGU6IGZ1bmN0aW9uIChhTm9kZSwgc291cmNlQnVmZmVyLCBvd25lcikge1xuLy8gICAgICAgICBlbGVtZW50U291cmNlQ29tcGlsZXIuaW5uZXIoc291cmNlQnVmZmVyLCBhTm9kZSwgb3duZXIpO1xuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnvJbor5EgaWYg6IqC54K5XG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDoioLngrnlr7nosaFcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBpbGVTb3VyY2VCdWZmZXJ9IHNvdXJjZUJ1ZmZlciDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXJcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu25a6e5L6L546v5aKDXG4vLyAgICAgICovXG4vLyAgICAgY29tcGlsZUlmOiBmdW5jdGlvbiAoYU5vZGUsIHNvdXJjZUJ1ZmZlciwgb3duZXIpIHtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnKGZ1bmN0aW9uICgpIHsnKTtcbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd2YXIgaWZJbmRleCA9IG51bGw7Jyk7XG4vLyBcbi8vICAgICAgICAgLy8gb3V0cHV0IG1haW4gaWZcbi8vICAgICAgICAgdmFyIGlmRGlyZWN0aXZlID0gYU5vZGUuZGlyZWN0aXZlc1snaWYnXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnaWYgKCcgKyBjb21waWxlRXhwclNvdXJjZS5leHByKGlmRGlyZWN0aXZlLnZhbHVlKSArICcpIHsnKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhcbi8vICAgICAgICAgICAgIGFOb2RlQ29tcGlsZXIuY29tcGlsZShcbi8vICAgICAgICAgICAgICAgICByaW5zZUNvbmRBTm9kZShhTm9kZSksXG4vLyAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLFxuLy8gICAgICAgICAgICAgICAgIG93bmVyXG4vLyAgICAgICAgICAgICApXG4vLyAgICAgICAgICk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ30nKTtcbi8vIFxuLy8gICAgICAgICAvLyBvdXRwdXQgZWxpZiBhbmQgZWxzZVxuLy8gICAgICAgICBlYWNoKGFOb2RlLmVsc2VzLCBmdW5jdGlvbiAoZWxzZUFOb2RlLCBpbmRleCkge1xuLy8gICAgICAgICAgICAgdmFyIGVsaWZEaXJlY3RpdmUgPSBlbHNlQU5vZGUuZGlyZWN0aXZlcy5lbGlmO1xuLy8gICAgICAgICAgICAgaWYgKGVsaWZEaXJlY3RpdmUpIHtcbi8vICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdlbHNlIGlmICgnICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihlbGlmRGlyZWN0aXZlLnZhbHVlKSArICcpIHsnKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIGVsc2Uge1xuLy8gICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ2Vsc2UgeycpO1xuLy8gICAgICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KFxuLy8gICAgICAgICAgICAgICAgIGFOb2RlQ29tcGlsZXIuY29tcGlsZShcbi8vICAgICAgICAgICAgICAgICAgICAgcmluc2VDb25kQU5vZGUoZWxzZUFOb2RlKSxcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLFxuLy8gICAgICAgICAgICAgICAgICAgICBvd25lclxuLy8gICAgICAgICAgICAgICAgIClcbi8vICAgICAgICAgICAgICk7XG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9Jyk7XG4vLyAgICAgICAgIH0pO1xuLy8gXG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ30pKCk7Jyk7XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOe8luivkSBmb3Ig6IqC54K5XG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDoioLngrnlr7nosaFcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBpbGVTb3VyY2VCdWZmZXJ9IHNvdXJjZUJ1ZmZlciDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXJcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu25a6e5L6L546v5aKDXG4vLyAgICAgICovXG4vLyAgICAgY29tcGlsZUZvcjogZnVuY3Rpb24gKGFOb2RlLCBzb3VyY2VCdWZmZXIsIG93bmVyKSB7XG4vLyAgICAgICAgIHZhciBmb3JFbGVtZW50QU5vZGUgPSBjcmVhdGVBTm9kZSh7XG4vLyAgICAgICAgICAgICBjaGlsZHJlbjogYU5vZGUuY2hpbGRyZW4sXG4vLyAgICAgICAgICAgICBwcm9wczogYU5vZGUucHJvcHMsXG4vLyAgICAgICAgICAgICBldmVudHM6IGFOb2RlLmV2ZW50cyxcbi8vICAgICAgICAgICAgIHRhZ05hbWU6IGFOb2RlLnRhZ05hbWUsXG4vLyAgICAgICAgICAgICBkaXJlY3RpdmVzOiBjbG9uZURpcmVjdGl2ZXMoYU5vZGUuZGlyZWN0aXZlcywge1xuLy8gICAgICAgICAgICAgICAgICdmb3InOiAxXG4vLyAgICAgICAgICAgICB9KSxcbi8vICAgICAgICAgICAgIGhvdHNwb3Q6IGFOb2RlLmhvdHNwb3Rcbi8vICAgICAgICAgfSk7XG4vLyBcbi8vICAgICAgICAgdmFyIGZvckRpcmVjdGl2ZSA9IGFOb2RlLmRpcmVjdGl2ZXNbJ2ZvciddOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuLy8gICAgICAgICB2YXIgaXRlbU5hbWUgPSBmb3JEaXJlY3RpdmUuaXRlbS5yYXc7XG4vLyAgICAgICAgIHZhciBpbmRleE5hbWUgPSBmb3JEaXJlY3RpdmUuaW5kZXgucmF3O1xuLy8gICAgICAgICB2YXIgbGlzdE5hbWUgPSBjb21waWxlRXhwclNvdXJjZS5kYXRhQWNjZXNzKGZvckRpcmVjdGl2ZS52YWx1ZSk7XG4vLyBcbi8vICAgICAgICAgaWYgKGluZGV4TmFtZSA9PT0gJyRpbmRleCcpIHtcbi8vICAgICAgICAgICAgIGluZGV4TmFtZSA9IGd1aWQoKTtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ2ZvciAoJ1xuLy8gICAgICAgICAgICAgKyAndmFyICcgKyBpbmRleE5hbWUgKyAnID0gMDsgJ1xuLy8gICAgICAgICAgICAgKyBpbmRleE5hbWUgKyAnIDwgJyArIGxpc3ROYW1lICsgJy5sZW5ndGg7ICdcbi8vICAgICAgICAgICAgICsgaW5kZXhOYW1lICsgJysrKSB7J1xuLy8gICAgICAgICApO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdjb21wb25lbnRDdHguZGF0YS4nICsgaW5kZXhOYW1lICsgJz0nICsgaW5kZXhOYW1lICsgJzsnKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnY29tcG9uZW50Q3R4LmRhdGEuJyArIGl0ZW1OYW1lICsgJz0gJyArIGxpc3ROYW1lICsgJ1snICsgaW5kZXhOYW1lICsgJ107Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoXG4vLyAgICAgICAgICAgICBhTm9kZUNvbXBpbGVyLmNvbXBpbGUoXG4vLyAgICAgICAgICAgICAgICAgZm9yRWxlbWVudEFOb2RlLFxuLy8gICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlcixcbi8vICAgICAgICAgICAgICAgICBvd25lclxuLy8gICAgICAgICAgICAgKVxuLy8gICAgICAgICApO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9Jyk7XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOe8luivkSBzbG90IOiKgueCuVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg6IqC54K55a+56LGhXG4vLyAgICAgICogQHBhcmFtIHtDb21waWxlU291cmNlQnVmZmVyfSBzb3VyY2VCdWZmZXIg57yW6K+R5rqQ56CB55qE5Lit6Ze0YnVmZmVyXG4vLyAgICAgICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOaJgOWxnue7hOS7tuWunuS+i+eOr+Wig1xuLy8gICAgICAqL1xuLy8gICAgIGNvbXBpbGVTbG90OiBmdW5jdGlvbiAoYU5vZGUsIHNvdXJjZUJ1ZmZlciwgb3duZXIpIHtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnKGZ1bmN0aW9uICgpIHsnKTtcbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdmdW5jdGlvbiAkZGVmYXVsdFNsb3RSZW5kZXIoY29tcG9uZW50Q3R4KSB7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyAgdmFyIGh0bWwgPSBcIlwiOycpO1xuLy8gICAgICAgICBlYWNoKGFOb2RlLmNoaWxkcmVuLCBmdW5jdGlvbiAoYU5vZGVDaGlsZCkge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhhTm9kZUNvbXBpbGVyLmNvbXBpbGUoYU5vZGVDaGlsZCwgc291cmNlQnVmZmVyLCBvd25lcikpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnICByZXR1cm4gaHRtbDsnKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gXG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyAgdmFyICRnaXZlblNsb3QgPSBbXTsnKTtcbi8vIFxuLy8gICAgICAgICB2YXIgbmFtZVByb3AgPSBnZXRBTm9kZVByb3AoYU5vZGUsICduYW1lJyk7XG4vLyAgICAgICAgIGlmIChuYW1lUHJvcCkge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygndmFyICRzbG90TmFtZSA9ICcgKyBjb21waWxlRXhwclNvdXJjZS5leHByKG5hbWVQcm9wLmV4cHIpICsgJzsnKTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ3ZhciAkc2xvdE5hbWUgPSBudWxsOycpO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygndmFyICRjdHhHaXZlblNsb3RzID0gY29tcG9uZW50Q3R4LmdpdmVuU2xvdHM7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ2ZvciAodmFyICRpID0gMDsgJGkgPCAkY3R4R2l2ZW5TbG90cy5sZW5ndGg7ICRpKyspIHsnKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnICBpZiAoJGN0eEdpdmVuU2xvdHNbJGldWzFdID09ICRzbG90TmFtZSkgeycpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcgICAgJGdpdmVuU2xvdC5wdXNoKCRjdHhHaXZlblNsb3RzWyRpXVswXSk7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyAgfScpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9Jyk7XG4vLyBcbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd2YXIgJGlzSW5zZXJ0ZWQgPSAkZ2l2ZW5TbG90Lmxlbmd0aCA+IDA7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ2lmICghJGlzSW5zZXJ0ZWQpIHsgJGdpdmVuU2xvdC5wdXNoKCRkZWZhdWx0U2xvdFJlbmRlcik7IH0nKTtcbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd2YXIgJHNsb3RDdHggPSAkaXNJbnNlcnRlZCA/IGNvbXBvbmVudEN0eC5vd25lciA6IGNvbXBvbmVudEN0eDsnKTtcbi8vICAgICAgICAgaWYgKGFOb2RlLnZhcnMpIHtcbi8vICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyRzbG90Q3R4ID0ge2RhdGE6IGV4dGVuZCh7fSwgJHNsb3RDdHguZGF0YSksIGZpbHRlcnM6ICRzbG90Q3R4LmZpbHRlcnMsIGNhbGxGaWx0ZXI6ICRzbG90Q3R4LmNhbGxGaWx0ZXJ9OycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4vLyAgICAgICAgICAgICBlYWNoKGFOb2RlLnZhcnMsIGZ1bmN0aW9uICh2YXJJdGVtKSB7XG4vLyAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhcbi8vICAgICAgICAgICAgICAgICAgICAgJyRzbG90Q3R4LmRhdGFbXCInICsgdmFySXRlbS5uYW1lICsgJ1wiXSA9ICdcbi8vICAgICAgICAgICAgICAgICAgICAgKyBjb21waWxlRXhwclNvdXJjZS5leHByKHZhckl0ZW0uZXhwcilcbi8vICAgICAgICAgICAgICAgICAgICAgKyAnOydcbi8vICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdmb3IgKHZhciAkcmVuZGVySW5kZXggPSAwOyAkcmVuZGVySW5kZXggPCAkZ2l2ZW5TbG90Lmxlbmd0aDsgJHJlbmRlckluZGV4KyspIHsnKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnICBodG1sICs9ICRnaXZlblNsb3RbJHJlbmRlckluZGV4XSgkc2xvdEN0eCk7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ30nKTtcbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9KSgpOycpO1xuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnvJbor5Hmma7pgJroioLngrlcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7QU5vZGV9IGFOb2RlIOiKgueCueWvueixoVxuLy8gICAgICAqIEBwYXJhbSB7Q29tcGlsZVNvdXJjZUJ1ZmZlcn0gc291cmNlQnVmZmVyIOe8luivkea6kOeggeeahOS4remXtGJ1ZmZlclxuLy8gICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBvd25lciDmiYDlsZ7nu4Tku7blrp7kvovnjq/looNcbi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXh0cmEg57yW6K+R5omA6ZyA55qE5LiA5Lqb6aKd5aSW5L+h5oGvXG4vLyAgICAgICovXG4vLyAgICAgY29tcGlsZUVsZW1lbnQ6IGZ1bmN0aW9uIChhTm9kZSwgc291cmNlQnVmZmVyLCBvd25lciwgZXh0cmEpIHtcbi8vICAgICAgICAgZXh0cmEgPSBleHRyYSB8fCB7fTtcbi8vICAgICAgICAgLy8gaWYgKGFOb2RlLnRhZ05hbWUgPT09ICdvcHRpb24nXG4vLyAgICAgICAgIC8vICAgICAmJiAhZ2V0QU5vZGVQcm9wKGFOb2RlLCAndmFsdWUnKVxuLy8gICAgICAgICAvLyAgICAgJiYgYU5vZGUuY2hpbGRyZW5bMF1cbi8vICAgICAgICAgLy8gKSB7XG4vLyAgICAgICAgIC8vICAgICBhTm9kZS5wcm9wcy5wdXNoKHtcbi8vICAgICAgICAgLy8gICAgICAgICBuYW1lOiAndmFsdWUnLFxuLy8gICAgICAgICAvLyAgICAgICAgIGV4cHI6IGFOb2RlLmNoaWxkcmVuWzBdLnRleHRFeHByXG4vLyAgICAgICAgIC8vICAgICB9KTtcbi8vICAgICAgICAgLy8gfVxuLy8gXG4vLyAgICAgICAgIGVsZW1lbnRTb3VyY2VDb21waWxlci50YWdTdGFydChcbi8vICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlcixcbi8vICAgICAgICAgICAgIGFOb2RlLnRhZ05hbWUsXG4vLyAgICAgICAgICAgICBhTm9kZS5wcm9wcyxcbi8vICAgICAgICAgICAgIGV4dHJhLnByb3Bcbi8vICAgICAgICAgKTtcbi8vIFxuLy8gICAgICAgICBlbGVtZW50U291cmNlQ29tcGlsZXIuaW5uZXIoc291cmNlQnVmZmVyLCBhTm9kZSwgb3duZXIpO1xuLy8gICAgICAgICBlbGVtZW50U291cmNlQ29tcGlsZXIudGFnRW5kKHNvdXJjZUJ1ZmZlciwgYU5vZGUudGFnTmFtZSk7XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOe8luivkee7hOS7tuiKgueCuVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg6IqC54K55a+56LGhXG4vLyAgICAgICogQHBhcmFtIHtDb21waWxlU291cmNlQnVmZmVyfSBzb3VyY2VCdWZmZXIg57yW6K+R5rqQ56CB55qE5Lit6Ze0YnVmZmVyXG4vLyAgICAgICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOaJgOWxnue7hOS7tuWunuS+i+eOr+Wig1xuLy8gICAgICAqIEBwYXJhbSB7T2JqZWN0fSBleHRyYSDnvJbor5HmiYDpnIDnmoTkuIDkupvpop3lpJbkv6Hmga9cbi8vICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBleHRyYS5Db21wb25lbnRDbGFzcyDlr7nlupTnu4Tku7bnsbtcbi8vICAgICAgKi9cbi8vICAgICBjb21waWxlQ29tcG9uZW50OiBmdW5jdGlvbiAoYU5vZGUsIHNvdXJjZUJ1ZmZlciwgb3duZXIsIGV4dHJhKSB7XG4vLyAgICAgICAgIGlmIChhTm9kZSkge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygndmFyICRzbG90TmFtZSA9IG51bGw7Jyk7XG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd2YXIgJGdpdmVuU2xvdHMgPSBbXTsnKTtcbi8vICAgICAgICAgICAgIGVhY2goYU5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuLy8gICAgICAgICAgICAgICAgIHZhciBzbG90QmluZCA9ICFjaGlsZC50ZXh0RXhwciAmJiBnZXRBTm9kZVByb3AoY2hpbGQsICdzbG90Jyk7XG4vLyAgICAgICAgICAgICAgICAgaWYgKHNsb3RCaW5kKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyRzbG90TmFtZSA9ICcgKyBjb21waWxlRXhwclNvdXJjZS5leHByKHNsb3RCaW5kLmV4cHIpICsgJzsnKTtcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnJGdpdmVuU2xvdHMucHVzaChbZnVuY3Rpb24gKGNvbXBvbmVudEN0eCkgeycpO1xuLy8gICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcgIHZhciBodG1sID0gXCJcIjsnKTtcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhhTm9kZUNvbXBpbGVyLmNvbXBpbGUoY2hpbGQsIHNvdXJjZUJ1ZmZlciwgb3duZXIpKTtcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnICByZXR1cm4gaHRtbDsnKTtcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfSwgJHNsb3ROYW1lXSk7Jyk7XG4vLyAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgIGVsc2Uge1xuLy8gICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCckZ2l2ZW5TbG90cy5wdXNoKFtmdW5jdGlvbiAoY29tcG9uZW50Q3R4KSB7Jyk7XG4vLyAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyAgdmFyIGh0bWwgPSBcIlwiOycpO1xuLy8gICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KGFOb2RlQ29tcGlsZXIuY29tcGlsZShjaGlsZCwgc291cmNlQnVmZmVyLCBvd25lcikpO1xuLy8gICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcgIHJldHVybiBodG1sOycpO1xuLy8gICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9XSk7Jyk7XG4vLyAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICB2YXIgQ29tcG9uZW50Q2xhc3MgPSBleHRyYS5Db21wb25lbnRDbGFzcztcbi8vICAgICAgICAgdmFyIGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnRDbGFzcyh7XG4vLyAgICAgICAgICAgICBhTm9kZTogYU5vZGUsXG4vLyAgICAgICAgICAgICBvd25lcjogb3duZXIsXG4vLyAgICAgICAgICAgICBzdWJUYWc6IGFOb2RlLnRhZ05hbWVcbi8vICAgICAgICAgfSk7XG4vLyBcbi8vICAgICAgICAgdmFyIGdpdmVuRGF0YSA9IFtdO1xuLy8gXG4vLyAgICAgICAgIGVhY2goY29tcG9uZW50LmJpbmRzLCBmdW5jdGlvbiAocHJvcCkge1xuLy8gICAgICAgICAgICAgZ2l2ZW5EYXRhLnB1c2goXG4vLyAgICAgICAgICAgICAgICAgY29tcGlsZUV4cHJTb3VyY2Uuc3RyaW5nTGl0ZXJhbGl6ZShwcm9wLm5hbWUpXG4vLyAgICAgICAgICAgICAgICAgKyAnOidcbi8vICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIocHJvcC5leHByKVxuLy8gICAgICAgICAgICAgKTtcbi8vICAgICAgICAgfSk7XG4vLyBcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnaHRtbCArPSAoJyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSZW5kZXJlclN0YXJ0KCk7XG4vLyAgICAgICAgIGNvbXBpbGVDb21wb25lbnRTb3VyY2Uoc291cmNlQnVmZmVyLCBjb21wb25lbnQsIGV4dHJhICYmIGV4dHJhLnByb3ApO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmVuZGVyZXJFbmQoKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnKSh7JyArIGdpdmVuRGF0YS5qb2luKCcsXFxuJykgKyAnfSwgY29tcG9uZW50Q3R4LCAkZ2l2ZW5TbG90cyk7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyRnaXZlblNsb3RzID0gbnVsbDsnKTtcbi8vICAgICB9XG4vLyB9O1xuLy8gLyogZXNsaW50LWRpc2FibGUgZ3VhcmQtZm9yLWluICovXG4vLyBcbi8vIC8qKlxuLy8gICog55Sf5oiQ57uE5Lu2IHJlbmRlcmVyIOaXtiBjdHgg5a+56LGh5p6E5bu655qE5Luj56CBXG4vLyAgKlxuLy8gICogQGlubmVyXG4vLyAgKiBAcGFyYW0ge0NvbXBpbGVTb3VyY2VCdWZmZXJ9IHNvdXJjZUJ1ZmZlciDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXJcbi8vICAqIEBwYXJhbSB7T2JqZWN0fSBjb21wb25lbnQg57uE5Lu25a6e5L6LXG4vLyAgKiBAcGFyYW0ge3N0cmluZz99IGV4dHJhUHJvcCDpop3lpJbnmoTlsZ7mgKfkuLJcbi8vICAqL1xuLy8gZnVuY3Rpb24gY29tcGlsZUNvbXBvbmVudFNvdXJjZShzb3VyY2VCdWZmZXIsIGNvbXBvbmVudCwgZXh0cmFQcm9wKSB7XG4vLyAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhnZW5Db21wb25lbnRDb250ZXh0Q29kZShjb21wb25lbnQpKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdjb21wb25lbnRDdHgub3duZXIgPSBwYXJlbnRDdHg7Jyk7XG4vLyAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnY29tcG9uZW50Q3R4LmdpdmVuU2xvdHMgPSBnaXZlblNsb3RzOycpO1xuLy8gXG4vLyBcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdkYXRhID0gZXh0ZW5kKGNvbXBvbmVudEN0eC5kYXRhLCBkYXRhKTsnKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdmb3IgKHZhciAkaSA9IDA7ICRpIDwgY29tcG9uZW50Q3R4LmNvbXB1dGVkTmFtZXMubGVuZ3RoOyAkaSsrKSB7Jyk7XG4vLyAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnICB2YXIgJGNvbXB1dGVkTmFtZSA9IGNvbXBvbmVudEN0eC5jb21wdXRlZE5hbWVzWyRpXTsnKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcgIGRhdGFbJGNvbXB1dGVkTmFtZV0gPSBjb21wb25lbnRDdHguY29tcHV0ZWRbJGNvbXB1dGVkTmFtZV0oKTsnKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9Jyk7XG4vLyBcbi8vICAgICBleHRyYVByb3AgPSBleHRyYVByb3AgfHwgJyc7XG4vLyBcbi8vICAgICB2YXIgZXZlbnREZWNsYXJhdGlvbnMgPSBbXTtcbi8vICAgICBmb3IgKHZhciBrZXkgaW4gY29tcG9uZW50Lmxpc3RlbmVycykge1xuLy8gICAgICAgICBlYWNoKGNvbXBvbmVudC5saXN0ZW5lcnNba2V5XSwgZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4vLyAgICAgICAgICAgICBpZiAobGlzdGVuZXIuZGVjbGFyYXRpb24pIHtcbi8vICAgICAgICAgICAgICAgICBldmVudERlY2xhcmF0aW9ucy5wdXNoKGxpc3RlbmVyLmRlY2xhcmF0aW9uKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZWxlbWVudFNvdXJjZUNvbXBpbGVyLnRhZ1N0YXJ0KFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIsXG4vLyAgICAgICAgIGNvbXBvbmVudC50YWdOYW1lLFxuLy8gICAgICAgICBjb21wb25lbnQuYU5vZGUucHJvcHMsXG4vLyAgICAgICAgIGV4dHJhUHJvcFxuLy8gICAgICk7XG4vLyBcbi8vICAgICBpZiAoIWNvbXBvbmVudC5vd25lcikge1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuam9pblN0cmluZygnPCEtLXMtZGF0YTonKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5EYXRhU3RyaW5naWZ5KCk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKCctLT4nKTtcbi8vICAgICB9XG4vLyBcbi8vIFxuLy8gXG4vLyAgICAgZWxlbWVudFNvdXJjZUNvbXBpbGVyLmlubmVyKHNvdXJjZUJ1ZmZlciwgY29tcG9uZW50LmFOb2RlLCBjb21wb25lbnQpO1xuLy8gICAgIGVsZW1lbnRTb3VyY2VDb21waWxlci50YWdFbmQoc291cmNlQnVmZmVyLCBjb21wb25lbnQudGFnTmFtZSk7XG4vLyB9XG4vLyBcbi8vIHZhciBzdHJpbmdpZmllciA9IHtcbi8vICAgICBvYmo6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgdmFyIHByZWZpeENvbW1hO1xuLy8gICAgICAgICB2YXIgcmVzdWx0ID0gJ3snO1xuLy8gXG4vLyAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4vLyAgICAgICAgICAgICAgICAgY29udGludWU7XG4vLyAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgIGlmIChwcmVmaXhDb21tYSkge1xuLy8gICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnLCc7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBwcmVmaXhDb21tYSA9IDE7XG4vLyBcbi8vICAgICAgICAgICAgIHJlc3VsdCArPSBjb21waWxlRXhwclNvdXJjZS5zdHJpbmdMaXRlcmFsaXplKGtleSkgKyAnOicgKyBzdHJpbmdpZmllci5hbnkoc291cmNlW2tleV0pO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgcmV0dXJuIHJlc3VsdCArICd9Jztcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgYXJyOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgIHZhciBwcmVmaXhDb21tYTtcbi8vICAgICAgICAgdmFyIHJlc3VsdCA9ICdbJztcbi8vIFxuLy8gICAgICAgICBlYWNoKHNvdXJjZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4vLyAgICAgICAgICAgICBpZiAocHJlZml4Q29tbWEpIHtcbi8vICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJywnO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgcHJlZml4Q29tbWEgPSAxO1xuLy8gXG4vLyAgICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5naWZpZXIuYW55KHZhbHVlKTtcbi8vICAgICAgICAgfSk7XG4vLyBcbi8vICAgICAgICAgcmV0dXJuIHJlc3VsdCArICddJztcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgc3RyOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgIHJldHVybiBjb21waWxlRXhwclNvdXJjZS5zdHJpbmdMaXRlcmFsaXplKHNvdXJjZSk7XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIGRhdGU6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgcmV0dXJuICduZXcgRGF0ZSgnICsgc291cmNlLmdldFRpbWUoKSArICcpJztcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgYW55OiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgIHN3aXRjaCAodHlwZW9mIHNvdXJjZSkge1xuLy8gICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZXIuc3RyKHNvdXJjZSk7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICcnICsgc291cmNlO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlID8gJ3RydWUnIDogJ2ZhbHNlJztcbi8vIFxuLy8gICAgICAgICAgICAgY2FzZSAnb2JqZWN0Jzpcbi8vICAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZSkge1xuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbi8vICAgICAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQXJyYXkpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVyLmFycihzb3VyY2UpO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBEYXRlKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllci5kYXRlKHNvdXJjZSk7XG4vLyAgICAgICAgICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVyLm9iaihzb3VyY2UpO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgU3RyaW5naWZ5OicgKyBzb3VyY2UpO1xuLy8gICAgIH1cbi8vIH07XG4vLyBcbi8vIC8qKlxuLy8gICog55Sf5oiQ57uE5Lu2IHJlbmRlcmVyIOaXtiBjdHgg5a+56LGh5p6E5bu655qE5Luj56CBXG4vLyAgKlxuLy8gICogQGlubmVyXG4vLyAgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50IOe7hOS7tuWunuS+i1xuLy8gICogQHJldHVybiB7c3RyaW5nfVxuLy8gICovXG4vLyBmdW5jdGlvbiBnZW5Db21wb25lbnRDb250ZXh0Q29kZShjb21wb25lbnQpIHtcbi8vICAgICB2YXIgY29kZSA9IFsndmFyIGNvbXBvbmVudEN0eCA9IHsnXTtcbi8vIFxuLy8gICAgIC8vIGdpdmVuIGFub2RlXG4vLyAgICAgY29kZS5wdXNoKCdnaXZlblNsb3RzOiBbXSwnKTtcbi8vIFxuLy8gICAgIC8vIGZpbHRlcnNcbi8vICAgICBjb2RlLnB1c2goJ2ZpbHRlcnM6IHsnKTtcbi8vICAgICB2YXIgZmlsdGVyQ29kZSA9IFtdO1xuLy8gICAgIGZvciAodmFyIGtleSBpbiBjb21wb25lbnQuZmlsdGVycykge1xuLy8gICAgICAgICB2YXIgZmlsdGVyID0gY29tcG9uZW50LmZpbHRlcnNba2V5XTtcbi8vIFxuLy8gICAgICAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuLy8gICAgICAgICAgICAgZmlsdGVyQ29kZS5wdXNoKGtleSArICc6ICcgKyBmaWx0ZXIudG9TdHJpbmcoKSk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyAgICAgY29kZS5wdXNoKGZpbHRlckNvZGUuam9pbignLCcpKTtcbi8vICAgICBjb2RlLnB1c2goJ30sJyk7XG4vLyBcbi8vICAgICBjb2RlLnB1c2goXG4vLyAgICAgICAgICdjYWxsRmlsdGVyOiBmdW5jdGlvbiAobmFtZSwgYXJncykgeycsXG4vLyAgICAgICAgICcgICAgdmFyIGZpbHRlciA9IHRoaXMuZmlsdGVyc1tuYW1lXSB8fCBERUZBVUxUX0ZJTFRFUlNbbmFtZV07Jyxcbi8vICAgICAgICAgJyAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gXCJmdW5jdGlvblwiKSB7Jyxcbi8vICAgICAgICAgJyAgICAgICAgcmV0dXJuIGZpbHRlci5hcHBseSh0aGlzLCBhcmdzKTsnLFxuLy8gICAgICAgICAnICAgIH0nLFxuLy8gICAgICAgICAnfSwnXG4vLyAgICAgKTtcbi8vIFxuLy8gICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlZGVjbGFyZSAqL1xuLy8gICAgIC8vIGNvbXB1dGVkIG9ialxuLy8gICAgIGNvZGUucHVzaCgnY29tcHV0ZWQ6IHsnKTtcbi8vICAgICB2YXIgY29tcHV0ZWRDb2RlID0gW107XG4vLyAgICAgZm9yICh2YXIga2V5IGluIGNvbXBvbmVudC5jb21wdXRlZCkge1xuLy8gICAgICAgICB2YXIgY29tcHV0ZWQgPSBjb21wb25lbnQuY29tcHV0ZWRba2V5XTtcbi8vIFxuLy8gICAgICAgICBpZiAodHlwZW9mIGNvbXB1dGVkID09PSAnZnVuY3Rpb24nKSB7XG4vLyAgICAgICAgICAgICBjb21wdXRlZENvZGUucHVzaChrZXkgKyAnOiAnXG4vLyAgICAgICAgICAgICAgICAgKyBjb21wdXRlZC50b1N0cmluZygpLnJlcGxhY2UoXG4vLyAgICAgICAgICAgICAgICAgICAgIC90aGlzLmRhdGEuZ2V0XFwoKFteXFwpXSspXFwpL2csXG4vLyAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChtYXRjaCwgZXhwckxpdGVyYWwpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHByU3RyID0gKG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyBleHByTGl0ZXJhbCkpKCk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwciA9IHBhcnNlRXhwcihleHByU3RyKTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVFeHByU291cmNlLmV4cHIoZXhwcik7XG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXG4vLyAgICAgICAgICAgICApO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gICAgIGNvZGUucHVzaChjb21wdXRlZENvZGUuam9pbignLCcpKTtcbi8vICAgICBjb2RlLnB1c2goJ30sJyk7XG4vLyBcbi8vICAgICAvLyBjb21wdXRlZCBuYW1lc1xuLy8gICAgIGNvZGUucHVzaCgnY29tcHV0ZWROYW1lczogWycpO1xuLy8gICAgIGNvbXB1dGVkQ29kZSA9IFtdO1xuLy8gICAgIGZvciAodmFyIGtleSBpbiBjb21wb25lbnQuY29tcHV0ZWQpIHtcbi8vICAgICAgICAgdmFyIGNvbXB1dGVkID0gY29tcG9uZW50LmNvbXB1dGVkW2tleV07XG4vLyBcbi8vICAgICAgICAgaWYgKHR5cGVvZiBjb21wdXRlZCA9PT0gJ2Z1bmN0aW9uJykge1xuLy8gICAgICAgICAgICAgY29tcHV0ZWRDb2RlLnB1c2goJ1wiJyArIGtleSArICdcIicpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gICAgIGNvZGUucHVzaChjb21wdXRlZENvZGUuam9pbignLCcpKTtcbi8vICAgICBjb2RlLnB1c2goJ10sJyk7XG4vLyAgICAgLyogZXNsaW50LWVuYWJsZSBuby1yZWRlY2xhcmUgKi9cbi8vIFxuLy8gICAgIC8vIGRhdGFcbi8vICAgICBjb2RlLnB1c2goJ2RhdGE6ICcgKyBzdHJpbmdpZmllci5hbnkoY29tcG9uZW50LmRhdGEuZ2V0KCkpICsgJywnKTtcbi8vIFxuLy8gICAgIC8vIHRhZ05hbWVcbi8vICAgICBjb2RlLnB1c2goJ3RhZ05hbWU6IFwiJyArIGNvbXBvbmVudC50YWdOYW1lICsgJ1wiJyk7XG4vLyAgICAgY29kZS5wdXNoKCd9OycpO1xuLy8gXG4vLyAgICAgcmV0dXJuIGNvZGUuam9pbignXFxuJyk7XG4vLyB9XG4vLyBcbi8vIC8qIGVzbGludC1lbmFibGUgZ3VhcmQtZm9yLWluICovXG4vLyBcbi8vIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vLyAvKiBlc2xpbnQtZGlzYWJsZSBmZWNzLWNhbWVsY2FzZSAqL1xuLy8gXG4vLyAvKipcbi8vICAqIOe7hOS7tue8luivkeeahOaooeadv+WHveaVsFxuLy8gICpcbi8vICAqIEBpbm5lclxuLy8gICovXG4vLyBmdW5jdGlvbiBjb21wb25lbnRDb21waWxlUHJlQ29kZSgpIHtcbi8vICAgICB2YXIgJHZlcnNpb24gPSAnMy41LjcnO1xuLy8gXG4vLyAgICAgZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc291cmNlKSB7XG4vLyAgICAgICAgIGlmIChzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4vLyAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gc291cmNlW2tleV07XG4vLyAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZnVuY3Rpb24gZWFjaChhcnJheSwgaXRlcmF0b3IpIHtcbi8vICAgICAgICAgaWYgKGFycmF5ICYmIGFycmF5Lmxlbmd0aCA+IDApIHtcbi8vICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4vLyAgICAgICAgICAgICAgICAgaWYgKGl0ZXJhdG9yKGFycmF5W2ldLCBpKSA9PT0gZmFsc2UpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIHZhbHVlKSB7XG4vLyAgICAgICAgIHZhciByZXN1bHQ7XG4vLyAgICAgICAgIGVhY2goYXJyYXksIGZ1bmN0aW9uIChpdGVtKSB7XG4vLyAgICAgICAgICAgICByZXN1bHQgPSBpdGVtID09PSB2YWx1ZTtcbi8vICAgICAgICAgICAgIHJldHVybiAhcmVzdWx0O1xuLy8gICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICByZXR1cm4gcmVzdWx0O1xuLy8gICAgIH1cbi8vIFxuLy8gICAgIHZhciBIVE1MX0VOVElUWSA9IHtcbi8vICAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuLy8gICAgICAgICAnJic6ICcmYW1wOycsXG4vLyAgICAgICAgICc8JzogJyZsdDsnLFxuLy8gICAgICAgICAnPic6ICcmZ3Q7Jyxcbi8vICAgICAgICAgJ1wiJzogJyZxdW90OycsXG4vLyAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHF1b3RlcyAqL1xuLy8gICAgICAgICBcIidcIjogJyYjMzk7J1xuLy8gICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHF1b3RlcyAqL1xuLy8gICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuLy8gICAgIH07XG4vLyBcbi8vICAgICBmdW5jdGlvbiBodG1sRmlsdGVyUmVwbGFjZXIoYykge1xuLy8gICAgICAgICByZXR1cm4gSFRNTF9FTlRJVFlbY107XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZnVuY3Rpb24gZXNjYXBlSFRNTChzb3VyY2UpIHtcbi8vICAgICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSB7XG4vLyAgICAgICAgICAgICByZXR1cm4gJyc7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICByZXR1cm4gU3RyaW5nKHNvdXJjZSkucmVwbGFjZSgvWyY8PlwiJ10vZywgaHRtbEZpbHRlclJlcGxhY2VyKTtcbi8vICAgICB9XG4vLyBcbi8vICAgICB2YXIgREVGQVVMVF9GSUxURVJTID0ge1xuLy8gICAgICAgICB1cmw6IGVuY29kZVVSSUNvbXBvbmVudCxcbi8vICAgICAgICAgX2NsYXNzOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQXJyYXkpIHtcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlLmpvaW4oJyAnKTtcbi8vICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgX3N0eWxlOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbi8vICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4vLyAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xuLy8gICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGtleSArICc6JyArIHNvdXJjZVtrZXldICsgJzsnO1xuLy8gICAgICAgICAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuLy8gICAgICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgICAgICByZXR1cm4gc291cmNlIHx8ICcnO1xuLy8gICAgICAgICB9LFxuLy8gICAgICAgICBfc2VwOiBmdW5jdGlvbiAoc291cmNlLCBzZXApIHtcbi8vICAgICAgICAgICAgIHJldHVybiBzb3VyY2UgPyBzZXAgKyBzb3VyY2UgOiAnJztcbi8vICAgICAgICAgfVxuLy8gICAgIH07XG4vLyBcbi8vICAgICBmdW5jdGlvbiBhdHRyRmlsdGVyKG5hbWUsIHZhbHVlKSB7XG4vLyAgICAgICAgIGlmICh2YWx1ZSkge1xuLy8gICAgICAgICAgICAgcmV0dXJuICcgJyArIG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJztcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHJldHVybiAnJztcbi8vICAgICB9XG4vLyBcbi8vICAgICBmdW5jdGlvbiBib29sQXR0ckZpbHRlcihuYW1lLCB2YWx1ZSkge1xuLy8gICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09ICdmYWxzZScgJiYgdmFsdWUgIT09ICcwJykge1xuLy8gICAgICAgICAgICAgcmV0dXJuICcgJyArIG5hbWU7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICByZXR1cm4gJyc7XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZnVuY3Rpb24gc3RyaW5nTGl0ZXJhbGl6ZShzb3VyY2UpIHtcbi8vICAgICAgICAgcmV0dXJuICdcIidcbi8vICAgICAgICAgICAgICsgc291cmNlXG4vLyAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xceDVDL2csICdcXFxcXFxcXCcpXG4vLyAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHgwQS9nLCAnXFxcXG4nKVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHgwOS9nLCAnXFxcXHQnKVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHgwRC9nLCAnXFxcXHInKVxuLy8gICAgICAgICAgICAgKyAnXCInO1xuLy8gICAgIH1cbi8vIFxuLy8gICAgIHZhciBzdHJpbmdpZmllciA9IHtcbi8vICAgICAgICAgb2JqOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgICAgICB2YXIgcHJlZml4Q29tbWE7XG4vLyAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gJ3snO1xuLy8gXG4vLyAgICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuLy8gICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbi8vICAgICAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgICAgICBpZiAocHJlZml4Q29tbWEpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcsJztcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgcHJlZml4Q29tbWEgPSAxO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZ0xpdGVyYWxpemUoa2V5KSArICc6JyArIHN0cmluZ2lmaWVyLmFueShzb3VyY2Vba2V5XSk7XG4vLyAgICAgICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCArICd9Jztcbi8vICAgICAgICAgfSxcbi8vIFxuLy8gICAgICAgICBhcnI6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIHZhciBwcmVmaXhDb21tYTtcbi8vICAgICAgICAgICAgIHZhciByZXN1bHQgPSAnWyc7XG4vLyBcbi8vICAgICAgICAgICAgIGVhY2goc291cmNlLCBmdW5jdGlvbiAodmFsdWUpIHtcbi8vICAgICAgICAgICAgICAgICBpZiAocHJlZml4Q29tbWEpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcsJztcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgcHJlZml4Q29tbWEgPSAxO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZ2lmaWVyLmFueSh2YWx1ZSk7XG4vLyAgICAgICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCArICddJztcbi8vICAgICAgICAgfSxcbi8vIFxuLy8gICAgICAgICBzdHI6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIHJldHVybiBzdHJpbmdMaXRlcmFsaXplKHNvdXJjZSk7XG4vLyAgICAgICAgIH0sXG4vLyBcbi8vICAgICAgICAgZGF0ZTogZnVuY3Rpb24gKHNvdXJjZSkge1xuLy8gICAgICAgICAgICAgcmV0dXJuICduZXcgRGF0ZSgnICsgc291cmNlLmdldFRpbWUoKSArICcpJztcbi8vICAgICAgICAgfSxcbi8vIFxuLy8gICAgICAgICBhbnk6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHNvdXJjZSkge1xuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllci5zdHIoc291cmNlKTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJyArIHNvdXJjZTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlID8gJ3RydWUnIDogJ2ZhbHNlJztcbi8vIFxuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbi8vICAgICAgICAgICAgICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBBcnJheSkge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVyLmFycihzb3VyY2UpO1xuLy8gICAgICAgICAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIERhdGUpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllci5kYXRlKHNvdXJjZSk7XG4vLyAgICAgICAgICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZXIub2JqKHNvdXJjZSk7XG4vLyAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IFN0cmluZ2lmeTonICsgc291cmNlKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH07XG4vLyB9XG4vLyAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4vLyAvKiBlc2xpbnQtZW5hYmxlIGZlY3MtY2FtZWxjYXNlICovXG4vLyBcbi8vIC8qKlxuLy8gICog5bCG57uE5Lu257yW6K+R5oiQIHJlbmRlciDmlrnms5XnmoQganMg5rqQ56CBXG4vLyAgKlxuLy8gICogQHBhcmFtIHtGdW5jdGlvbn0gQ29tcG9uZW50Q2xhc3Mg57uE5Lu257G7XG4vLyAgKiBAcmV0dXJuIHtzdHJpbmd9XG4vLyAgKi9cbi8vIGZ1bmN0aW9uIGNvbXBpbGVKU1NvdXJjZShDb21wb25lbnRDbGFzcykge1xuLy8gICAgIHZhciBzb3VyY2VCdWZmZXIgPSBuZXcgQ29tcGlsZVNvdXJjZUJ1ZmZlcigpO1xuLy8gXG4vLyAgICAgc291cmNlQnVmZmVyLmFkZFJlbmRlcmVyU3RhcnQoKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KFxuLy8gICAgICAgICBjb21wb25lbnRDb21waWxlUHJlQ29kZS50b1N0cmluZygpXG4vLyAgICAgICAgICAgICAuc3BsaXQoJ1xcbicpXG4vLyAgICAgICAgICAgICAuc2xpY2UoMSlcbi8vICAgICAgICAgICAgIC5qb2luKCdcXG4nKVxuLy8gICAgICAgICAgICAgLnJlcGxhY2UoL1xcfVxccyokLywgJycpXG4vLyAgICAgKTtcbi8vIFxuLy8gICAgIC8vIOWFiOWIneWni+WMluS4quWunuS+i++8jOiuqeaooeadv+e8luivkeaIkCBBTm9kZe+8jOW5tuS4lOiDveiOt+W+l+WIneWni+WMluaVsOaNrlxuLy8gICAgIHZhciBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50Q2xhc3MoKTtcbi8vIFxuLy8gICAgIGNvbXBpbGVDb21wb25lbnRTb3VyY2Uoc291cmNlQnVmZmVyLCBjb21wb25lbnQpO1xuLy8gICAgIHNvdXJjZUJ1ZmZlci5hZGRSZW5kZXJlckVuZCgpO1xuLy8gICAgIHJldHVybiBzb3VyY2VCdWZmZXIudG9Db2RlKCk7XG4vLyB9XG4vLyAjW2VuZF1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY29tcGlsZUpTU291cmNlO1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8vICAgICB2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCcuL3V0aWwvbmV4dC10aWNrJyk7XG4vLyAgICAgdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnLi91dGlsL2luaGVyaXRzJyk7XG4vLyAgICAgdmFyIHBhcnNlVGVtcGxhdGUgPSByZXF1aXJlKCcuL3BhcnNlci9wYXJzZS10ZW1wbGF0ZScpO1xuLy8gICAgIHZhciBwYXJzZUV4cHIgPSByZXF1aXJlKCcuL3BhcnNlci9wYXJzZS1leHByJyk7XG4vLyAgICAgdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9wYXJzZXIvZXhwci10eXBlJyk7XG4vLyAgICAgdmFyIExpZmVDeWNsZSA9IHJlcXVpcmUoJy4vdmlldy9saWZlLWN5Y2xlJyk7XG4vLyAgICAgdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi92aWV3L25vZGUtdHlwZScpO1xuLy8gICAgIHZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuL3ZpZXcvY29tcG9uZW50Jyk7XG4vLyAgICAgdmFyIGNvbXBpbGVDb21wb25lbnQgPSByZXF1aXJlKCcuL3ZpZXcvY29tcGlsZS1jb21wb25lbnQnKTtcbi8vICAgICB2YXIgZGVmaW5lQ29tcG9uZW50ID0gcmVxdWlyZSgnLi92aWV3L2RlZmluZS1jb21wb25lbnQnKTtcbi8vICAgICB2YXIgZW1pdERldnRvb2wgPSByZXF1aXJlKCcuL3V0aWwvZW1pdC1kZXZ0b29sJyk7XG4vLyAgICAgdmFyIGNvbXBpbGVKU1NvdXJjZSA9IHJlcXVpcmUoJy4vdmlldy9jb21waWxlLWpzLXNvdXJjZScpO1xuLy8gICAgIHZhciBEYXRhID0gcmVxdWlyZSgnLi9ydW50aW1lL2RhdGEnKTtcbi8vICAgICB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuL3J1bnRpbWUvZXZhbC1leHByJyk7XG4vLyAgICAgdmFyIERhdGFUeXBlcyA9IHJlcXVpcmUoJy4vdXRpbC9kYXRhLXR5cGVzJyk7XG5cblxuICAgIHZhciBzYW4gPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzYW7niYjmnKzlj7dcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHZlcnNpb246ICczLjUuNycsXG5cbiAgICAgICAgLy8gI1tiZWdpbl0gZGV2dG9vbFxuICAgICAgICAvKipcbiAgICAgICAgICog5piv5ZCm5byA5ZCv6LCD6K+V44CC5byA5ZCv6LCD6K+V5pe2IGRldnRvb2wg5Lya5bel5L2cXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZGVidWc6IHRydWUsXG4gICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgIC8vICNbYmVnaW5dIHNzclxuLy8gICAgICAgICAvKipcbi8vICAgICAgICAgICog5bCG57uE5Lu257G757yW6K+R5oiQIHJlbmRlcmVyIOaWueazlVxuLy8gICAgICAgICAgKlxuLy8gICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb21wb25lbnRDbGFzcyDnu4Tku7bnsbtcbi8vICAgICAgICAgICogQHJldHVybiB7ZnVuY3Rpb24oT2JqZWN0KTpzdHJpbmd9XG4vLyAgICAgICAgICAqL1xuLy8gICAgICAgICBjb21waWxlVG9SZW5kZXJlcjogZnVuY3Rpb24gKENvbXBvbmVudENsYXNzKSB7XG4vLyAgICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBDb21wb25lbnRDbGFzcy5fX3NzclJlbmRlcmVyO1xuLy8gXG4vLyAgICAgICAgICAgICBpZiAoIXJlbmRlcmVyKSB7XG4vLyAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBjb21waWxlSlNTb3VyY2UoQ29tcG9uZW50Q2xhc3MpO1xuLy8gICAgICAgICAgICAgICAgIHJlbmRlcmVyID0gKG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyBjb2RlKSkoKTtcbi8vICAgICAgICAgICAgICAgICBDb21wb25lbnRDbGFzcy5fX3NzclJlbmRlcmVyID0gcmVuZGVyZXI7XG4vLyAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgIHJldHVybiByZW5kZXJlcjtcbi8vICAgICAgICAgfSxcbi8vIFxuLy8gICAgICAgICAvKipcbi8vICAgICAgICAgICog5bCG57uE5Lu257G757yW6K+R5oiQIHJlbmRlcmVyIOaWueazleeahOa6kOaWh+S7tlxuLy8gICAgICAgICAgKlxuLy8gICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb21wb25lbnRDbGFzcyDnu4Tku7bnsbtcbi8vICAgICAgICAgICogQHJldHVybiB7c3RyaW5nfVxuLy8gICAgICAgICAgKi9cbi8vICAgICAgICAgY29tcGlsZVRvU291cmNlOiBjb21waWxlSlNTb3VyY2UsXG4gICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDnu4Tku7bln7rnsbtcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgQ29tcG9uZW50OiBDb21wb25lbnQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOWIm+W7uue7hOS7tuexu1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8g57uE5Lu257G755qE5pa55rOV6KGoXG4gICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgZGVmaW5lQ29tcG9uZW50OiBkZWZpbmVDb21wb25lbnQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOe8luivkee7hOS7tuexu+OAgumihOino+aekHRlbXBsYXRl5ZKMY29tcG9uZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb21wb25lbnRDbGFzcyDnu4Tku7bnsbtcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBpbGVDb21wb25lbnQ6IGNvbXBpbGVDb21wb25lbnQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOino+aekCB0ZW1wbGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5uZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSB0ZW1wbGF0ZSDmupDnoIFcbiAgICAgICAgICogQHJldHVybiB7QU5vZGV9XG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZVRlbXBsYXRlOiBwYXJzZVRlbXBsYXRlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDop6PmnpDooajovr7lvI9cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSDmupDnoIFcbiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyc2VFeHByOiBwYXJzZUV4cHIsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOihqOi+vuW8j+exu+Wei+aemuS4vlxuICAgICAgICAgKlxuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIEV4cHJUeXBlOiBFeHByVHlwZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog55Sf5ZG95ZGo5pyfXG4gICAgICAgICAqL1xuICAgICAgICBMaWZlQ3ljbGU6IExpZmVDeWNsZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog6IqC54K557G75Z6LXG4gICAgICAgICAqXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgTm9kZVR5cGU6IE5vZGVUeXBlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDlnKjkuIvkuIDkuKrmm7TmlrDlkajmnJ/ov5DooYzlh73mlbBcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4g6KaB6L+Q6KGM55qE5Ye95pWwXG4gICAgICAgICAqL1xuICAgICAgICBuZXh0VGljazogbmV4dFRpY2ssXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOaVsOaNruexu1xuICAgICAgICAgKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3Q/fSBkYXRhIOWIneWni+aVsOaNrlxuICAgICAgICAgKiBAcGFyYW0ge0RhdGE/fSBwYXJlbnQg54i257qn5pWw5o2u5a+56LGhXG4gICAgICAgICAqL1xuICAgICAgICBEYXRhOiBEYXRhLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDorqHnrpfooajovr7lvI/nmoTlgLxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV4cHIg6KGo6L6+5byP5a+56LGhXG4gICAgICAgICAqIEBwYXJhbSB7RGF0YX0gZGF0YSDmlbDmja7lr7nosaFcbiAgICAgICAgICogQHBhcmFtIHtDb21wb25lbnQ9fSBvd25lciDnu4Tku7blr7nosaHvvIznlKjkuo7ooajovr7lvI/kuK1maWx0ZXLnmoTmiafooYxcbiAgICAgICAgICogQHJldHVybiB7Kn1cbiAgICAgICAgICovXG4gICAgICAgIGV2YWxFeHByOiBldmFsRXhwcixcblxuICAgICAgICAvKipcbiAgICAgICAgICog5p6E5bu657G75LmL6Ze055qE57un5om/5YWz57O7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YkNsYXNzIOWtkOexu+WHveaVsFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdXBlckNsYXNzIOeItuexu+WHveaVsFxuICAgICAgICAgKi9cbiAgICAgICAgaW5oZXJpdHM6IGluaGVyaXRzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhVHlwZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIERhdGFUeXBlczogRGF0YVR5cGVzXG4gICAgfTtcblxuICAgIC8vIGV4cG9ydFxuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gRm9yIENvbW1vbkpTXG4gICAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHNhbjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEZvciBBTURcbiAgICAgICAgZGVmaW5lKCdzYW4nLCBbXSwgc2FuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEZvciA8c2NyaXB0IHNyYz1cIi4uLlwiXG4gICAgICAgIHJvb3Quc2FuID0gc2FuO1xuICAgIH1cblxuICAgIC8vICNbYmVnaW5dIGRldnRvb2xcbiAgICBlbWl0RGV2dG9vbC5zdGFydChzYW4pO1xuICAgIC8vICNbZW5kXVxufSkodGhpcyk7XG4iLCJpbXBvcnQgc2FuLCB7RGF0YVR5cGVzfSBmcm9tICdzYW4nXHJcblxyXG5jb25zdCBBcHAgPSBzYW4uZGVmaW5lQ29tcG9uZW50KHtcclxuICAgIHRlbXBsYXRlOiBgXHJcbiAgICAgICAgPG1haW4+XHJcbiAgICAgICAgICAgIDxidXR0b24gb24tY2xpY2s9XCJhZGRcIj7mt7vliqDkv6Hmga88L2J1dHRvbj5cclxuICAgICAgICAgICAgPHRhYmxlIGJvcmRlcj1cIjFcIj5cclxuICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICA8dGg+5aeT5ZCNPC90aD48dGg+5a6h5qC454q25oCBPC90aD48dGg+5pON5L2cPC90aD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICA8dHIgcy1mb3I9XCJpLGluZGV4IGluIHBlcnNvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD57eyBpLm5hbWUgfX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD57eyBpLnN0YXR1cyB8IGp1ZGdlU3RhdHVzIH19PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gcy1pZj1cImkuc3RhdHVzID09IDBcIiBvbi1jbGljaz1cImF1ZGl0KGluZGV4KVwiPuWuoeaguDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHMtZWxzZSBvbi1jbGljaz1cImRlbGV0ZShpbmRleClcIj7liKDpmaQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICA8L21haW4+XHJcbiAgICBgLFxyXG4gICAgaW5pdERhdGE6ICgpID0+ICh7XHJcbiAgICAgICAgcGVyc29uOiBbXHJcbiAgICAgICAgXVxyXG4gICAgfSksXHJcbiAgICBhZGQ6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLnB1c2goJ3BlcnNvbicsIHtcclxuICAgICAgICAgICAgbmFtZTogcHJvbXB0KCfor7fovpPlhaXmt7vliqDogIXlp5PlkI0nKSxcclxuICAgICAgICAgICAgc3RhdHVzOiAwXHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBkZWxldGU6ZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgIHRoaXMuZGF0YS5yZW1vdmVBdChcInBlcnNvblwiLGluZGV4KTtcclxuICAgIH0sXHJcbiAgICBhdWRpdDpmdW5jdGlvbihpbmRleCl7XHJcbiAgICAgICAgdGhpcy5kYXRhLnNldChgcGVyc29uWyR7aW5kZXh9XS5zdGF0dXNgLGNvbmZpcm0oJ+aYr+WQpuWQiOagvCcpPzE6LTEpXHJcbiAgICB9LFxyXG4gICAgZmlsdGVyczp7XHJcbiAgICAgICAganVkZ2VTdGF0dXM6ZnVuY3Rpb24odmFsKXtcclxuICAgICAgICAgICAgaWYodmFsID09IDApe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICflvoXlrqHmoLgnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih2YWwgPT0gMSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ+WQiOagvCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICfkuI3lkIjmoLwnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59KVxyXG5cclxud2luZG93LmFwcCA9IG5ldyBBcHAoKTtcclxuYXBwLmF0dGFjaChkb2N1bWVudC5ib2R5KSJdLCJzb3VyY2VSb290IjoiIn0=